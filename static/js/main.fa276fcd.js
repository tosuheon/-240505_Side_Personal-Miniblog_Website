/*! For license information please see main.fa276fcd.js.LICENSE.txt */
(()=>{var e={730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Se=null,Ie=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return xe(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ie)&&(Ae(),Ce())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,Ve=null,Be={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Et,St,It,Tt,kt=!1,Ct=[],xt=null,At=null,Pt=null,Rt=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Bt(){kt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==At&&Ut(At)&&(At=null),null!==Pt&&Ut(Pt)&&(Pt=null),Rt.forEach(Vt),Nt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&jt(xt,e),null!==At&&jt(At,e),null!==Pt&&jt(Pt,e),Rt.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=_.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nt.set(s,Mt(Nt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&bt(s),null===(s=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),_n=sn(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return In}var kn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Rn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,be(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Sr={},Ir={};function Tr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Ar=Tr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(kr,"onAnimationEnd"),Nr(Cr,"onAnimationIteration"),Nr(xr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(je.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=be(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case kr:case Cr:case xr:l=vn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ne(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Kn(a))if(Jn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?_i(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Gr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=jn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ne(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Ne(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var Ei=[],Si=-1;function Ii(e){return{current:e}}function Ti(e){0>Si||(e.current=Ei[Si],Ei[Si]=null,Si--)}function ki(e,t){Si++,Ei[Si]=e.current,e.current=t}var Ci={},xi=Ii(Ci),Ai=Ii(!1),Pi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ai),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=xi.current,ki(xi,e),ki(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(xi),ki(xi,e)):Ti(Ai),ki(Ai,n)}var Ui=null,Vi=!1,Bi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,zi),i}finally{wt=t,Bi=!1}}return null}var qi=[],Ki=0,Hi=null,Gi=0,Wi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Ki++]=Gi,qi[Ki++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=_.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ii(null),ys=null,ws=null,_s=null;function bs(){_s=ws=ys=null}function Es(e){var t=vs.current;Ti(vs),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ys=e,_s=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var js={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Ni(t)?Pi:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Ni(t)?Pi:xi.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&js.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case E:return(t=Vc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Xi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=Gs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(o,r.mode,l)).return=r,r=s}return a(r);case N:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);Ws(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var $s=Ys(!0),Js=Ys(!1),Xs={},Zs=Ii(Xs),eo=Ii(Xs),to=Ii(Xs);function no(e){if(e===Xs)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Ii(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,_o=0,bo=0;function Eo(){throw Error(s(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,_o=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function To(){var e=0!==_o;return _o=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function xo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function No(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function jo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function qo(e,t){return jo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=xs(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Pl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(Co(),go.memoizedState,e)},useTransition:function(){return[Ao(xo)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Jo,useReducer:Po,useRef:Bo,useState:function(){return Po(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Xo(t,go.memoizedState,e)},useTransition:function(){return[Po(xo)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),da(0,t)},n}function ma(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=_.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?Js(t,null,n,r):$s(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Io(e,t,n,r,s,i),n=To(),null===e||_a?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ca(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ol,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,Dl),Dl|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ni(n)?Pi:xi.current;return s=Ri(t,s),Is(t,i),n=Io(e,t,n,r,s,i),r=To(),null===e||_a?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(Ni(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ka(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ri(t,c=Ni(n)?Pi:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ks(t,o,r,c),Ps=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Ps?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=Ps||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ns(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Ri(t,l=Ni(n)?Pi:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ks(t,o,r,l),Ps=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Ps?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=Ps||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ha(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Na,Da,Oa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,As(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Ji,Wi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Oc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ja(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ss(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n,t);else if(19===e.tag)ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Ni(t.type)&&Di(),Wa(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(xi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Da(e,t),Wa(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return io(),Da(e,t),null===e&&zr(t.stateNode.containerInfo),Wa(t),null;case 10:return Es(t.type._context),Wa(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(xi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Sl(i):null!==l?(l.return=o,Za=l):Sl(i);for(;null!==s;)Za=s,_l(s,t,n),s=s.sibling;Za=i,$a=a,Ja=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Il,Tl=Math.ceil,kl=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,xl=_.ReactCurrentBatchConfig,Al=0,Pl=null,Rl=null,Nl=0,Dl=0,Ol=Ii(0),Ll=0,Ml=null,Fl=0,Ul=0,Vl=0,Bl=null,jl=null,zl=0,ql=1/0,Kl=null,Hl=!1,Gl=null,Wl=null,Ql=!1,Yl=null,$l=0,Jl=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Ul|=n),4===Ll&&lc(e,Nl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Je()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&Al)&&zi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Al;Al|=2;var o=mc();for(Pl===e&&Nl===t||(Kl=null,ql=Je()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}bs(),kl.current=o,Al=i,null!==Rl?t=0:(Pl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,jl,Kl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,jl,Kl),t);break}Ec(e,jl,Kl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,jl,Kl),r);break}Ec(e,jl,Kl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=jl,jl=n,null!==t&&ac(t)),e}function ac(e){null===jl?jl=e:jl.push.apply(jl,e)}function lc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,jl,Kl),ic(e,Je()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Je()+500,Vi&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Sc();var t=Al;Al|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Al=t))&&zi()}}function dc(){Dl=Ol.current,Ti(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ti(Ai),Ti(xi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Rl=e=Oc(e.current,null),Nl=Dl=t,Ll=0,Ml=null,Vl=Ul=Fl=0,jl=Bl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(bs(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,_o=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wl||!Wl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(_){t=_,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Fl)&&0===(268435455&Ul)||lc(Pl,Nl)}function vc(e,t){var n=Al;Al|=2;var r=mc();for(Pl===e&&Nl===t||(Kl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(bs(),Al=n,kl.current=r,null!==Rl)throw Error(s(261));return Pl=null,Nl=0,Ll}function yc(){for(;null!==Rl;)_c(Rl)}function wc(){for(;null!==Rl&&!Ye();)_c(Rl)}function _c(e){var t=Il(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ec(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pl&&(Rl=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Pc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(b){Tc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),$e(),Al=l,wt=a,xl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,zi()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Sc(){if(null!==Yl){var e=_t($l),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var _=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Za=_;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){Tc(l,l.return,E)}if(l===a){Za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Za=b;break e}Za=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Ic(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Je()-zl?fc(e,0):Vl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(vt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return We(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case I:a=8,i|=8;break;case T:return(e=Nc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case x:a=11;break e;case R:a=14;break e;case N:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=jc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ds(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rc(e,i,o,s),Ls(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fs();break;case 5:so(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(ki(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ha(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Is(t,n),i=Io(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=js,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ns(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ss(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ss(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Ts(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Sa(e,t,r,i=gs(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ka(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Is(t,n),qs(t,r,i),Hs(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Al)&&(ql=Je()+500,zi()))}break;case 13:hc((function(){var t=As(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},It=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));W(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[wi,_i,bi,ke,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=w.prototype=new y;_.constructor=w,m(_,v.prototype),_.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+x(a=e[c],c);l+=A(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=s+x(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,D(E);else{var t=r(u);null!==t&&O(b,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,T=null,k=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function P(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?S():(I=!1,T=null)}}else I=!1}if("function"===typeof w)S=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,N=R.port2;R.port1.onmessage=P,S=function(){N.postMessage(null)}}else S=function(){v(P,0)};function D(e){T=e,I||(I=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Dr,SDK_VERSION:()=>ji,_DEFAULT_ENTRY_NAME:()=>Ti,_addComponent:()=>Pi,_addOrOverwriteComponent:()=>Ri,_apps:()=>Ci,_clearComponents:()=>Fi,_components:()=>Ai,_getProvider:()=>Di,_isFirebaseApp:()=>Li,_isFirebaseServerApp:()=>Mi,_registerComponent:()=>Ni,_removeServiceInstance:()=>Oi,_serverApps:()=>xi,deleteApp:()=>Gi,getApp:()=>Ki,getApps:()=>Hi,initializeApp:()=>zi,initializeServerApp:()=>qi,onLog:()=>Qi,registerVersion:()=>Wi,setLogLevel:()=>Yi});var t,r=n(43),i=n.t(r,2),s=n(391),o=n(950),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:_.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let _={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),m=e,()=>{s.removeEventListener(c,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(_.location,e,n);r&&r(i,e),g=v()+1;let l=d(i,g),c=_.createHref(i);try{a.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}o&&m&&m({action:h,location:_.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(_.location,e,n);r&&r(i,e),g=v();let s=d(i,g),l=_.createHref(i);a.replaceState(s,"",l),o&&m&&m({action:h,location:_.location,delta:0})},go:e=>a.go(e)};return _}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=R(r);s=A(i[o],e)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:x(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,E=3,S=2,I=1,T=10,k=-2,C=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=S),n.filter((e=>!C(e))).reduce(((e,t)=>e+(b.test(t)?E:""===t?I:T)),r)}function A(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:F([i,c.pathname]),pathnameBase:U(F([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:B(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const H=r.createContext(null);const G=r.createContext(null);const W=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function J(){return null!=r.useContext(Q)}function X(){return J()||u(!1),r.useContext(Q).location}function Z(e){r.useContext(W).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ce(ae.UseNavigateStable),t=he(le.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t]);return i}():function(){J()||u(!1);let e=r.useContext(H),{basename:t,future:n,navigator:i}=r.useContext(W),{matches:s}=r.useContext(Y),{pathname:o}=X(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return Z((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=M(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function te(e,n,i,s){J()||u(!1);let{navigator:o}=r.useContext(W),{matches:a}=r.useContext(Y),l=a[a.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=X();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=y(e,{pathname:v});let _=oe(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&_?r.createElement(Q.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},_):_}function ne(){let e=function(){var e;let t=r.useContext($),n=ue(le.UseRouteError),i=he(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function oe(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||re,c&&(h<0&&0===s?(p="route-fallback",!1||de[p]||(de[p]=!0),u=!0,f=null):h===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(se,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(H);return t||u(!1),t}function ue(e){let t=r.useContext(G);return t||u(!1),t}function he(e){let t=function(e){let t=r.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const de={};i.startTransition;function fe(e){u(!1)}function pe(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:c}=e;J()&&u(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)})),[h,c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,w=r.useMemo((()=>{let e=N(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[h,f,p,g,v,y,o]);return null==w?null:r.createElement(W.Provider,{value:d},r.createElement(Q.Provider,{children:i,value:w}))}function me(e){let{children:t,location:n}=e;return te(ge(t),n)}new Promise((()=>{}));r.Component;function ge(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ge(e.props.children,s));e.type!==fe&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ge(e.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(uR){}new Map;const ve=i.startTransition;a.flushSync,i.useId;function ye(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&ve?ve((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(pe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var we,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ee.apply(this,arguments)};Object.create;function Se(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ie=n(324),Te=n.n(Ie),ke="-ms-",Ce="-moz-",xe="-webkit-",Ae="comm",Pe="rule",Re="decl",Ne="@import",De="@keyframes",Oe="@layer",Le=Math.abs,Me=String.fromCharCode,Fe=Object.assign;function Ue(e){return e.trim()}function Ve(e,t){return(e=t.exec(e))?e[0]:e}function Be(e,t,n){return e.replace(t,n)}function je(e,t,n){return e.indexOf(t,n)}function ze(e,t){return 0|e.charCodeAt(t)}function qe(e,t,n){return e.slice(t,n)}function Ke(e){return e.length}function He(e){return e.length}function Ge(e,t){return t.push(e),e}function We(e,t){return e.filter((function(e){return!Ve(e,t)}))}var Qe=1,Ye=1,$e=0,Je=0,Xe=0,Ze="";function et(e,t,n,r,i,s,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Qe,column:Ye,length:o,return:"",siblings:a}}function tt(e,t){return Fe(et("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function nt(e){for(;e.root;)e=tt(e.root,{children:[e]});Ge(e,e.siblings)}function rt(){return Xe=Je>0?ze(Ze,--Je):0,Ye--,10===Xe&&(Ye=1,Qe--),Xe}function it(){return Xe=Je<$e?ze(Ze,Je++):0,Ye++,10===Xe&&(Ye=1,Qe++),Xe}function st(){return ze(Ze,Je)}function ot(){return Je}function at(e,t){return qe(Ze,e,t)}function lt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ct(e){return Qe=Ye=1,$e=Ke(Ze=e),Je=0,[]}function ut(e){return Ze="",e}function ht(e){return Ue(at(Je-1,pt(91===e?e+2:40===e?e+1:e)))}function dt(e){for(;(Xe=st())&&Xe<33;)it();return lt(e)>2||lt(Xe)>3?"":" "}function ft(e,t){for(;--t&&it()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return at(e,ot()+(t<6&&32==st()&&32==it()))}function pt(e){for(;it();)switch(Xe){case e:return Je;case 34:case 39:34!==e&&39!==e&&pt(Xe);break;case 40:41===e&&pt(e);break;case 92:it()}return Je}function mt(e,t){for(;it()&&e+Xe!==57&&(e+Xe!==84||47!==st()););return"/*"+at(t,Je-1)+"*"+Me(47===e?e:it())}function gt(e){for(;!lt(st());)it();return at(e,Je)}function vt(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function yt(e,t,n,r){switch(e.type){case Oe:if(e.children.length)break;case Ne:case Re:return e.return=e.return||e.value;case Ae:return"";case De:return e.return=e.value+"{"+vt(e.children,r)+"}";case Pe:if(!Ke(e.value=e.props.join(",")))return""}return Ke(n=vt(e.children,r))?e.return=e.value+"{"+n+"}":""}function wt(e,t,n){switch(function(e,t){return 45^ze(e,0)?(((t<<2^ze(e,0))<<2^ze(e,1))<<2^ze(e,2))<<2^ze(e,3):0}(e,t)){case 5103:return xe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xe+e+e;case 4789:return Ce+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xe+e+Ce+e+ke+e+e;case 5936:switch(ze(e,t+11)){case 114:return xe+e+ke+Be(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xe+e+ke+Be(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xe+e+ke+Be(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return xe+e+ke+e+e;case 6165:return xe+e+ke+"flex-"+e+e;case 5187:return xe+e+Be(e,/(\w+).+(:[^]+)/,xe+"box-$1$2"+ke+"flex-$1$2")+e;case 5443:return xe+e+ke+"flex-item-"+Be(e,/flex-|-self/g,"")+(Ve(e,/flex-|baseline/)?"":ke+"grid-row-"+Be(e,/flex-|-self/g,""))+e;case 4675:return xe+e+ke+"flex-line-pack"+Be(e,/align-content|flex-|-self/g,"")+e;case 5548:return xe+e+ke+Be(e,"shrink","negative")+e;case 5292:return xe+e+ke+Be(e,"basis","preferred-size")+e;case 6060:return xe+"box-"+Be(e,"-grow","")+xe+e+ke+Be(e,"grow","positive")+e;case 4554:return xe+Be(e,/([^-])(transform)/g,"$1"+xe+"$2")+e;case 6187:return Be(Be(Be(e,/(zoom-|grab)/,xe+"$1"),/(image-set)/,xe+"$1"),e,"")+e;case 5495:case 3959:return Be(e,/(image-set\([^]*)/,xe+"$1$`$1");case 4968:return Be(Be(e,/(.+:)(flex-)?(.*)/,xe+"box-pack:$3"+ke+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xe+e+e;case 4200:if(!Ve(e,/flex-|baseline/))return ke+"grid-column-align"+qe(e,t)+e;break;case 2592:case 3360:return ke+Be(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Ve(e.props,/grid-\w+-end/)}))?~je(e+(n=n[t].value),"span",0)?e:ke+Be(e,"-start","")+e+ke+"grid-row-span:"+(~je(n,"span",0)?Ve(n,/\d+/):+Ve(n,/\d+/)-+Ve(e,/\d+/))+";":ke+Be(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Ve(e.props,/grid-\w+-start/)}))?e:ke+Be(Be(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Be(e,/(.+)-inline(.+)/,xe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ke(e)-1-t>6)switch(ze(e,t+1)){case 109:if(45!==ze(e,t+4))break;case 102:return Be(e,/(.+:)(.+)-([^]+)/,"$1"+xe+"$2-$3$1"+Ce+(108==ze(e,t+3)?"$3":"$2-$3"))+e;case 115:return~je(e,"stretch",0)?wt(Be(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Be(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,o,a){return ke+n+":"+r+a+(i?ke+n+"-span:"+(s?o:+o-+r)+a:"")+e}));case 4949:if(121===ze(e,t+6))return Be(e,":",":"+xe)+e;break;case 6444:switch(ze(e,45===ze(e,14)?18:11)){case 120:return Be(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xe+(45===ze(e,14)?"inline-":"")+"box$3$1"+xe+"$2$3$1"+ke+"$2box$3")+e;case 100:return Be(e,":",":"+ke)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Be(e,"scroll-","scroll-snap-")+e}return e}function _t(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Re:return void(e.return=wt(e.value,e.length,n));case De:return vt([tt(e,{value:Be(e.value,"@","@"+xe)})],r);case Pe:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Ve(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":nt(tt(e,{props:[Be(t,/:(read-\w+)/,":"+Ce+"$1")]})),nt(tt(e,{props:[t]})),Fe(e,{props:We(n,r)});break;case"::placeholder":nt(tt(e,{props:[Be(t,/:(plac\w+)/,":"+xe+"input-$1")]})),nt(tt(e,{props:[Be(t,/:(plac\w+)/,":"+Ce+"$1")]})),nt(tt(e,{props:[Be(t,/:(plac\w+)/,ke+"input-$1")]})),nt(tt(e,{props:[t]})),Fe(e,{props:We(n,r)})}return""}))}}function bt(e){return ut(Et("",null,null,null,[""],e=ct(e),0,[0],e))}function Et(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,w="",_=i,b=s,E=r,S=w;g;)switch(p=y,y=it()){case 40:if(108!=p&&58==ze(S,h-1)){-1!=je(S+=Be(ht(y),"&","&\f"),"&\f",Le(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=ht(y);break;case 9:case 10:case 13:case 32:S+=dt(p);break;case 92:S+=ft(ot()-1,7);continue;case 47:switch(st()){case 42:case 47:Ge(It(mt(it(),ot()),t,n,l),l);break;default:S+="/"}break;case 123*m:a[c++]=Ke(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Be(S,/\f/g,"")),f>0&&Ke(S)-h&&Ge(f>32?Tt(S+";",r,n,h-1,l):Tt(Be(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Ge(E=St(S,t,n,c,u,i,a,w,_=[],b=[],h,s),s),123===y)if(0===u)Et(S,t,E,E,_,s,h,a,b);else switch(99===d&&110===ze(S,3)?100:d){case 100:case 108:case 109:case 115:Et(e,E,E,r&&Ge(St(e,E,E,0,0,i,a,w,i,_=[],h,b),b),i,b,h,a,r?_:b);break;default:Et(S,E,E,E,[""],b,0,a,b)}}c=u=f=0,m=v=1,w=S="",h=o;break;case 58:h=1+Ke(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==rt())continue;switch(S+=Me(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Ke(S)-1)*v,v=1;break;case 64:45===st()&&(S+=ht(it())),d=st(),u=h=Ke(w=S+=gt(ot())),y++;break;case 45:45===p&&2==Ke(S)&&(m=0)}}return s}function St(e,t,n,r,i,s,o,a,l,c,u,h){for(var d=i-1,f=0===i?s:[""],p=He(f),m=0,g=0,v=0;m<r;++m)for(var y=0,w=qe(e,d+1,d=Le(g=o[m])),_=e;y<p;++y)(_=Ue(g>0?f[y]+" "+w:Be(w,/&\f/g,f[y])))&&(l[v++]=_);return et(e,t,n,0===i?Pe:a,l,c,u,h)}function It(e,t,n,r){return et(e,t,n,Ae,Me(Xe),qe(e,2,-2),0,r)}function Tt(e,t,n,r,i){return et(e,t,n,Re,qe(e,0,r),qe(e,r+1,-1),r,i)}const kt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ct="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}&&({NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.SC_ATTR)||"data-styled",xt="active",At="data-styled-version",Pt="6.1.8",Rt="/*!sc*/\n",Nt="undefined"!=typeof window&&"HTMLElement"in window,Dt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.SC_DISABLE_SPEEDY)),Ot=(new Set,Object.freeze([])),Lt=Object.freeze({});function Mt(e,t,n){return void 0===n&&(n=Lt),e.theme!==n.theme&&e.theme||t||n.theme}var Ft=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ut=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Vt=/(^-|-$)/g;function Bt(e){return e.replace(Ut,"-").replace(Vt,"")}var jt=/(a)(d)/gi,zt=52,qt=function(e){return String.fromCharCode(e+(e>25?39:97))};function Kt(e){var t,n="";for(t=Math.abs(e);t>zt;t=t/zt|0)n=qt(t%zt)+n;return(qt(t%zt)+n).replace(jt,"$1-$2")}var Ht,Gt=5381,Wt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Qt=function(e){return Wt(Gt,e)};function Yt(e){return Kt(Qt(e)>>>0)}function $t(e){return e.displayName||e.name||"Component"}function Jt(e){return"string"==typeof e&&!0}var Xt="function"==typeof Symbol&&Symbol.for,Zt=Xt?Symbol.for("react.memo"):60115,en=Xt?Symbol.for("react.forward_ref"):60112,tn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nn={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sn=((Ht={})[en]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ht[Zt]=rn,Ht);function on(e){return("type"in(t=e)&&t.type.$$typeof)===Zt?rn:"$$typeof"in e?sn[e.$$typeof]:tn;var t}var an=Object.defineProperty,ln=Object.getOwnPropertyNames,cn=Object.getOwnPropertySymbols,un=Object.getOwnPropertyDescriptor,hn=Object.getPrototypeOf,dn=Object.prototype;function fn(e,t,n){if("string"!=typeof t){if(dn){var r=hn(t);r&&r!==dn&&fn(e,r,n)}var i=ln(t);cn&&(i=i.concat(cn(t)));for(var s=on(e),o=on(t),a=0;a<i.length;++a){var l=i[a];if(!(l in nn||n&&n[l]||o&&l in o||s&&l in s)){var c=un(t,l);try{an(e,l,c)}catch(e){}}}}return e}function pn(e){return"function"==typeof e}function mn(e){return"object"==typeof e&&"styledComponentId"in e}function gn(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function vn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function yn(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function wn(e,t,n){if(void 0===n&&(n=!1),!n&&!yn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=wn(e[r],t[r]);else if(yn(t))for(var r in t)e[r]=wn(e[r],t[r]);return e}function _n(e,t){Object.defineProperty(e,"toString",{value:t})}function bn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var En=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw bn(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(e+1),a=(s=0,t.length);s<a;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(Rt);return t},e}(),Sn=new Map,In=new Map,Tn=1,kn=function(e){if(Sn.has(e))return Sn.get(e);for(;In.has(Tn);)Tn++;var t=Tn++;return Sn.set(e,t),In.set(t,e),t},Cn=function(e,t){Tn=t+1,Sn.set(e,t),In.set(t,e)},xn="style[".concat(Ct,"][").concat(At,'="').concat(Pt,'"]'),An=new RegExp("^".concat(Ct,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Pn=function(e,t,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&e.registerName(t,r)},Rn=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Rt),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(An);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Cn(u,c),Pn(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function Nn(){return n.nc}var Dn=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Ct,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(Ct,xt),r.setAttribute(At,Pt);var o=Nn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},On=function(){function e(e){this.element=Dn(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw bn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Ln=function(){function e(e){this.element=Dn(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Mn=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Fn=Nt,Un={isServer:!Nt,useCSSOMInjection:!Dt},Vn=function(){function e(e,t,n){void 0===e&&(e=Lt),void 0===t&&(t={});var r=this;this.options=Ee(Ee({},Un),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Nt&&Fn&&(Fn=!1,function(e){for(var t=document.querySelectorAll(xn),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Ct)!==xt&&(Rn(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),_n(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return In.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),o=t.getGroup(n);if(void 0===s||0===o.length)return"continue";var a="".concat(Ct,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(Rt)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return kn(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ee(Ee({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Mn(n):t?new On(n):new Ln(n)}(this.options),new En(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(kn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(kn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(kn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Bn=/&/g,jn=/^\s*\/\/.*$/gm;function zn(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=zn(e.children,t)),e}))}function qn(e){var t,n,r,i=void 0===e?Lt:e,s=i.options,o=void 0===s?Lt:s,a=i.plugins,l=void 0===a?Ot:a,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===Pe&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Bn,n).replace(r,c))})),o.prefix&&u.push(_t),u.push(yt);var h=function(e,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),t=a,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(jn,""),c=bt(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(c=zn(c,o.namespace));var h,d=[];return vt(c,function(e){var t=He(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}(u.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce((function(e,t){return t.name||bn(15),Wt(e,t.name)}),Gt).toString():"",h}var Kn=new Vn,Hn=qn(),Gn=r.createContext({shouldForwardProp:void 0,styleSheet:Kn,stylis:Hn}),Wn=(Gn.Consumer,r.createContext(void 0));function Qn(){return(0,r.useContext)(Gn)}function Yn(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],s=Qn().styleSheet,o=(0,r.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,r.useMemo)((function(){return qn({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){Te()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}}),[e.shouldForwardProp,o,a]);return r.createElement(Gn.Provider,{value:l},r.createElement(Wn.Provider,{value:a},e.children))}var $n=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Hn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,_n(this,(function(){throw bn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Hn),this.name+e.hash},e}(),Jn=function(e){return e>="A"&&e<="Z"};function Xn(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Jn(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Zn=function(e){return null==e||!1===e||""===e},er=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!Zn(s)&&(Array.isArray(s)&&s.isCss||pn(s)?r.push("".concat(Xn(i),":"),s,";"):yn(s)?r.push.apply(r,Se(Se(["".concat(i," {")],er(s),!1),["}"],!1)):r.push("".concat(Xn(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in kt||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function tr(e,t,n,r){return Zn(e)?[]:mn(e)?[".".concat(e.styledComponentId)]:pn(e)?!pn(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:tr(e(t),t,n,r):e instanceof $n?n?(e.inject(n,r),[e.getName(r)]):[e]:yn(e)?er(e):Array.isArray(e)?Array.prototype.concat.apply(Ot,e.map((function(e){return tr(e,t,n,r)}))):[e.toString()];var i}function nr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pn(n)&&!mn(n))return!1}return!0}var rr=Qt(Pt),ir=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&nr(e),this.componentId=t,this.baseHash=Wt(rr,t),this.baseStyle=n,Vn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=gn(r,this.staticRulesId);else{var i=vn(tr(this.rules,e,t,n)),s=Kt(Wt(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var o=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,o)}r=gn(r,s),this.staticRulesId=s}else{for(var a=Wt(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=vn(tr(u,e,t,n));a=Wt(a,h+c),l+=h}}if(l){var d=Kt(a>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=gn(r,d)}}return r},e}(),sr=r.createContext(void 0);sr.Consumer;var or={};new Set;function ar(e,t,n){var i=mn(e),s=e,o=!Jt(e),a=t.attrs,l=void 0===a?Ot:a,c=t.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Bt(e);or[n]=(or[n]||0)+1;var r="".concat(n,"-").concat(Yt(Pt+n+or[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,h=t.displayName,d=void 0===h?function(e){return Jt(e)?"styled.".concat(e):"Styled(".concat($t(e),")")}(e):h,f=t.displayName&&t.componentId?"".concat(Bt(t.displayName),"-").concat(t.componentId):t.componentId||u,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,m=t.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new ir(n,f,i?s.componentStyle:void 0);function w(e,t){return function(e,t,n){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=r.useContext(sr),h=Qn(),d=e.shouldForwardProp||h.shouldForwardProp,f=Mt(t,u,o)||Lt,p=function(e,t,n){for(var r,i=Ee(Ee({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var o=pn(r=e[s])?r(i):r;for(var a in o)i[a]="className"===a?gn(i[a],o[a]):"style"===a?Ee(Ee({},i[a]),o[a]):o[a]}return t.className&&(i.className=gn(i.className,t.className)),i}(i,t,f),m=p.as||c,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=Qn();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,p),w=gn(a,l);return y&&(w+=" "+y),p.className&&(w+=" "+p.className),g[Jt(m)&&!Ft.has(m)?"class":"className"]=w,g.ref=n,(0,r.createElement)(m,g)}(_,e,t)}w.displayName=d;var _=r.forwardRef(w);return _.attrs=p,_.componentStyle=y,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=i?gn(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=f,_.target=i?s.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)wn(e,i[r],!0);return e}({},s.defaultProps,e):e}}),_n(_,(function(){return".".concat(_.styledComponentId)})),o&&fn(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function lr(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var cr=function(e){return Object.assign(e,{isCss:!0})};function ur(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pn(e)||yn(e))return cr(tr(lr(Ot,Se([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?tr(r):cr(tr(lr(r,t)))}function hr(e,t,n){if(void 0===n&&(n=Lt),!t)throw bn(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,ur.apply(void 0,Se([r],i,!1)))};return r.attrs=function(r){return hr(e,t,Ee(Ee({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return hr(e,t,Ee(Ee({},n),r))},r}var dr=function(e){return hr(ar,e)},fr=dr;Ft.forEach((function(e){fr[e]=dr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=nr(e),Vn.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(vn(tr(this.rules,t,n,r)),""),s=this.componentId+e;n.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Vn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=Nn(),r=vn([n&&'nonce="'.concat(n,'"'),"".concat(Ct,'="true"'),"".concat(At,'="').concat(Pt,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw bn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw bn(2);var n=((t={})[Ct]="",t[At]=Pt,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=Nn();return i&&(n.nonce=i),[r.createElement("style",Ee({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Vn({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw bn(2);return r.createElement(Yn,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw bn(3)}})(),"__sc-".concat(Ct,"__");const pr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},mr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new gr;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vr=function(e){return function(e){const t=pr(e);return mr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yr=function(e){try{return mr.decodeString(e,!0)}catch(uR){console.error("base64Decode failed: ",uR)}return null};function wr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wr(e[n],t[n]));return e}const _r=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,br=()=>{try{return _r()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/-240505_Side_Personal-Miniblog_Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API_KEY:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",REACT_APP_FB_AUTH_DOMAIN:"side-personal-miniblog-develop.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"side-personal-miniblog-develop",REACT_APP_FB_STORAGE_BUCKET:"side-personal-miniblog-develop.appspot.com",REACT_APP_FB_MESSAGING_SENDER_ID:"486034230711",REACT_APP_FB_API_ID:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(uR){return}const t=e&&yr(e[1]);return t&&JSON.parse(t)})()}catch(uR){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(uR))}},Er=()=>{var e;return null===(e=br())||void 0===e?void 0:e.config};class Sr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ir(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vr(JSON.stringify({alg:"none",type:"JWT"})),vr(JSON.stringify(s)),""].join(".")}function Tr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kr(){var e;const t=null===(e=br())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uR){return!1}}function Cr(){return"object"===typeof self&&self.self===self}function xr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ar(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pr(){const e=Tr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Rr(){return!kr()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nr(){try{return"object"===typeof indexedDB}catch(uR){return!1}}class Dr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Lr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Dr(n,s,t)}}const Lr=/\{\$([^}]+)}/g;function Mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ur(n)&&Ur(s)){if(!Fr(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ur(e){return null!==e&&"object"===typeof e}function Vr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Br(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function jr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function zr(e,t){const n=new qr(e,t);return n.subscribe.bind(n)}class qr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Kr),void 0===r.error&&(r.error=Kr),void 0===r.complete&&(r.complete=Kr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(uR){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(uR){"undefined"!==typeof console&&console.error&&console.error(uR)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Kr(){}function Hr(e){return e&&e._delegate?e._delegate:e}class Gr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class Qr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Sr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(uR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uR){if(r)return null;throw uR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch(uR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(uR){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yr(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wr;return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Yr(e){return e===Wr?void 0:e}class $r{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Jr=[];var Xr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xr||(Xr={}));const Zr={debug:Xr.DEBUG,verbose:Xr.VERBOSE,info:Xr.INFO,warn:Xr.WARN,error:Xr.ERROR,silent:Xr.SILENT},ei=Xr.INFO,ti={[Xr.DEBUG]:"log",[Xr.VERBOSE]:"log",[Xr.INFO]:"info",[Xr.WARN]:"warn",[Xr.ERROR]:"error"},ni=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ti[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ri{constructor(e){this.name=e,this._logLevel=ei,this._logHandler=ni,this._userLogHandler=null,Jr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Zr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xr.DEBUG,...t),this._logHandler(this,Xr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xr.VERBOSE,...t),this._logHandler(this,Xr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xr.INFO,...t),this._logHandler(this,Xr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xr.WARN,...t),this._logHandler(this,Xr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Xr.ERROR,...t),this._logHandler(this,Xr.ERROR,...t)}}const ii=(e,t)=>t.some((t=>e instanceof t));let si,oi;const ai=new WeakMap,li=new WeakMap,ci=new WeakMap,ui=new WeakMap,hi=new WeakMap;let di={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return li.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ci.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(oi||(oi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gi(this),n),mi(ai.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mi(e.apply(gi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(gi(this),t,...r);return ci.set(s,t.sort?t.sort():[t]),mi(s)}}function pi(e){return"function"===typeof e?fi(e):(e instanceof IDBTransaction&&function(e){if(li.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));li.set(e,t)}(e),ii(e,si||(si=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,di):e)}function mi(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(mi(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ai.set(t,e)})).catch((()=>{})),hi.set(t,e),t}(e);if(ui.has(e))return ui.get(e);const t=pi(e);return t!==e&&(ui.set(e,t),hi.set(t,e)),t}const gi=e=>hi.get(e);const vi=["get","getKey","getAll","getAllKeys","count"],yi=["put","add","delete","clear"],wi=new Map;function _i(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wi.get(t))return wi.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yi.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vi.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return wi.set(t,s),s}di=(e=>({...e,get:(t,n,r)=>_i(t,n)||e.get(t,n,r),has:(t,n)=>!!_i(t,n)||e.has(t,n)}))(di);class bi{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ei="@firebase/app",Si="0.10.1",Ii=new ri("@firebase/app"),Ti="[DEFAULT]",ki={[Ei]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ci=new Map,xi=new Map,Ai=new Map;function Pi(e,t){try{e.container.addComponent(t)}catch(uR){Ii.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uR)}}function Ri(e,t){e.container.addOrOverwriteComponent(t)}function Ni(e){const t=e.name;if(Ai.has(t))return Ii.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ai.set(t,e);for(const n of Ci.values())Pi(n,e);for(const n of xi.values())Pi(n,e);return!0}function Di(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ti;Di(e,t).clearInstance(n)}function Li(e){return void 0!==e.options}function Mi(e){return void 0!==e.settings}function Fi(){Ai.clear()}const Ui=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}class Bi extends Vi{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Wi(Ei,Si,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Gi(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ui.create("server-app-deleted")}}const ji="10.11.0";function zi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ti,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(n||(n=Er()),!n)throw Ui.create("no-options");const s=Ci.get(i);if(s){if(Fr(n,s.options)&&Fr(r,s.config))return s;throw Ui.create("duplicate-app",{appName:i})}const o=new $r(i);for(const l of Ai.values())o.addComponent(l);const a=new Vi(n,r,o);return Ci.set(i,a),a}function qi(e,t){if(Cr())throw Ui.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Li(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Ui.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=xi.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new $r(i);for(const c of Ai.values())a.addComponent(c);const l=new Bi(n,t,i,a);return xi.set(i,l),l}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti;const t=Ci.get(e);if(!t&&e===Ti&&Er())return zi();if(!t)throw Ui.create("no-app",{appName:e});return t}function Hi(){return Array.from(Ci.values())}async function Gi(e){let t=!1;const n=e.name;if(Ci.has(n))t=!0,Ci.delete(n);else if(xi.has(n)){e.decRefCount()<=0&&(xi.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Wi(e,t,n){var r;let i=null!==(r=ki[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ii.warn(e.join(" "))}Ni(new Gr("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Qi(e,t){if(null!==e&&"function"!==typeof e)throw Ui.create("invalid-log-argument");!function(e,t){for(const n of Jr){let r=null;t&&t.level&&(r=Zr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Xr[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Yi(e){var t;t=e,Jr.forEach((e=>{e.setLogLevel(t)}))}const $i="firebase-heartbeat-database",Ji=1,Xi="firebase-heartbeat-store";let Zi=null;function es(){return Zi||(Zi=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=mi(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(mi(o.result),e.oldVersion,e.newVersion,mi(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}($i,Ji,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xi)}catch(uR){console.warn(uR)}}}).catch((e=>{throw Ui.create("idb-open",{originalErrorMessage:e.message})}))),Zi}async function ts(e,t){try{const n=(await es()).transaction(Xi,"readwrite"),r=n.objectStore(Xi);await r.put(t,ns(e)),await n.done}catch(uR){if(uR instanceof Dr)Ii.warn(uR.message);else{const t=Ui.create("idb-set",{originalErrorMessage:null===uR||void 0===uR?void 0:uR.message});Ii.warn(t.message)}}}function ns(e){return"".concat(e.name,"!").concat(e.options.appId)}class rs{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ss(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=is();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=is(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),os(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),os(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=vr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function is(){return(new Date).toISOString().substring(0,10)}class ss{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Nr()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await es()).transaction(Xi),n=await t.objectStore(Xi).get(ns(e));return await t.done,n}catch(uR){if(uR instanceof Dr)Ii.warn(uR.message);else{const t=Ui.create("idb-get",{originalErrorMessage:null===uR||void 0===uR?void 0:uR.message});Ii.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ts(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ts(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function os(e){return vr(JSON.stringify({version:2,heartbeats:e})).length}var as;as="",Ni(new Gr("platform-logger",(e=>new bi(e)),"PRIVATE")),Ni(new Gr("heartbeat",(e=>new rs(e)),"PRIVATE")),Wi(Ei,Si,as),Wi(Ei,Si,"esm2017"),Wi("fire-js","");class ls{constructor(e,t){this._delegate=e,this.firebase=t,Pi(e,new Gr("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Gi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ti;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Pi(this._delegate,e)}_addOrOverwriteComponent(e){Ri(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const cs=new Or("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const us=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=zi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Mr(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Wi,setLogLevel:Yi,onLog:Qi,apps:null,SDK_VERSION:ji,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Ni(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw cs.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&wr(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Mr(n,e=e||Ti))throw cs.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ls);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wr(n,e)},createSubscribe:zr,ErrorFactory:Or,deepExtend:wr}),n}(),hs=new ri("@firebase/app-compat");if(Cr()&&void 0!==self.firebase){hs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&hs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ds=us;!function(e){Wi("@firebase/app-compat","0.2.31",e)}();ds.registerVersion("firebase","10.11.0","app-compat");function fs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ps={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ms="EMAIL_SIGNIN",gs="PASSWORD_RESET",vs="RECOVER_EMAIL",ys="REVERT_SECOND_FACTOR_ADDITION",ws="VERIFY_AND_CHANGE_EMAIL",_s="VERIFY_EMAIL";function bs(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Es=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ss=bs,Is=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ts=new ri("@firebase/auth");function ks(e){if(Ts.logLevel<=Xr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ts.error("Auth (".concat(ji,"): ").concat(e),...n)}}function Cs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ns(e,...n)}function xs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ns(e,...n)}function As(e,t,n){const r=Object.assign(Object.assign({},Ss()),{[t]:n});return new Or("auth","Firebase",r).create(t,{appName:e.name})}function Ps(e){return As(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cs(e,"argument-error"),As(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ns(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Is.create(e,...n)}function Ds(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ns(t,...r)}}function Os(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ks(t),new Error(t)}function Ls(e,t){e||Os(t)}function Ms(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fs(){return"http:"===Us()||"https:"===Us()}function Us(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Vs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ls(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())||Ar()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fs()||xr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bs(e,t){Ls(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class js{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qs=new Vs(3e4,6e4);function Ks(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hs(e,t,n,r){return Gs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Vr(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),js.fetch()(Qs(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Gs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zs),t);try{const t=new $s(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Js(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Js(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Js(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Js(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw As(e,a,o);Cs(e,a)}}catch(uR){if(uR instanceof Dr)throw uR;Cs(e,"network-request-failed",{message:String(uR)})}}async function Ws(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Hs(e,t,n,r,i);return"mfaPendingCredential"in s&&Cs(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Qs(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ys(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $s{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xs(this.auth,"network-request-failed"))),qs.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Js(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xs(e,t,r);return i.customData._tokenResponse=n,i}function Xs(e){return void 0!==e&&void 0!==e.getResponse}function Zs(e){return void 0!==e&&void 0!==e.enterprise}class eo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ys(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function to(e,t){return Hs(e,"GET","/v2/recaptchaConfig",Ks(e,t))}async function no(e,t){return Hs(e,"POST","/v1/accounts:lookup",t)}function ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uR){}}function io(e){return 1e3*Number(e)}function so(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ks("JWT malformed, contained fewer than 3 sections"),null;try{const e=yr(n);return e?JSON.parse(e):(ks("Failed to decode base64 JWT payload"),null)}catch(uR){return ks("Caught error parsing JWT payload as JSON",null===uR||void 0===uR?void 0:uR.toString()),null}}function oo(e){const t=so(e);return Ds(t,"internal-error"),Ds("undefined"!==typeof t.exp,"internal-error"),Ds("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ao(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(uR){throw uR instanceof Dr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(uR)&&e.auth.currentUser===e&&await e.auth.signOut(),uR}}class lo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(uR){return void((null===uR||void 0===uR?void 0:uR.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class co{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ro(this.lastLoginAt),this.creationTime=ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ao(e,no(n,{idToken:r}));Ds(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ho(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new co(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function ho(e){return e.map((e=>{var{providerId:t}=e,n=fs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ds(e.idToken,"internal-error"),Ds("undefined"!==typeof e.idToken,"internal-error"),Ds("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):oo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ds(0!==e.length,"internal-error");const t=oo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ds(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gs(e,{},(async()=>{const n=Vr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Qs(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",js.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new fo;return n&&(Ds("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ds("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ds("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Os("not implemented")}}function po(e,t){Ds("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class mo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=fs(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new co(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ao(this,this.stsTokenManager.getToken(this.auth,e));return Ds(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Hr(e),r=await n.getIdToken(t),i=so(r);Ds(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ro(io(i.auth_time)),issuedAtTime:ro(io(i.iat)),expirationTime:ro(io(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Hr(e);await uo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ds(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ds(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await uo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await ao(this,async function(e,t){return Hs(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:_,providerData:b,stsTokenManager:E}=t;Ds(y&&E,e,"internal-error");const S=fo.fromJSON(this.name,E);Ds("string"===typeof y,e,"internal-error"),po(u,e.name),po(h,e.name),Ds("boolean"===typeof w,e,"internal-error"),Ds("boolean"===typeof _,e,"internal-error"),po(d,e.name),po(f,e.name),po(p,e.name),po(m,e.name),po(g,e.name),po(v,e.name);const I=new mo({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(I.providerData=b.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fo;r.updateFromServerResponse(t);const i=new mo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await uo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ds(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ho(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new fo;o.updateFromIdToken(n);const a=new mo({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new co(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const go=new Map;function vo(e){Ls(e instanceof Function,"Expected a class definition");let t=go.get(e);return t?(Ls(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,go.set(e,t),t)}class yo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yo.type="NONE";const wo=yo;function _o(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class bo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_o(this.userKey,r.apiKey,i),this.fullPersistenceKey=_o("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new bo(vo(wo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vo(wo);const s=_o(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=mo._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new bo(i,e,n)):new bo(i,e,n)}}function Eo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ko(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(So(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xo(t))return"Blackberry";if(Ao(t))return"Webos";if(Io(t))return"Safari";if((t.includes("chrome/")||To(t))&&!t.includes("edge/"))return"Chrome";if(Co(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function So(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/firefox\//i.test(e)}function Io(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/crios\//i.test(e)}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/iemobile/i.test(e)}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/android/i.test(e)}function xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/blackberry/i.test(e)}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/webos/i.test(e)}function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return Po(e)||Co(e)||Ao(e)||xo(e)||/windows phone/i.test(e)||ko(e)}function No(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Eo(Tr());break;case"Worker":t="".concat(Eo(Tr()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ji,"/").concat(r)}class Do{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(uR){r(uR)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(uR){t.reverse();for(const n of t)try{n()}catch(Ot){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===uR||void 0===uR?void 0:uR.message})}}}class Oo{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Lo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new Do(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Is,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(uR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await no(this,{idToken:e}),n=await mo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mi(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(uR){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(uR)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ds(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(uR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uo(e)}catch(uR){if((null===uR||void 0===uR?void 0:uR.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(Ps(this));const t=e?Hr(e):null;return t&&Ds(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ds(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Mi(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(Ps(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Hs(e,"GET","/v2/passwordPolicy",Ks(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Hs(e,"POST","/v2/accounts:revokeToken",Ks(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vo(e)||this._popupRedirectResolver;Ds(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[vo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ds(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ds(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=No(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ts.logLevel<=Xr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ts.warn("Auth (".concat(ji,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Mo(e){return Hr(e)}class Fo{constructor(e){this.auth=e,this.observer=null,this.addObserver=zr((e=>this.observer=e))}get next(){return Ds(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vo(e){return Uo.loadJS(e)}function Bo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class jo{constructor(e){this.type="recaptcha-enterprise",this.auth=Mo(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Zs(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{to(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new eo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Zs(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Uo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new jo(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qo(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ko(e,t,n){const r=Mo(e);Ds(r._canInitEmulator,r,"emulator-config-failed"),Ds(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ho(t),{host:o,port:a}=function(e){const t=Ho(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Go(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Go(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ho(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Go(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,t){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function Qo(e,t){return Hs(e,"POST","/v1/accounts:resetPassword",Ks(e,t))}async function Yo(e,t){return Hs(e,"POST","/v1/accounts:signUp",t)}async function $o(e,t){return Ws(e,"POST","/v1/accounts:signInWithPassword",Ks(e,t))}async function Jo(e,t){return Hs(e,"POST","/v1/accounts:sendOobCode",Ks(e,t))}async function Xo(e,t){return Jo(e,t)}async function Zo(e,t){return Jo(e,t)}class ea extends Wo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ea(e,t,"password")}static _fromEmailAndCode(e,t){return new ea(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qo(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$o);case"emailLink":return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithEmailLink",Ks(e,t))}(e,{email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qo(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yo);case"emailLink":return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithEmailLink",Ks(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ta(e,t){return Ws(e,"POST","/v1/accounts:signInWithIdp",Ks(e,t))}class na extends Wo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=fs(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new na(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ta(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ta(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vr(t)}return e}}const ra={USER_NOT_FOUND:"user-not-found"};class ia extends Wo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ia({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ia({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,t));if(n.temporaryProof)throw Js(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Ks(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ra)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ia({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sa{constructor(e){var t,n,r,i,s,o;const a=Br(jr(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ds(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Br(jr(e)).link,n=t?Br(jr(t)).deep_link_id:null,r=Br(jr(e)).deep_link_id;return(r?Br(jr(r)).link:null)||r||n||t||e}(e);try{return new sa(t)}catch(n){return null}}}class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return ea._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sa.parseLink(t);return Ds(n,"argument-error"),ea._fromEmailAndCode(e,n.code,n.tenantId)}}oa.PROVIDER_ID="password",oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class aa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class la extends aa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ca extends la{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ds("providerId"in t&&"signInMethod"in t,"argument-error"),na._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ds(e.idToken||e.accessToken,"argument-error"),na._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ca.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ca.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new ca(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(uR){return null}}}class ua extends la{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ua.credential(t.oauthAccessToken)}catch(n){return null}}}ua.FACEBOOK_SIGN_IN_METHOD="facebook.com",ua.PROVIDER_ID="facebook.com";class ha extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return na._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ha.credential(n,r)}catch(i){return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com",ha.PROVIDER_ID="google.com";class da extends la{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return da.credential(t.oauthAccessToken)}catch(n){return null}}}da.GITHUB_SIGN_IN_METHOD="github.com",da.PROVIDER_ID="github.com";class fa extends Wo{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ta(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ta(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new fa(n,i):null}static _create(e,t){return new fa(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pa extends aa{constructor(e){Ds(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return pa.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return pa.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=fa.fromJSON(e);return Ds(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return fa._create(r,n)}catch(uR){return null}}}class ma extends la{constructor(){super("twitter.com")}static credential(e,t){return na._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ma.credential(n,r)}catch(i){return null}}}async function ga(e,t){return Ws(e,"POST","/v1/accounts:signUp",Ks(e,t))}ma.TWITTER_SIGN_IN_METHOD="twitter.com",ma.PROVIDER_ID="twitter.com";class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mo._fromIdTokenResponse(e,n,r),s=ya(n);return new va({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ya(n);return new va({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ya(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class wa extends Dr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,wa.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new wa(e,t,n,r)}}function _a(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw wa._fromErrorAndOperation(e,n,t,r);throw n}))}function ba(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ea(e,t){const n=Hr(e);await Ia(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Hs(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ba(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ao(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return va._forOperation(e,"link",r)}async function Ia(e,t,n){await uo(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ds(ba(t.providerData).has(n)===e,t.auth,r)}async function Ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Mi(r.app))return Promise.reject(Ps(r));const i="reauthenticate";try{const s=await ao(e,_a(r,i,t,e),n);Ds(s.idToken,r,"internal-error");const o=so(s.idToken);Ds(o,r,"internal-error");const{sub:a}=o;return Ds(e.uid===a,r,"user-mismatch"),va._forOperation(e,i,s)}catch(uR){throw(null===uR||void 0===uR?void 0:uR.code)==="auth/".concat("user-not-found")&&Cs(r,"user-mismatch"),uR}}async function ka(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Mi(e.app))return Promise.reject(Ps(e));const r="signIn",i=await _a(e,r,t),s=await va._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ca(e,t){return ka(Mo(e),t)}async function xa(e,t){const n=Hr(e);return await Ia(!1,n,t.providerId),Sa(n,t)}async function Aa(e,t){return Ta(Hr(e),t)}async function Pa(e,t){if(Mi(e.app))return Promise.reject(Ps(e));const n=Mo(e),r=await async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithCustomToken",Ks(e,t))}(n,{token:t,returnSecureToken:!0}),i=await va._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ra{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Na._fromServerResponse(e,t):"totpInfo"in t?Da._fromServerResponse(e,t):Cs(e,"internal-error")}}class Na extends Ra{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Na(t)}}class Da extends Ra{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Da(t)}}function Oa(e,t,n){var r;Ds((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ds("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ds(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ds(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function La(e){const t=Mo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ma(e,t){await async function(e,t){return Hs(e,"POST","/v1/accounts:update",Ks(e,t))}(Hr(e),{oobCode:t})}async function Fa(e,t){const n=Hr(e),r=await Qo(n,{oobCode:t}),i=r.requestType;switch(Ds(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ds(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ds(r.mfaInfo,n,"internal-error");default:Ds(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ra._fromServerResponse(Mo(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Ua(e,t){const n={identifier:t,continueUri:Fs()?Ms():"http://localhost"},{signinMethods:r}=await async function(e,t){return Hs(e,"POST","/v1/accounts:createAuthUri",Ks(e,t))}(Hr(e),n);return r||[]}async function Va(e,t){const n=Hr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Oa(n.auth,r,t);const{email:i}=await async function(e,t){return Jo(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ba(e,t,n){const r=Hr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Oa(r.auth,i,n);const{email:s}=await async function(e,t){return Jo(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function ja(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Hr(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ao(i,async function(e,t){return Hs(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function za(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ao(e,async function(e,t){return Hs(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class qa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ka extends qa{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ha extends qa{constructor(e,t){super(e,"facebook.com",t)}}class Ga extends Ka{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Wa extends qa{constructor(e,t){super(e,"google.com",t)}}class Qa extends Ka{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ya(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=so(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new qa(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ha(s,i);case"github.com":return new Ga(s,i);case"google.com":return new Wa(s,i);case"twitter.com":return new Qa(s,i,e.screenName||null);case"custom":case"anonymous":return new qa(s,null);default:return new qa(s,r,i)}}(n)}class $a{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new $a("enroll",e,t)}static _fromMfaPendingCredential(e){return new $a("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return $a._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return $a._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ja{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Mo(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ra._fromServerResponse(n,e)));Ds(r.mfaPendingCredential,n,"internal-error");const s=$a._fromMfaPendingCredential(r.mfaPendingCredential);return new Ja(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await va._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ds(t.user,n,"internal-error"),va._forOperation(t.user,t.operationType,o);default:Cs(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Xa{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ra._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Xa(e)}async getSession(){return $a._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ao(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ao(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Hs(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Ks(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(uR){throw uR}var r,i}}const Za=new WeakMap;const el="__sak";class tl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(el,"1"),this.storage.removeItem(el),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nl extends tl{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Tr();return Io(e)||Po(e)}()&&function(){try{return!(!window||window===window.top)}catch(uR){return!1}}(),this.fallbackToPolling=Ro(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Pr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nl.type="LOCAL";const rl=nl;class il extends tl{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}il.type="SESSION";const sl=il;class ol{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ol(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ol.receivers=[];class ll{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=al("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function cl(){return window}function ul(){return"undefined"!==typeof cl().WorkerGlobalScope&&"function"===typeof cl().importScripts}const hl="firebaseLocalStorageDb",dl="firebaseLocalStorage",fl="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ml(e,t){return e.transaction([dl],t?"readwrite":"readonly").objectStore(dl)}function gl(){const e=indexedDB.open(hl,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(dl,{keyPath:fl})}catch(uR){n(uR)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(dl)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(hl);return new pl(e).toPromise()}(),t(await gl()))}))}))}async function vl(e,t,n){const r=ml(e,!0).put({[fl]:t,value:n});return new pl(r).toPromise()}function yl(e,t){const n=ml(e,!0).delete(t);return new pl(n).toPromise()}class wl{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await gl()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(uR){if(t++>3)throw uR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ul()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ol._getInstance(ul()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ll(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gl();return await vl(e,el,"1"),await yl(e,el),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vl(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ml(e,!1).get(t),r=await new pl(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yl(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ml(e,!1).getAll();return new pl(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wl.type="LOCAL";const _l=wl;const bl=1e12;class El{constructor(e){this.auth=e,this.counter=bl,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Sl(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||bl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||bl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||bl;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Sl{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ds(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(uR){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(uR){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Il=Bo("rcb"),Tl=new Vs(3e4,6e4);class kl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=cl().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ds(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Xs(cl().grecaptcha)?Promise.resolve(cl().grecaptcha):new Promise(((n,r)=>{const i=cl().setTimeout((()=>{r(xs(e,"network-request-failed"))}),Tl.get());cl()[Il]=()=>{cl().clearTimeout(i),delete cl()[Il];const s=cl().grecaptcha;if(!s||!Xs(s))return void r(xs(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Vo("".concat(Uo.recaptchaV2Script,"?").concat(Vr({onload:Il,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(xs(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=cl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cl{async load(e){return new El(e)}clearedOneInstance(){}}const xl="recaptcha",Al={theme:"light",type:"image"};class Pl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Al);this.parameters=n,this.type=xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mo(e),this.isInvisible="invisible"===this.parameters.size,Ds("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Ds(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cl:new kl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(uR){return Promise.reject(uR)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ds(!this.parameters.sitekey,this.auth,"argument-error"),Ds(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ds("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=cl()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ds(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ds(Fs()&&!ul(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Hs(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ds(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ds(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ia._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Nl(e,t,n){var r;const i=await n.verify();try{let s;if(Ds("string"===typeof i,e,"argument-error"),Ds(n.type===xl,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ds("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Hs(e,"POST","/v2/accounts/mfaEnrollment:start",Ks(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ds("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ds(n,e,"missing-multi-factor-info");const o=await function(e,t){return Hs(e,"POST","/v2/accounts/mfaSignIn:start",Ks(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Hs(e,"POST","/v1/accounts:sendVerificationCode",Ks(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Dl{constructor(e){this.providerId=Dl.PROVIDER_ID,this.auth=Mo(e)}verifyPhoneNumber(e,t){return Nl(this.auth,e,Hr(t))}static credential(e,t){return ia._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Dl.credentialFromTaggedObject(t)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ia._fromTokenResponse(n,r):null}}function Ol(e,t){return t?vo(t):(Ds(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Dl.PROVIDER_ID="phone",Dl.PHONE_SIGN_IN_METHOD="phone";class Ll extends Wo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ml(e){return ka(e.auth,new Ll(e),e.bypassAuthState)}function Fl(e){const{auth:t,user:n}=e;return Ds(n,t,"internal-error"),Ta(n,new Ll(e),e.bypassAuthState)}async function Ul(e){const{auth:t,user:n}=e;return Ds(n,t,"internal-error"),Sa(n,new Ll(e),e.bypassAuthState)}class Vl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(uR){this.reject(uR)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(uR){this.reject(uR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ml;case"linkViaPopup":case"linkViaRedirect":return Ul;case"reauthViaPopup":case"reauthViaRedirect":return Fl;default:Cs(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bl=new Vs(2e3,1e4);class jl extends Vl{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jl.currentPopupAction&&jl.currentPopupAction.cancel(),jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ds(e,this.auth,"internal-error"),e}async onExecution(){Ls(1===this.filter.length,"Popup operations only handle one event");const e=al();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xs(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Bl.get())};e()}}jl.currentPopupAction=null;const zl="pendingRedirect",ql=new Map;class Kl extends Vl{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ql.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ql(t),r=Wl(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(uR){e=()=>Promise.reject(uR)}ql.set(this.auth._key(),e)}return this.bypassAuthState||ql.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Hl(e,t){return Wl(e)._set(Ql(t),"true")}function Gl(e,t){ql.set(e._key(),t)}function Wl(e){return vo(e._redirectPersistence)}function Ql(e){return _o(zl,e.config.apiKey,e.name)}function Yl(e,t,n){return async function(e,t,n){if(Mi(e.app))return Promise.reject(Ps(e));const r=Mo(e);Rs(e,t,aa),await r._initializationPromise;const i=Ol(r,n);return await Hl(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function $l(e,t,n){return async function(e,t,n){const r=Hr(e);if(Rs(r.auth,t,aa),Mi(r.auth.app))return Promise.reject(Ps(r.auth));await r.auth._initializationPromise;const i=Ol(r.auth,n);await Hl(i,r.auth);const s=await Zl(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Jl(e,t,n){return async function(e,t,n){const r=Hr(e);Rs(r.auth,t,aa),await r.auth._initializationPromise;const i=Ol(r.auth,n);await Ia(!1,r,t.providerId),await Hl(i,r.auth);const s=await Zl(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Xl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Mi(e.app))return Promise.reject(Ps(e));const r=Mo(e),i=Ol(r,t),s=new Kl(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Zl(e){const t=al("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ec{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!nc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tc(e))}saveEventToCache(e){this.cachedEventUids.add(tc(e)),this.lastProcessedEventTime=Date.now()}}function tc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function nc(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function rc(e){return Hs(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;function oc(e){const t=Ms(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sc.test(n))return!1;if(ic.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ac=new Vs(3e4,6e4);function lc(){const e=cl().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function cc(e){return new Promise(((t,n)=>{var r,i,s;function o(){lc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lc(),n(xs(e,"network-request-failed"))},timeout:ac.get()})}if(null===(i=null===(r=cl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=cl().gapi)||void 0===s?void 0:s.load)){const t=Bo("iframefcb");return cl()[t]=()=>{gapi.load?o():n(xs(e,"network-request-failed"))},Vo("".concat(Uo.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw uc=null,e}))}let uc=null;const hc=new Vs(5e3,15e3),dc="__/auth/iframe",fc="emulator/auth/iframe",pc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gc(e){const t=e.config;Ds(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bs(t,fc):"https://".concat(e.config.authDomain,"/").concat(dc),r={apiKey:t.apiKey,appName:e.name,v:ji},i=mc.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Vr(r).slice(1))}async function vc(e){const t=await function(e){return uc=uc||cc(e),uc}(e),n=cl().gapi;return Ds(n,e,"internal-error"),t.open({where:document.body,url:gc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xs(e,"network-request-failed"),s=cl().setTimeout((()=>{r(i)}),hc.get());function o(){cl().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const yc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(uR){}}}function _c(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yc),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tr().toLowerCase();n&&(a=To(c)?"_blank":n),So(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Po(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new wc(null);const h=window.open(t||"",a,u);Ds(h,e,"popup-blocked");try{h.focus()}catch(uR){}return new wc(h)}const bc="__/auth/handler",Ec="emulator/auth/handler",Sc=encodeURIComponent("fac");async function Ic(e,t,n,r,i,s){Ds(e.config.authDomain,e,"auth-domain-config-required"),Ds(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ji,eventId:i};if(t instanceof aa){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof la){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Sc,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(bc);return Bs(t,Ec)}(e),"?").concat(Vr(a).slice(1)).concat(c)}const Tc="webStorageSupport";const kc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sl,this._completeRedirectFn=Xl,this._overrideRedirectResult=Gl}async _openPopup(e,t,n,r){var i;Ls(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return _c(e,await Ic(e,t,n,Ms(),r),al())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){cl().location.href=e}(await Ic(e,t,n,Ms(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ls(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await vc(e),n=new ec(e);return t.register("authEvent",(t=>{Ds(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tc,{type:Tc},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Tc];void 0!==i&&t(!!i),Cs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rc(e);for(const r of t)try{if(oc(r))return}catch(n){}Cs(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ro()||Io()||Po()}};class Cc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Os("unexpected MultiFactorSessionType")}}}class xc extends Cc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new xc(e)}_finalizeEnroll(e,t,n){return function(e,t){return Hs(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ks(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Hs(e,"POST","/v2/accounts/mfaSignIn:finalize",Ks(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ac{constructor(){}static assertion(e){return xc._fromCredential(e)}}Ac.FACTOR_ID="phone";var Pc="@firebase/auth",Rc="1.7.1";class Nc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ds(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=br())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Dc;function Oc(){return window}!function(e){Uo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Dc="Browser",Ni(new Gr("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ds(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Dc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:No(Dc)},c=new Lo(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ni(new Gr("auth-internal",(e=>(e=>new Nc(e))(Mo(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(Pc,Rc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dc)),Wi(Pc,Rc,"esm2017");async function Lc(e,t,n){var r;const{BuildInfo:i}=Oc();Ls(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Ls(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Po()?o.ibi=i.packageName:Co()?o.apn=i.packageName:Cs(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ic(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Mc(e){const{cordova:t}=Oc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Fc=20;class Uc extends ec{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Vc(e){const t=await zc()._get(qc(e));return t&&await zc()._remove(qc(e)),t}function Bc(e,t){var n,r;const i=function(e){const t=Kc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Kc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Kc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Kc(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(uR){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?xs(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function jc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Fc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function zc(){return vo(rl)}function qc(e){return _o("authEvent",e.config.apiKey,e.name)}function Kc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Br(n.join("?"))}const Hc=class{constructor(){this._redirectPersistence=sl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xl,this._overrideRedirectResult=Gl}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Uc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Cs(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=Oc();Ds("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ds("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ds("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ds("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ds("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ql.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:jc(),postBody:null,tenantId:e.tenantId,error:xs(e,"no-auth-event")}}(e,n,r);await function(e,t){return zc()._set(qc(e),t)}(e,s);const o=await Lc(e,s,t);return async function(e,t,n){const{cordova:r}=Oc();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(xs(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Co()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Mc(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Oc(),n={};Po()?n.iosBundleId=t.packageName:Co()?n.androidPackageName=t.packageName:Cs(e,"operation-not-supported-in-this-environment"),await rc(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Oc(),s=setTimeout((async()=>{await Vc(e),t.onEvent(Gc())}),500),o=async n=>{clearTimeout(s);const r=await Vc(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Bc(r,n.url)),t.onEvent(i||Gc())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Oc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(uR){console.error(uR)}}}};function Gc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xs("no-auth-event")}}function Wc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Qc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return!("file:"!==Wc()&&"ionic:"!==Wc()&&"capacitor:"!==Wc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return Pr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr();return/Edge\/\d+/.test(e)}(e)}function $c(){try{const e=self.localStorage,t=al();if(e)return e.setItem(t,"1"),e.removeItem(t),!Yc()||Nr()}catch(uR){return Jc()&&Nr()}return!1}function Jc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Xc(){return("http:"===Wc()||"https:"===Wc()||xr()||Qc())&&!(Ar()||kr())&&$c()&&!Jc()}function Zc(){return Qc()&&"undefined"!==typeof document}const eu={LOCAL:"local",NONE:"none",SESSION:"session"},tu=Ds,nu="persistence";async function ru(e){await e._initializationPromise;const t=iu(),n=_o(nu,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function iu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(uR){return null}}const su=Ds;class ou{constructor(){this.browserResolver=vo(kc),this.cordovaResolver=vo(Hc),this.underlyingResolver=null,this._redirectPersistence=sl,this._completeRedirectFn=Xl,this._overrideRedirectResult=Gl}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Zc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return su(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Zc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function au(e){return e.unwrap()}function lu(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new du(e,function(e,t){var n;const r=Hr(e),i=t;return Ds(t.customData.operationType,r,"argument-error"),Ds(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ja._fromError(r,i)}(e,t))}else if(r){const e=cu(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function cu(e){const{_tokenResponse:t}=e instanceof Dr?e.customData:e;if(!t)return null;if(!(e instanceof Dr)&&"temporaryProof"in t&&"phoneNumber"in t)return Dl.credentialFromResult(e);const n=t.providerId;if(!n||n===ps.PASSWORD)return null;let r;switch(n){case ps.GOOGLE:r=ha;break;case ps.FACEBOOK:r=ua;break;case ps.GITHUB:r=da;break;case ps.TWITTER:r=ma;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?fa._create(n,o):na._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ca(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Dr?r.credentialFromError(e):r.credentialFromResult(e)}function uu(e,t){return t.catch((t=>{throw t instanceof Dr&&lu(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,cu(r)),additionalUserInfo:Ya(e),user:fu.getOrCreate(n)};var r}))}async function hu(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>uu(e,n.confirm(t))}}class du{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return uu(au(this.auth),this.resolver.resolveSignIn(e))}}class fu{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Hr(e);return Za.has(t)||Za.set(t,Xa._fromUser(t)),Za.get(t)}(e)}static getOrCreate(e){return fu.USER_MAP.has(e)||fu.USER_MAP.set(e,new fu(e)),fu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return uu(this.auth,xa(this._delegate,e))}async linkWithPhoneNumber(e,t){return hu(this.auth,async function(e,t,n){const r=Hr(e);await Ia(!1,r,"phone");const i=await Nl(r.auth,t,Hr(n));return new Rl(i,(e=>xa(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return uu(this.auth,async function(e,t,n){const r=Hr(e);Rs(r.auth,t,aa);const i=Ol(r.auth,n);return new jl(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ou))}async linkWithRedirect(e){return await ru(Mo(this.auth)),Jl(this._delegate,e,ou)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return uu(this.auth,Aa(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return hu(this.auth,async function(e,t,n){const r=Hr(e);if(Mi(r.auth.app))return Promise.reject(Ps(r.auth));const i=await Nl(r.auth,t,Hr(n));return new Rl(i,(e=>Aa(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return uu(this.auth,async function(e,t,n){const r=Hr(e);if(Mi(r.auth.app))return Promise.reject(xs(r.auth,"operation-not-supported-in-this-environment"));Rs(r.auth,t,aa);const i=Ol(r.auth,n);return new jl(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ou))}async reauthenticateWithRedirect(e){return await ru(Mo(this.auth)),$l(this._delegate,e,ou)}sendEmailVerification(e){return Va(this._delegate,e)}async unlink(e){return await Ea(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Hr(e);return Mi(n.auth.app)?Promise.reject(Ps(n.auth)):za(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return za(Hr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Hr(e);if(Mi(n.auth.app))return Promise.reject(Ps(n.auth));await Sa(n,t)}(this._delegate,e)}updateProfile(e){return ja(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ba(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fu.USER_MAP=new WeakMap;const pu=Ds;class mu{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;pu(n,"invalid-api-key",{appName:e.name}),pu(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ou:void 0;this._delegate=t.initialize({options:{persistence:vu(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Es),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ko(this._delegate,e,t)}applyActionCode(e){return Ma(this._delegate,e)}checkActionCode(e){return Fa(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Qo(Hr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&La(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return uu(this._delegate,async function(e,t,n){if(Mi(e.app))return Promise.reject(Ps(e));const r=Mo(e),i=qo(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ga),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&La(e),t})),o=await va._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ua(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=sa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){pu(Xc(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Mo(e)._initializationPromise,Xl(e,t,!1)}(this._delegate,ou);return e?uu(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Mo(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=gu(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=gu(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Mo(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Ds(t.handleCodeInApp,r,"argument-error"),t&&Oa(r,e,t)}(i,n),await qo(r,i,"getOobCode",Zo)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Mo(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Oa(r,i,n),await qo(r,i,"getOobCode",Xo)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){tu(Object.values(eu).includes(t),e,"invalid-persistence-type"),Ar()?tu(t!==eu.SESSION,e,"unsupported-persistence-type"):kr()?tu(t===eu.NONE,e,"unsupported-persistence-type"):Jc()?tu(t===eu.NONE||t===eu.LOCAL&&Nr(),e,"unsupported-persistence-type"):tu(t===eu.NONE||$c(),e,"unsupported-persistence-type")}(this._delegate,e),e){case eu.SESSION:t=sl;break;case eu.LOCAL:t=await vo(_l)._isAvailable()?_l:rl;break;case eu.NONE:t=wo;break;default:return Cs("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return uu(this._delegate,async function(e){var t;if(Mi(e.app))return Promise.reject(Ps(e));const n=Mo(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new va({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await ga(n,{returnSecureToken:!0}),i=await va._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return uu(this._delegate,Ca(this._delegate,e))}signInWithCustomToken(e){return uu(this._delegate,Pa(this._delegate,e))}signInWithEmailAndPassword(e,t){return uu(this._delegate,function(e,t,n){return Mi(e.app)?Promise.reject(Ps(e)):Ca(Hr(e),oa.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&La(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return uu(this._delegate,async function(e,t,n){if(Mi(e.app))return Promise.reject(Ps(e));const r=Hr(e),i=oa.credentialWithLink(t,n||Ms());return Ds(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ca(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return hu(this._delegate,async function(e,t,n){if(Mi(e.app))return Promise.reject(Ps(e));const r=Mo(e),i=await Nl(r,t,Hr(n));return new Rl(i,(e=>Ca(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return pu(Xc(),this._delegate,"operation-not-supported-in-this-environment"),uu(this._delegate,async function(e,t,n){if(Mi(e.app))return Promise.reject(xs(e,"operation-not-supported-in-this-environment"));const r=Mo(e);Rs(e,t,aa);const i=Ol(r,n);return new jl(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ou))}async signInWithRedirect(e){return pu(Xc(),this._delegate,"operation-not-supported-in-this-environment"),await ru(this._delegate),Yl(this._delegate,e,ou)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Fa(Hr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function gu(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&fu.getOrCreate(e)),error:t,complete:n}}function vu(e,t){const n=function(e,t){const n=iu();if(!n)return[];const r=_o(nu,e,t);switch(n.getItem(r)){case eu.NONE:return[wo];case eu.LOCAL:return[_l,sl];case eu.SESSION:return[sl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(_l)||n.push(_l),"undefined"!==typeof window)for(const r of[rl,sl])n.includes(r)||n.push(r);return n.includes(wo)||n.push(wo),n}mu.Persistence=eu;class yu{constructor(){this.providerId="phone",this._delegate=new Dl(au(ds.auth()))}static credential(e,t){return Dl.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}yu.PHONE_SIGN_IN_METHOD=Dl.PHONE_SIGN_IN_METHOD,yu.PROVIDER_ID=Dl.PROVIDER_ID;const wu=Ds;class _u{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ds.app();var r;wu(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Pl(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var bu;(bu=ds).INTERNAL.registerComponent(new Gr("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new mu(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ms,PASSWORD_RESET:gs,RECOVER_EMAIL:vs,REVERT_SECOND_FACTOR_ADDITION:ys,VERIFY_AND_CHANGE_EMAIL:ws,VERIFY_EMAIL:_s}},EmailAuthProvider:oa,FacebookAuthProvider:ua,GithubAuthProvider:da,GoogleAuthProvider:ha,OAuthProvider:ca,SAMLAuthProvider:pa,PhoneAuthProvider:yu,PhoneMultiFactorGenerator:Ac,RecaptchaVerifier:_u,TwitterAuthProvider:ma,Auth:mu,AuthCredential:Wo,Error:Dr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),bu.registerVersion("@firebase/auth-compat","0.5.6");var Eu,Su="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Iu={},Tu=Tu||{},ku=Su||self;function Cu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Au="closure_uid_"+(1e9*Math.random()>>>0),Pu=0;function Ru(e,t,n){return e.call.apply(e.bind,arguments)}function Nu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Du(e,t,n){return(Du=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ru:Nu).apply(null,arguments)}function Ou(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Mu(){this.s=this.s,this.o=this.o}Mu.prototype.s=!1,Mu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Au)&&e[Au]||(e[Au]=++Pu))},Mu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Uu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Cu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Bu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bu.prototype.h=function(){this.defaultPrevented=!0};var ju=function(){if(!ku.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ku.addEventListener("test",e,t),ku.removeEventListener("test",e,t)}catch(n){}return e}();function zu(e){return/^[\s\xa0]*$/.test(e)}function qu(){var e=ku.navigator;return e&&(e=e.userAgent)?e:""}function Ku(e){return-1!=qu().indexOf(e)}function Hu(e){return Hu[" "](e),e}Hu[" "]=function(){};var Gu,Wu,Qu=Ku("Opera"),Yu=Ku("Trident")||Ku("MSIE"),$u=Ku("Edge"),Ju=$u||Yu,Xu=Ku("Gecko")&&!(-1!=qu().toLowerCase().indexOf("webkit")&&!Ku("Edge"))&&!(Ku("Trident")||Ku("MSIE"))&&!Ku("Edge"),Zu=-1!=qu().toLowerCase().indexOf("webkit")&&!Ku("Edge");function eh(){var e=ku.document;return e?e.documentMode:void 0}e:{var th="",nh=function(){var e=qu();return Xu?/rv:([^\);]+)(\)|;)/.exec(e):$u?/Edge\/([\d\.]+)/.exec(e):Yu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zu?/WebKit\/(\S+)/.exec(e):Qu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nh&&(th=nh?nh[1]:""),Yu){var rh=eh();if(null!=rh&&rh>parseFloat(th)){Gu=String(rh);break e}}Gu=th}if(ku.document&&Yu){var ih=eh();Wu=ih||(parseInt(Gu,10)||void 0)}else Wu=void 0;var sh=Wu;function oh(e,t){if(Bu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xu){e:{try{Hu(t.nodeName);var i=!0;break e}catch(Ct){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ah[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oh.$.h.call(this)}}Lu(oh,Bu);var ah={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lh="closure_listenable_"+(1e6*Math.random()|0),ch=0;function uh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ch,this.fa=this.ia=!1}function hh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function dh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function fh(e){const t={};for(const n in e)t[n]=e[n];return t}const ph="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ph.length;t++)n=ph[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gh(e){this.src=e,this.g={},this.h=0}function vh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Fu(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(hh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}gh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=yh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new uh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var wh="closure_lm_"+(1e6*Math.random()|0),_h={};function bh(e,t,n,r,i){if(r&&r.once)return Sh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)bh(e,t[s],n,r,i);return null}return n=Ph(n),e&&e[lh]?e.O(t,n,xu(r)?!!r.capture:!!r,i):Eh(e,t,n,!1,r,i)}function Eh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=xu(i)?!!i.capture:!!i,a=xh(e);if(a||(e[wh]=a=new gh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ch;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ju||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Sh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Sh(e,t[s],n,r,i);return null}return n=Ph(n),e&&e[lh]?e.P(t,n,xu(r)?!!r.capture:!!r,i):Eh(e,t,n,!0,r,i)}function Ih(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ih(e,t[s],n,r,i);else r=xu(r)?!!r.capture:!!r,n=Ph(n),e&&e[lh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yh(s=e.g[t],n,r,i))&&(hh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=xh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yh(t,n,r,i)),(n=-1<e?t[e]:null)&&Th(n))}function Th(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[lh])vh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xh(t))?(vh(n,e),0==n.h&&(n.src=null,t[wh]=null)):hh(e)}}}function kh(e){return e in _h?_h[e]:_h[e]="on"+e}function Ch(e,t){if(e.fa)e=!0;else{t=new oh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Th(e),e=n.call(r,t)}return e}function xh(e){return(e=e[wh])instanceof gh?e:null}var Ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(e){return"function"===typeof e?e:(e[Ah]||(e[Ah]=function(t){return e.handleEvent(t)}),e[Ah])}function Rh(){Mu.call(this),this.i=new gh(this),this.S=this,this.J=null}function Nh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Bu(t,e);else if(t instanceof Bu)t.target=t.target||e;else{var i=t;mh(t=new Bu(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Dh(o,r,!0,t)&&i}if(i=Dh(o=t.g=e,r,!0,t)&&i,i=Dh(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Dh(o=t.g=n[s],r,!1,t)&&i}function Dh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&vh(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lu(Rh,Mu),Rh.prototype[lh]=!0,Rh.prototype.removeEventListener=function(e,t,n,r){Ih(this,e,t,n,r)},Rh.prototype.N=function(){if(Rh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hh(n[r]);delete t.g[e],t.h--}}this.J=null},Rh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oh=ku.JSON.stringify;function Lh(){var e=zh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Fh),(e=>e.reset()));class Fh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Uh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Vh(e){ku.setTimeout((()=>{throw e}),0)}let Bh,jh=!1,zh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Mh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},qh=()=>{const e=ku.Promise.resolve(void 0);Bh=()=>{e.then(Kh)}};var Kh=()=>{for(var e;e=Lh();){try{e.h.call(e.g)}catch(n){Vh(n)}var t=Mh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jh=!1};function Hh(e,t){Rh.call(this),this.h=e||1,this.g=t||ku,this.j=Du(this.qb,this),this.l=Date.now()}function Gh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Wh(e,t,n){if("function"===typeof e)n&&(e=Du(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Du(e.handleEvent,e)}return 2147483647<Number(t)?-1:ku.setTimeout(e,t||0)}function Qh(e){e.g=Wh((()=>{e.g=null,e.i&&(e.i=!1,Qh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lu(Hh,Rh),(Eu=Hh.prototype).ga=!1,Eu.T=null,Eu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nh(this,"tick"),this.ga&&(Gh(this),this.start()))}},Eu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Eu.N=function(){Hh.$.N.call(this),Gh(this),delete this.g};class Yh extends Mu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qh(this)}N(){super.N(),this.g&&(ku.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(e){Mu.call(this),this.h=e,this.g={}}Lu($h,Mu);var Jh=[];function Xh(e,t,n,r){Array.isArray(n)||(n&&(Jh[0]=n.toString()),n=Jh);for(var i=0;i<n.length;i++){var s=bh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Zh(e){dh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Th(e)}),e),e.g={}}function ed(){this.g=!0}function td(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Oh(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}$h.prototype.N=function(){$h.$.N.call(this),Zh(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ed.prototype.Ea=function(){this.g=!1},ed.prototype.info=function(){};var nd={},rd=null;function id(){return rd=rd||new Rh}function sd(e){Bu.call(this,nd.Ta,e)}function od(e){const t=id();Nh(t,new sd(t))}function ad(e,t){Bu.call(this,nd.STAT_EVENT,e),this.stat=t}function ld(e){const t=id();Nh(t,new ad(t,e))}function cd(e,t){Bu.call(this,nd.Ua,e),this.size=t}function ud(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ku.setTimeout((function(){e()}),t)}nd.Ta="serverreachability",Lu(sd,Bu),nd.STAT_EVENT="statevent",Lu(ad,Bu),nd.Ua="timingevent",Lu(cd,Bu);var hd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fd(){}function pd(e){return e.h||(e.h=e.i())}function md(){}fd.prototype.h=null;var gd,vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yd(){Bu.call(this,"d")}function wd(){Bu.call(this,"c")}function _d(){}function bd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new $h(this),this.P=Sd,e=Ju?125:void 0,this.V=new Hh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ed}function Ed(){this.i=null,this.g="",this.h=!1}Lu(yd,Bu),Lu(wd,Bu),Lu(_d,fd),_d.prototype.g=function(){return new XMLHttpRequest},_d.prototype.i=function(){return{}},gd=new _d;var Sd=45e3,Id={},Td={};function kd(e,t,n){e.L=1,e.A=Hd(Bd(t)),e.u=n,e.S=!0,Cd(e,null)}function Cd(e,t){e.G=Date.now(),Rd(e),e.B=Bd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),sf(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ed,e.g=op(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Yh(Du(e.Pa,e,e.g),e.O)),Xh(e.U,e.g,"readystatechange",e.nb),t=e.I?fh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),od(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function xd(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Ad(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Pd(e,n),r==Td){4==t&&(e.s=4,ld(14),i=!1),td(e.j,e.m,null,"[Incomplete Response]");break}if(r==Id){e.s=4,ld(15),td(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}td(e.j,e.m,r,null),Md(e,r)}xd(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,ld(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xf(t),t.M=!0,ld(11))):(td(e.j,e.m,n,"[Invalid Chunked Response]"),Ld(e),Od(e))}function Pd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Td:(n=Number(t.substring(n,r)),isNaN(n)?Id:(r+=1)+n>t.length?Td:(t=t.slice(r,r+n),e.o=r+n,t))}function Rd(e){e.Y=Date.now()+e.P,Nd(e,e.P)}function Nd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ud(Du(e.lb,e),t)}function Dd(e){e.C&&(ku.clearTimeout(e.C),e.C=null)}function Od(e){0==e.l.H||e.J||tp(e.l,e)}function Ld(e){Dd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Gh(e.V),Zh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Md(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||df(n.i,e)))if(!e.K&&df(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(xt){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ep(n),Kf(n)}Jf(n),ld(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ud(Du(n.ib,n),6e3));if(1>=hf(n.i)&&n.oa){try{n.oa()}catch(xt){}n.oa=void 0}}else rp(n,11)}else if((e.K||n.g==e)&&ep(n),!zu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ff(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Kd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=sp(r,r.J?r.pa:null,r.Y),o.K){pf(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Dd(a),Rd(a)),r.g=o}else $f(r);0<n.j.length&&Gf(n)}else"stop"!=c[0]&&"close"!=c[0]||rp(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?rp(n,7):qf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}od()}catch(xt){}}function Fd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Cu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Cu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Cu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Eu=bd.prototype).setTimeout=function(e){this.P=e},Eu.nb=function(e){e=e.target;const t=this.M;t&&3==Ff(e)?t.l():this.Pa(e)},Eu.Pa=function(e){try{if(e==this.g)e:{const u=Ff(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ju||this.g&&(this.h.h||this.g.ja()||Uf(this.g)))){this.J||4!=u||7==t||od(),Dd(this);var n=this.g.da();this.ca=n;t:if(xd(this)){var r=Uf(this.g);e="";var i=r.length,s=4==Ff(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ld(this),Od(this);var o="";break t}this.h.i=new ku.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,ld(12),Ld(this),Od(this);break e}td(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,n)}this.S?(Ad(this,u,o),Ju&&this.i&&3==u&&(Xh(this.U,this.V,"tick",this.mb),this.V.start())):(td(this.j,this.m,o,null),Md(this,o)),4==u&&Ld(this),this.i&&!this.J&&(4==u?tp(this.l,this):(this.i=!1,Rd(this)))}else(function(e){const t={};e=(e.g&&2<=Ff(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(zu(e[r]))continue;var n=Uh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,ld(12)):(this.s=0,ld(13)),Ld(this),Od(this)}}}catch(u){}},Eu.mb=function(){if(this.g){var e=Ff(this.g),t=this.g.ja();this.o<t.length&&(Dd(this),Ad(this,e,t),this.i&&4!=e&&Rd(this))}},Eu.cancel=function(){this.J=!0,Ld(this)},Eu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(od(),ld(17)),Ld(this),this.s=2,Od(this)):Nd(this,this.Y-e)};var Ud=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vd){this.h=e.h,jd(this,e.j),this.s=e.s,this.g=e.g,zd(this,e.m),this.l=e.l;var t=e.i,n=new ef;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),qd(this,n),this.o=e.o}else e&&(t=String(e).match(Ud))?(this.h=!1,jd(this,t[1]||"",!0),this.s=Gd(t[2]||""),this.g=Gd(t[3]||"",!0),zd(this,t[4]),this.l=Gd(t[5]||"",!0),qd(this,t[6]||"",!0),this.o=Gd(t[7]||"")):(this.h=!1,this.i=new ef(null,this.h))}function Bd(e){return new Vd(e)}function jd(e,t,n){e.j=n?Gd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qd(e,t,n){t instanceof ef?(e.i=t,function(e,t){t&&!e.j&&(tf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nf(this,t),sf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Wd(t,Xd)),e.i=new ef(t,e.h))}function Kd(e,t,n){e.i.set(t,n)}function Hd(e){return Kd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wd(t,Yd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wd(t,Yd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wd(n,"/"==n.charAt(0)?Jd:$d,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wd(n,Zd)),e.join("")};var Yd=/[#\/\?@]/g,$d=/[#\?:]/g,Jd=/[#\?]/g,Xd=/[#\?@]/g,Zd=/#/g;function ef(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nf(e,t){tf(e),t=of(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rf(e,t){return tf(e),t=of(e,t),e.g.has(t)}function sf(e,t,n){nf(e,t),0<n.length&&(e.i=null,e.g.set(of(e,t),Uu(n)),e.h+=n.length)}function of(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Eu=ef.prototype).add=function(e,t){tf(this),this.i=null,e=of(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Eu.forEach=function(e,t){tf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Eu.ta=function(){tf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Eu.Z=function(e){tf(this);let t=[];if("string"===typeof e)rf(this,e)&&(t=t.concat(this.g.get(of(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Eu.set=function(e,t){return tf(this),this.i=null,rf(this,e=of(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Eu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Eu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var af=class{constructor(e,t){this.g=e,this.map=t}};function lf(e){this.l=e||cf,ku.PerformanceNavigationTiming?e=0<(e=ku.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ku.g&&ku.g.Ka&&ku.g.Ka()&&ku.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cf=10;function uf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hf(e){return e.h?1:e.g?e.g.size:0}function df(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ff(e,t){e.g?e.g.add(t):e.h=t}function pf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Uu(e.i)}lf.prototype.cancel=function(){if(this.i=mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gf,vf=class{stringify(e){return ku.JSON.stringify(e,void 0)}parse(e){return ku.JSON.parse(e,void 0)}};function yf(){this.g=new vf}function wf(e,t,n){const r=n||"";try{Fd(e,(function(e,n){let i=e;xu(e)&&(i=Oh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uR){throw t.push(r+"type="+encodeURIComponent("_badmap")),uR}}function _f(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ct){}}function bf(e){this.l=e.ec||null,this.j=e.ob||!1}function Ef(e,t){Rh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lu(bf,fd),bf.prototype.g=function(){return new Ef(this.l,this.j)},bf.prototype.i=(gf={},function(){return gf}),Lu(Ef,Rh);var Sf=0;function If(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Tf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kf(e)}function kf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Eu=Ef.prototype).open=function(e,t){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kf(this)},Eu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ku).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Eu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tf(this)),this.readyState=Sf},Eu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kf(this)),this.g&&(this.readyState=3,kf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ku.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;If(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Eu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tf(this):kf(this),3==this.readyState&&If(this)}},Eu.Za=function(e){this.g&&(this.response=this.responseText=e,Tf(this))},Eu.Ya=function(e){this.g&&(this.response=e,Tf(this))},Eu.ka=function(){this.g&&Tf(this)},Eu.setRequestHeader=function(e,t){this.v.append(e,t)},Eu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Eu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ef.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cf=ku.JSON.parse;function xf(e){Rh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Af,this.L=this.M=!1}Lu(xf,Rh);var Af="",Pf=/^https?$/i,Rf=["POST","PUT"];function Nf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Df(e),Lf(e)}function Df(e){e.F||(e.F=!0,Nh(e,"complete"),Nh(e,"error"))}function Of(e){if(e.h&&"undefined"!=typeof Tu&&(!e.C[1]||4!=Ff(e)||2!=e.da()))if(e.v&&4==Ff(e))Wh(e.La,0,e);else if(Nh(e,"readystatechange"),4==Ff(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Ud)[1]||null;!i&&ku.self&&ku.self.location&&(i=ku.self.location.protocol.slice(0,-1)),r=!Pf.test(i?i.toLowerCase():"")}n=r}if(n)Nh(e,"complete"),Nh(e,"success");else{e.m=6;try{var s=2<Ff(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Df(e)}}finally{Lf(e)}}}function Lf(e,t){if(e.g){Mf(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nh(e,"ready");try{n.onreadystatechange=r}catch(uR){}}}function Mf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ku.clearTimeout(e.A),e.A=null)}function Ff(e){return e.g?e.g.readyState:0}function Uf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Af:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vf(e){let t="";return dh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kd(e,t,n))}function jf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zf(e){this.Ga=0,this.j=[],this.l=new ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jf("baseRetryDelayMs",5e3,e),this.hb=jf("retryDelaySeedMs",1e4,e),this.eb=jf("forwardChannelMaxRetries",2,e),this.xa=jf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new lf(e&&e.concurrentRequestLimit),this.Ja=new yf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qf(e){if(Hf(e),3==e.H){var t=e.W++,n=Bd(e.I);if(Kd(n,"SID",e.K),Kd(n,"RID",t),Kd(n,"TYPE","terminate"),Qf(e,n),(t=new bd(e,e.l,t)).L=2,t.A=Hd(Bd(n)),n=!1,ku.navigator&&ku.navigator.sendBeacon)try{n=ku.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&ku.Image&&((new Image).src=t.A,n=!0),n||(t.g=op(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Rd(t)}ip(e)}function Kf(e){e.g&&(Xf(e),e.g.cancel(),e.g=null)}function Hf(e){Kf(e),e.u&&(ku.clearTimeout(e.u),e.u=null),ep(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ku.clearTimeout(e.m),e.m=null)}function Gf(e){if(!uf(e.i)&&!e.m){e.m=!0;var t=e.Na;Bh||qh(),jh||(Bh(),jh=!0),zh.add(t,e),e.C=0}}function Wf(e,t){var n;n=t?t.m:e.W++;const r=Bd(e.I);Kd(r,"SID",e.K),Kd(r,"RID",n),Kd(r,"AID",e.V),Qf(e,r),e.o&&e.s&&Bf(r,e.o,e.s),n=new bd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Yf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ff(e.i,n),kd(n,r,t)}function Qf(e,t){e.na&&dh(e.na,(function(e,n){Kd(t,n,e)})),e.h&&Fd({},(function(e,n){Kd(t,n,e)}))}function Yf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Du(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{wf(a,e,"req"+n+"_")}catch(Jt){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $f(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bh||qh(),jh||(Bh(),jh=!0),zh.add(t,e),e.A=0}}function Jf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ud(Du(e.Ma,e),np(e,e.A)),e.A++,!0)}function Xf(e){null!=e.B&&(ku.clearTimeout(e.B),e.B=null)}function Zf(e){e.g=new bd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bd(e.wa);Kd(t,"RID","rpc"),Kd(t,"SID",e.K),Kd(t,"AID",e.V),Kd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Kd(t,"TO",e.qa),Kd(t,"TYPE","xmlhttp"),Qf(e,t),e.o&&e.s&&Bf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Hd(Bd(t)),n.u=null,n.S=!0,Cd(n,e)}function ep(e){null!=e.v&&(ku.clearTimeout(e.v),e.v=null)}function tp(e,t){var n=null;if(e.g==t){ep(e),Xf(e),e.g=null;var r=2}else{if(!df(e.i,t))return;n=t.F,pf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Nh(r=id(),new cd(r,n)),Gf(e)}else $f(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(hf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ud(Du(e.Na,e,t),np(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rp(e,5);break;case 4:rp(e,10);break;case 3:rp(e,6);break;default:rp(e,2)}}function np(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function rp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Du(e.pb,e);n||(n=new Vd("//www.google.com/images/cleardot.gif"),ku.location&&"http"==ku.location.protocol||jd(n,"https"),Hd(n)),function(e,t){const n=new ed;if(ku.Image){const r=new Image;r.onload=Ou(_f,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ou(_f,n,r,"TestLoadImage: error",!1,t),r.onabort=Ou(_f,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ou(_f,n,r,"TestLoadImage: timeout",!1,t),ku.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ld(2);e.H=0,e.h&&e.h.za(t),ip(e),Hf(e)}function ip(e){if(e.H=0,e.ma=[],e.h){const t=mf(e.i);0==t.length&&0==e.j.length||(Vu(e.ma,t),Vu(e.ma,e.j),e.i.i.length=0,Uu(e.j),e.j.length=0),e.h.ya()}}function sp(e,t,n){var r=n instanceof Vd?Bd(n):new Vd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),zd(r,r.m);else{var i=ku.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Vd(null);r&&jd(s,r),t&&(s.g=t),i&&zd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Kd(r,n,t),Kd(r,"VER",e.ra),Qf(e,r),r}function op(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new xf(new bf({ob:n})):new xf(e.va)).Oa(e.J),t}function ap(){}function lp(){if(Yu&&!(10<=Number(sh)))throw Error("Environmental error: no available transport.")}function cp(e,t){Rh.call(this),this.g=new zf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dp(this)}function up(e){yd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hp(){wd.call(this),this.status=1}function dp(e){this.g=e}function fp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function mp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Eu=xf.prototype).Oa=function(e){this.M=e},Eu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gd.g(),this.C=this.u?pd(this.u):pd(gd),this.g.onreadystatechange=Du(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ct){return void Nf(this,Ct)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ku.FormData&&e instanceof ku.FormData,!(0<=Fu(Rf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mf(this),0<this.B&&((this.L=function(e){return Yu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Du(this.ua,this)):this.A=Wh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ct){Nf(this,Ct)}},Eu.ua=function(){"undefined"!=typeof Tu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nh(this,"timeout"),this.abort(8))},Eu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nh(this,"complete"),Nh(this,"abort"),Lf(this))},Eu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),xf.$.N.call(this)},Eu.La=function(){this.s||(this.G||this.v||this.l?Of(this):this.kb())},Eu.kb=function(){Of(this)},Eu.isActive=function(){return!!this.g},Eu.da=function(){try{return 2<Ff(this)?this.g.status:-1}catch(gf){return-1}},Eu.ja=function(){try{return this.g?this.g.responseText:""}catch(gf){return""}},Eu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cf(t)}},Eu.Ia=function(){return this.m},Eu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Eu=zf.prototype).ra=8,Eu.H=1,Eu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new bd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=fh(s),mh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yf(this,i,t),Kd(n=Bd(this.I),"RID",e),Kd(n,"CVER",22),this.F&&Kd(n,"X-HTTP-Session-Id",this.F),Qf(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vf(s)))+"&"+t:this.o&&Bf(n,this.o,s)),ff(this.i,i),this.bb&&Kd(n,"TYPE","init"),this.P?(Kd(n,"$req",t),Kd(n,"SID","null"),i.aa=!0,kd(i,n,null)):kd(i,n,t),this.H=2}}else 3==this.H&&(e?Wf(this,e):0==this.j.length||uf(this.i)||Wf(this))},Eu.Ma=function(){if(this.u=null,Zf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ud(Du(this.jb,this),e)}},Eu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ld(10),Kf(this),Zf(this))},Eu.ib=function(){null!=this.v&&(this.v=null,Kf(this),Jf(this),ld(19))},Eu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ld(2)):(this.l.info("Failed to ping google.com"),ld(1))},Eu.isActive=function(){return!!this.h&&this.h.isActive(this)},(Eu=ap.prototype).Ba=function(){},Eu.Aa=function(){},Eu.za=function(){},Eu.ya=function(){},Eu.isActive=function(){return!0},Eu.Va=function(){},lp.prototype.g=function(e,t){return new cp(e,t)},Lu(cp,Rh),cp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ld(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=sp(e,null,e.Y),Gf(e)},cp.prototype.close=function(){qf(this.g)},cp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Oh(e),e=n);t.j.push(new af(t.fb++,e)),3==t.H&&Gf(t)},cp.prototype.N=function(){this.g.h=null,delete this.j,qf(this.g),delete this.g,cp.$.N.call(this)},Lu(up,yd),Lu(hp,wd),Lu(dp,ap),dp.prototype.Ba=function(){Nh(this.g,"a")},dp.prototype.Aa=function(e){Nh(this.g,new up(e))},dp.prototype.za=function(e){Nh(this.g,new hp)},dp.prototype.ya=function(){Nh(this.g,"b")},Lu(fp,(function(){this.blockSize=-1})),fp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)pp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){pp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){pp(this,r),i=0;break}}this.h=i,this.i+=t},fp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var gp={};function vp(e){return-128<=e&&128>e?function(e,t){var n=gp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new mp([0|e],0>e?-1:0)})):new mp([0|e],0>e?-1:0)}function yp(e){if(isNaN(e)||!isFinite(e))return _p;if(0>e)return Tp(yp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=wp;return new mp(t,0)}var wp=4294967296,_p=vp(0),bp=vp(1),Ep=vp(16777216);function Sp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ip(e){return-1==e.h}function Tp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mp(n,~e.h).add(bp)}function kp(e,t){return e.add(Tp(t))}function Cp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xp(e,t){this.g=e,this.h=t}function Ap(e,t){if(Sp(t))throw Error("division by zero");if(Sp(e))return new xp(_p,_p);if(Ip(e))return t=Ap(Tp(e),t),new xp(Tp(t.g),Tp(t.h));if(Ip(t))return t=Ap(e,Tp(t)),new xp(Tp(t.g),t.h);if(30<e.g.length){if(Ip(e)||Ip(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bp,r=t;0>=r.X(e);)n=Pp(n),r=Pp(r);var i=Rp(n,1),s=Rp(r,1);for(r=Rp(r,2),n=Rp(n,2);!Sp(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Rp(r,1),n=Rp(n,1)}return t=kp(e,i.R(t)),new xp(i,t)}for(i=_p;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yp(n)).R(t);Ip(o)||0<o.X(e);)o=(s=yp(n-=r)).R(t);Sp(s)&&(s=bp),i=i.add(s),e=kp(e,o)}return new xp(i,e)}function Pp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mp(n,e.h)}function Rp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new mp(i,e.h)}(Eu=mp.prototype).ea=function(){if(Ip(this))return-Tp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:wp+r)*t,t*=wp}return e},Eu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Sp(this))return"0";if(Ip(this))return"-"+Tp(this).toString(e);for(var t=yp(Math.pow(e,6)),n=this,r="";;){var i=Ap(n,t).g,s=((0<(n=kp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Sp(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Eu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Eu.X=function(e){return Ip(e=kp(this,e))?-1:Sp(e)?0:1},Eu.abs=function(){return Ip(this)?Tp(this):this},Eu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new mp(n,-2147483648&n[n.length-1]?-1:0)},Eu.R=function(e){if(Sp(this)||Sp(e))return _p;if(Ip(this))return Ip(e)?Tp(this).R(Tp(e)):Tp(Tp(this).R(e));if(Ip(e))return Tp(this.R(Tp(e)));if(0>this.X(Ep)&&0>e.X(Ep))return yp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Cp(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Cp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mp(n,0)},Eu.gb=function(e){return Ap(this,e).h},Eu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mp(n,this.h&e.h)},Eu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mp(n,this.h|e.h)},Eu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mp(n,this.h^e.h)},lp.prototype.createWebChannel=lp.prototype.g,cp.prototype.send=cp.prototype.u,cp.prototype.open=cp.prototype.m,cp.prototype.close=cp.prototype.close,hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,dd.COMPLETE="complete",md.EventType=vd,vd.OPEN="a",vd.CLOSE="b",vd.ERROR="c",vd.MESSAGE="d",Rh.prototype.listen=Rh.prototype.O,xf.prototype.listenOnce=xf.prototype.P,xf.prototype.getLastError=xf.prototype.Sa,xf.prototype.getLastErrorCode=xf.prototype.Ia,xf.prototype.getStatus=xf.prototype.da,xf.prototype.getResponseJson=xf.prototype.Wa,xf.prototype.getResponseText=xf.prototype.ja,xf.prototype.send=xf.prototype.ha,xf.prototype.setWithCredentials=xf.prototype.Oa,fp.prototype.digest=fp.prototype.l,fp.prototype.reset=fp.prototype.reset,fp.prototype.update=fp.prototype.j,mp.prototype.add=mp.prototype.add,mp.prototype.multiply=mp.prototype.R,mp.prototype.modulo=mp.prototype.gb,mp.prototype.compare=mp.prototype.X,mp.prototype.toNumber=mp.prototype.ea,mp.prototype.toString=mp.prototype.toString,mp.prototype.getBits=mp.prototype.D,mp.fromNumber=yp,mp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Tp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=yp(Math.pow(n,8)),i=_p,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=yp(Math.pow(n,o)),i=i.R(o).add(yp(a))):i=(i=i.R(r)).add(yp(a))}return i};var Np=Iu.createWebChannelTransport=function(){return new lp},Dp=Iu.getStatEventTarget=function(){return id()},Op=Iu.ErrorCode=hd,Lp=Iu.EventType=dd,Mp=Iu.Event=nd,Fp=Iu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Up=(Iu.FetchXmlHttpFactory=bf,Iu.WebChannel=md),Vp=Iu.XhrIo=xf,Bp=Iu.Md5=fp,jp=Iu.Integer=mp;const zp="@firebase/firestore";class qp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qp.UNAUTHENTICATED=new qp(null),qp.GOOGLE_CREDENTIALS=new qp("google-credentials-uid"),qp.FIRST_PARTY=new qp("first-party-uid"),qp.MOCK_USER=new qp("mock-user");let Kp="10.11.0";const Hp=new ri("@firebase/firestore");function Gp(){return Hp.logLevel}function Wp(e){if(Hp.logLevel<=Xr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($p);Hp.debug("Firestore (".concat(Kp,"): ").concat(e),...i)}}function Qp(e){if(Hp.logLevel<=Xr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($p);Hp.error("Firestore (".concat(Kp,"): ").concat(e),...i)}}function Yp(e){if(Hp.logLevel<=Xr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($p);Hp.warn("Firestore (".concat(Kp,"): ").concat(e),...i)}}function $p(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Jp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Kp,") INTERNAL ASSERTION FAILED: ")+e;throw Qp(t),new Error(t)}function Xp(e,t){e||Jp()}function Zp(e,t){return e}const em={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tm extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class nm{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class rm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class im{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qp.UNAUTHENTICATED)))}shutdown(){}}class sm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class om{constructor(e){this.t=e,this.currentUser=qp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new nm;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nm,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Wp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Wp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nm)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Wp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xp("string"==typeof t.accessToken),new rm(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xp(null===e||"string"==typeof e),new qp(e)}}class am{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=qp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new am(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(qp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class um{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Wp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Wp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Wp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Wp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xp("string"==typeof e.token),this.R=e.token,new cm(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class dm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=hm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function fm(e,t){return e<t?-1:e>t?1:0}function pm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function mm(e){return e+"\0"}class gm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tm(em.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tm(em.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gm.fromMillis(Date.now())}static fromDate(e){return gm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new gm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fm(this.nanoseconds,e.nanoseconds):fm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vm(e)}static min(){return new vm(new gm(0,0))}static max(){return new vm(new gm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ym{constructor(e,t,n){void 0===t?t=0:t>e.length&&Jp(),void 0===n?n=e.length-t:n>e.length-t&&Jp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ym.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ym?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wm extends ym{construct(e,t,n){return new wm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new wm(e)}static emptyPath(){return new wm([])}}const _m=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bm extends ym{construct(e,t,n){return new bm(e,t,n)}static isValidIdentifier(e){return _m.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new tm(em.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new tm(em.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new tm(em.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new tm(em.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bm(t)}static emptyPath(){return new bm([])}}class Em{constructor(e){this.path=e}static fromPath(e){return new Em(wm.fromString(e))}static fromName(e){return new Em(wm.fromString(e).popFirst(5))}static empty(){return new Em(wm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Em(new wm(e.slice()))}}class Sm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Im(e){return e.fields.find((e=>2===e.kind))}function Tm(e){return e.fields.filter((e=>2!==e.kind))}Sm.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cm(0,Pm.min())}}function xm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vm.fromTimestamp(1e9===r?new gm(n+1,0):new gm(n,r));return new Pm(i,Em.empty(),t)}function Am(e){return new Pm(e.readTime,e.key,-1)}class Pm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Pm(vm.min(),Em.empty(),-1)}static max(){return new Pm(vm.max(),Em.empty(),-1)}}function Rm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Em.comparator(e.documentKey,t.documentKey),0!==n?n:fm(e.largestBatchId,t.largestBatchId))}const Nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Om(e){if(e.code!==em.FAILED_PRECONDITION||e.message!==Nm)throw e;Wp("LocalStore","Unexpectedly lost primary lease")}class Lm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Lm?t:Lm.resolve(t)}catch(e){return Lm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Lm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Lm.reject(t)}static resolve(e){return new Lm(((t,n)=>{t(e)}))}static reject(e){return new Lm(((t,n)=>{n(e)}))}static waitFor(e){return new Lm(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Lm.resolve(!1);for(const n of e)t=t.next((e=>e?Lm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Lm(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Lm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Mm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new nm,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Vm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Km(t.target.error);this.V.reject(new Vm(e,n))}}static open(e,t,n,r){try{return new Mm(t,e.transaction(r,n))}catch(e){throw new Vm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Wp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jm(t)}}class Fm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Fm.S(Tr())&&Qp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wp("SimpleDb","Removing database:",e),zm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Nr())return!1;if(Fm.C())return!0;const e=Tr(),t=Fm.S(e),n=0<t&&t<10,r=Fm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Wp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Vm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new tm(em.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new tm(em.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Vm(e,r))},r.onupgradeneeded=e=>{Wp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Wp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Mm.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Lm.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Wp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Um{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return zm(this.k.delete())}}class Vm extends tm{constructor(e,t){super(em.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Bm(e){return"IndexedDbTransactionError"===e.name}class jm{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Wp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Wp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zm(n)}add(e){return Wp("SimpleDb","ADD",this.store.name,e,e),zm(this.store.add(e))}get(e){return zm(this.store.get(e)).next((t=>(void 0===t&&(t=null),Wp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Wp("SimpleDb","DELETE",this.store.name,e),zm(this.store.delete(e))}count(){return Wp("SimpleDb","COUNT",this.store.name),zm(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Lm(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Lm(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Wp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Lm(((n,r)=>{t.onerror=e=>{const t=Km(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Lm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Um(i),o=t(i.primaryKey,i.value,s);if(o instanceof Lm){const e=o.catch((e=>(s.done(),Lm.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Lm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zm(e){return new Lm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Km(e.target.error);n(t)}}))}let qm=!1;function Km(e){const t=Fm.S(Tr());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new tm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return qm||(qm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Hm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Wp("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Wp("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Bm(e)?Wp("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Om(e)}await this.ee(6e4)}))}}class Gm{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Lm.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Wp("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Wp("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Am(t);Rm(r,n)>0&&(n=r)})),new Pm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Qm(e){return null==e}function Ym(e){return 0===e&&1/e==-1/0}function $m(e){return"number"==typeof e&&Number.isInteger(e)&&!Ym(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Jm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zm(t)),t=Xm(e.get(n),t);return Zm(t)}function Xm(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Zm(e){return e+"\x01\x01"}function eg(e){const t=e.length;if(Xp(t>=2),2===t)return Xp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),wm.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Jp(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Jp()}s=t+2}return new wm(r)}Wm._e=-1;const tg=["userId","batchId"];function ng(e,t){return[e,Jm(t)]}function rg(e,t,n){return[e,Jm(t),n]}const ig={},sg=["prefixPath","collectionGroup","readTime","documentId"],og=["prefixPath","collectionGroup","documentId"],ag=["collectionGroup","readTime","prefixPath","documentId"],lg=["canonicalId","targetId"],cg=["targetId","path"],ug=["path","targetId"],hg=["collectionId","parent"],dg=["indexId","uid"],fg=["uid","sequenceNumber"],pg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mg=["indexId","uid","orderedDocumentKey"],gg=["userId","collectionPath","documentId"],vg=["userId","collectionPath","largestBatchId"],yg=["userId","collectionGroup","largestBatchId"],wg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_g=[...wg,"documentOverlays"],bg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Eg=bg,Sg=[...Eg,"indexConfiguration","indexState","indexEntries"],Ig=Sg;class Tg extends Dm{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function kg(e,t){const n=Zp(e);return Fm.M(n.ae,t)}function Cg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ag(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Pg{constructor(e,t){this.comparator=e,this.root=t||Ng.EMPTY}insert(e,t){return new Pg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ng.BLACK,null,null))}remove(e){return new Pg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ng.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rg(this.root,e,this.comparator,!0)}}class Rg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ng{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ng.RED,this.left=null!=r?r:Ng.EMPTY,this.right=null!=i?i:Ng.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ng(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ng.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ng.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ng.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ng.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jp();if(this.right.isRed())throw Jp();const e=this.left.check();if(e!==this.right.check())throw Jp();return e+(this.isRed()?0:1)}}Ng.EMPTY=null,Ng.RED=!0,Ng.BLACK=!1,Ng.EMPTY=new class{constructor(){this.size=0}get key(){throw Jp()}get value(){throw Jp()}get color(){throw Jp()}get left(){throw Jp()}get right(){throw Jp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ng(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dg{constructor(e){this.comparator=e,this.data=new Pg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Og(this.data.getIterator())}getIteratorFrom(e){return new Og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Dg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dg(this.comparator);return t.data=e,t}}class Og{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lg(e){return e.hasNext()?e.getNext():void 0}class Mg{constructor(e){this.fields=e,e.sort(bm.comparator)}static empty(){return new Mg([])}unionWith(e){let t=new Dg(bm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Fg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ug{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fg("Invalid base64 string: "+e):e}}(e);return new Ug(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ug(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ug.EMPTY_BYTE_STRING=new Ug("");const Vg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bg(e){if(Xp(!!e),"string"==typeof e){let t=0;const n=Vg.exec(e);if(Xp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jg(e.seconds),nanos:jg(e.nanos)}}function jg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zg(e){return"string"==typeof e?Ug.fromBase64String(e):Ug.fromUint8Array(e)}function qg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kg(e){const t=e.mapValue.fields.__previous_value__;return qg(t)?Kg(t):t}function Hg(e){const t=Bg(e.mapValue.fields.__local_write_time__.timestampValue);return new gm(t.seconds,t.nanos)}class Gg{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Wg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wg&&e.projectId===this.projectId&&e.database===this.database}}const Qg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yg={nullValue:"NULL_VALUE"};function $g(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qg(e)?4:uv(e)?9007199254740991:10:Jp()}function Jg(e,t){if(e===t)return!0;const n=$g(e);if(n!==$g(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hg(e).isEqual(Hg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bg(e.timestampValue),r=Bg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zg(e.bytesValue).isEqual(zg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jg(e.geoPointValue.latitude)===jg(t.geoPointValue.latitude)&&jg(e.geoPointValue.longitude)===jg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jg(e.integerValue)===jg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jg(e.doubleValue),r=jg(t.doubleValue);return n===r?Ym(n)===Ym(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pm(e.arrayValue.values||[],t.arrayValue.values||[],Jg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cg(n)!==Cg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jg(n[i],r[i])))return!1;return!0}(e,t);default:return Jp()}}function Xg(e,t){return void 0!==(e.values||[]).find((e=>Jg(e,t)))}function Zg(e,t){if(e===t)return 0;const n=$g(e),r=$g(t);if(n!==r)return fm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jg(e.integerValue||e.doubleValue),r=jg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ev(e.timestampValue,t.timestampValue);case 4:return ev(Hg(e),Hg(t));case 5:return fm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=zg(e),r=zg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=fm(n[i],r[i]);if(0!==e)return e}return fm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fm(jg(e.latitude),jg(t.latitude));return 0!==n?n:fm(jg(e.longitude),jg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Zg(n[i],r[i]);if(e)return e}return fm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Qg.mapValue&&t===Qg.mapValue)return 0;if(e===Qg.mapValue)return 1;if(t===Qg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=fm(r[o],s[o]);if(0!==e)return e;const t=Zg(n[r[o]],i[s[o]]);if(0!==t)return t}return fm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Jp()}}function ev(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fm(e,t);const n=Bg(e),r=Bg(t),i=fm(n.seconds,r.seconds);return 0!==i?i:fm(n.nanos,r.nanos)}function tv(e){return nv(e)}function nv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return zg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Em.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=nv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(nv(e.fields[i]));return n+"}"}(e.mapValue):Jp()}function rv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function iv(e){return!!e&&"integerValue"in e}function sv(e){return!!e&&"arrayValue"in e}function ov(e){return!!e&&"nullValue"in e}function av(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lv(e){return!!e&&"mapValue"in e}function cv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=cv(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function uv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function hv(e){return"nullValue"in e?Yg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?rv(Wg.empty(),Em.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Jp()}function dv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?rv(Wg.empty(),Em.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Qg:Jp()}function fv(e,t){const n=Zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function pv(e,t){const n=Zg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class mv{constructor(e){this.value=e}static empty(){return new mv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cv(t)}setAll(e){let t=bm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=cv(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());lv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new mv(cv(this.value))}}function gv(e){const t=[];return xg(e.fields,((e,n)=>{const r=new bm([e]);if(lv(n)){const e=gv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Mg(t)}class vv{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new vv(e,0,vm.min(),vm.min(),vm.min(),mv.empty(),0)}static newFoundDocument(e,t,n,r){return new vv(e,1,t,vm.min(),n,r,0)}static newNoDocument(e,t){return new vv(e,2,t,vm.min(),vm.min(),mv.empty(),0)}static newUnknownDocument(e,t){return new vv(e,3,t,vm.min(),vm.min(),mv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yv{constructor(e,t){this.position=e,this.inclusive=t}}function wv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Em.comparator(Em.fromName(o.referenceValue),n.key):Zg(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _v(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jg(e.position[n],t.position[n]))return!1;return!0}class bv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ev(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Sv{}class Iv extends Sv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ov(e,t,n):"array-contains"===t?new Uv(e,n):"in"===t?new Vv(e,n):"not-in"===t?new Bv(e,n):"array-contains-any"===t?new jv(e,n):new Iv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Lv(e,n):new Mv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zg(t,this.value)):null!==t&&$g(this.value)===$g(t)&&this.matchesComparison(Zg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tv extends Sv{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Tv(e,t)}matches(e){return kv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function kv(e){return"and"===e.op}function Cv(e){return"or"===e.op}function xv(e){return Av(e)&&kv(e)}function Av(e){for(const t of e.filters)if(t instanceof Tv)return!1;return!0}function Pv(e){if(e instanceof Iv)return e.field.canonicalString()+e.op.toString()+tv(e.value);if(xv(e))return e.filters.map((e=>Pv(e))).join(",");{const t=e.filters.map((e=>Pv(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Rv(e,t){return e instanceof Iv?function(e,t){return t instanceof Iv&&e.op===t.op&&e.field.isEqual(t.field)&&Jg(e.value,t.value)}(e,t):e instanceof Tv?function(e,t){return t instanceof Tv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Rv(n,t.filters[r])),!0)}(e,t):void Jp()}function Nv(e,t){const n=e.filters.concat(t);return Tv.create(n,e.op)}function Dv(e){return e instanceof Iv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(tv(e.value))}(e):e instanceof Tv?function(e){return e.op.toString()+" {"+e.getFilters().map(Dv).join(" ,")+"}"}(e):"Filter"}class Ov extends Iv{constructor(e,t,n){super(e,t,n),this.key=Em.fromName(n.referenceValue)}matches(e){const t=Em.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lv extends Iv{constructor(e,t){super(e,"in",t),this.keys=Fv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Mv extends Iv{constructor(e,t){super(e,"not-in",t),this.keys=Fv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Em.fromName(e.referenceValue)))}class Uv extends Iv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sv(t)&&Xg(t.arrayValue,this.value)}}class Vv extends Iv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xg(this.value.arrayValue,t)}}class Bv extends Iv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xg(this.value.arrayValue,t)}}class jv extends Iv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xg(this.value.arrayValue,e)))}}class zv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function qv(e){return new zv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Kv(e){const t=Zp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Pv(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Qm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>tv(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>tv(e))).join(",")),t.ce=e}return t.ce}function Hv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ev(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Rv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_v(e.startAt,t.startAt)&&_v(e.endAt,t.endAt)}function Gv(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Wv(e,t){return e.filters.filter((e=>e instanceof Iv&&e.field.isEqual(t)))}function Qv(e,t,n){let r=Yg,i=!0;for(const s of Wv(e,t)){let e=Yg,t=!0;switch(s.op){case"<":case"<=":e=hv(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Yg}fv({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];fv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Yv(e,t,n){let r=Qg,i=!0;for(const s of Wv(e,t)){let e=Qg,t=!0;switch(s.op){case">=":case">":e=dv(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Qg}pv({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];pv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class $v{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Jv(e,t,n,r,i,s,o,a){return new $v(e,t,n,r,i,s,o,a)}function Xv(e){return new $v(e)}function Zv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ey(e){return null!==e.collectionGroup}function ty(e){const t=Zp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Dg(bm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new bv(r,n))})),e.has(bm.keyField().canonicalString())||t.le.push(new bv(bm.keyField(),n))}return t.le}function ny(e){const t=Zp(e);return t.he||(t.he=ry(t,ty(e))),t.he}function ry(e,t){if("F"===e.limitType)return qv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new bv(e.field,t)}));const n=e.endAt?new yv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yv(e.startAt.position,e.startAt.inclusive):null;return qv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iy(e,t){const n=e.filters.concat([t]);return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function sy(e,t,n){return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oy(e,t){return Hv(ny(e),ny(t))&&e.limitType===t.limitType}function ay(e){return"".concat(Kv(ny(e)),"|lt:").concat(e.limitType)}function ly(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Dv(e))).join(", "),"]")),Qm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>tv(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>tv(e))).join(",")),"Target(".concat(t,")")}(ny(e)),"; limitType=").concat(e.limitType,")")}function cy(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Em.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ty(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=wv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ty(e),t))&&!(e.endAt&&!function(e,t,n){const r=wv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ty(e),t))}(e,t)}function uy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hy(e){return(t,n)=>{let r=!1;for(const i of ty(e)){const e=dy(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function dy(e,t,n){const r=e.field.isKeyField()?Em.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zg(r,i):Jp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jp()}}class fy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ag(this.inner)}size(){return this.innerSize}}const py=new Pg(Em.comparator);function my(){return py}const gy=new Pg(Em.comparator);function vy(){let e=gy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function yy(e){let t=gy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function wy(){return by()}function _y(){return by()}function by(){return new fy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ey=new Pg(Em.comparator),Sy=new Dg(Em.comparator);function Iy(){let e=Sy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ty=new Dg(fm);function ky(){return Ty}function Cy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ym(t)?"-0":t}}function xy(e){return{integerValue:""+e}}function Ay(e,t){return $m(t)?xy(t):Cy(e,t)}class Py{constructor(){this._=void 0}}function Ry(e,t,n){return e instanceof Oy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&qg(t)&&(t=Kg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ly?My(e,t):e instanceof Fy?Uy(e,t):function(e,t){const n=Dy(e,t),r=By(n)+By(e.Ie);return iv(n)&&iv(e.Ie)?xy(r):Cy(e.serializer,r)}(e,t)}function Ny(e,t,n){return e instanceof Ly?My(e,t):e instanceof Fy?Uy(e,t):n}function Dy(e,t){return e instanceof Vy?function(e){return iv(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Oy extends Py{}class Ly extends Py{constructor(e){super(),this.elements=e}}function My(e,t){const n=jy(t);for(const r of e.elements)n.some((e=>Jg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Fy extends Py{constructor(e){super(),this.elements=e}}function Uy(e,t){let n=jy(t);for(const r of e.elements)n=n.filter((e=>!Jg(e,r)));return{arrayValue:{values:n}}}class Vy extends Py{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function By(e){return jg(e.integerValue||e.doubleValue)}function jy(e){return sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zy{constructor(e,t){this.field=e,this.transform=t}}class qy{constructor(e,t){this.version=e,this.transformResults=t}}class Ky{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ky}static exists(e){return new Ky(void 0,e)}static updateTime(e){return new Ky(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gy{}function Wy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rw(e.key,Ky.none()):new Xy(e.key,e.data,Ky.none());{const n=e.data,r=mv.empty();let i=new Dg(bm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Zy(e.key,r,new Mg(i.toArray()),Ky.none())}}function Qy(e,t,n){e instanceof Xy?function(e,t,n){const r=e.value.clone(),i=tw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zy?function(e,t,n){if(!Hy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=tw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ew(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Yy(e,t,n,r){return e instanceof Xy?function(e,t,n,r){if(!Hy(e.precondition,t))return n;const i=e.value.clone(),s=nw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zy?function(e,t,n,r){if(!Hy(e.precondition,t))return n;const i=nw(e.fieldTransforms,r,t),s=t.data;return s.setAll(ew(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Hy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $y(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Dy(r.transform,e||null);null!=i&&(null===n&&(n=mv.empty()),n.set(r.field,i))}return n||null}function Jy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ly&&t instanceof Ly||e instanceof Fy&&t instanceof Fy?pm(e.elements,t.elements,Jg):e instanceof Vy&&t instanceof Vy?Jg(e.Ie,t.Ie):e instanceof Oy&&t instanceof Oy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xy extends Gy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zy extends Gy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ew(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function tw(e,t,n){const r=new Map;Xp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ny(o,a,n[i]))}return r}function nw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ry(e,s,t))}return r}class rw extends Gy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iw extends Gy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Qy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Yy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Yy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_y();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Wy(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(vm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Iy())}isEqual(e){return this.batchId===e.batchId&&pm(this.mutations,e.mutations,((e,t)=>Jy(e,t)))&&pm(this.baseMutations,e.baseMutations,((e,t)=>Jy(e,t)))}}class ow{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xp(e.mutations.length===n.length);let r=Ey;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ow(e,t,n,r)}}class aw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class lw{constructor(e,t){this.count=e,this.unchangedNames=t}}var cw,uw;function hw(e){switch(e){default:return Jp();case em.CANCELLED:case em.UNKNOWN:case em.DEADLINE_EXCEEDED:case em.RESOURCE_EXHAUSTED:case em.INTERNAL:case em.UNAVAILABLE:case em.UNAUTHENTICATED:return!1;case em.INVALID_ARGUMENT:case em.NOT_FOUND:case em.ALREADY_EXISTS:case em.PERMISSION_DENIED:case em.FAILED_PRECONDITION:case em.ABORTED:case em.OUT_OF_RANGE:case em.UNIMPLEMENTED:case em.DATA_LOSS:return!0}}function dw(e){if(void 0===e)return Qp("GRPC error has no .code"),em.UNKNOWN;switch(e){case cw.OK:return em.OK;case cw.CANCELLED:return em.CANCELLED;case cw.UNKNOWN:return em.UNKNOWN;case cw.DEADLINE_EXCEEDED:return em.DEADLINE_EXCEEDED;case cw.RESOURCE_EXHAUSTED:return em.RESOURCE_EXHAUSTED;case cw.INTERNAL:return em.INTERNAL;case cw.UNAVAILABLE:return em.UNAVAILABLE;case cw.UNAUTHENTICATED:return em.UNAUTHENTICATED;case cw.INVALID_ARGUMENT:return em.INVALID_ARGUMENT;case cw.NOT_FOUND:return em.NOT_FOUND;case cw.ALREADY_EXISTS:return em.ALREADY_EXISTS;case cw.PERMISSION_DENIED:return em.PERMISSION_DENIED;case cw.FAILED_PRECONDITION:return em.FAILED_PRECONDITION;case cw.ABORTED:return em.ABORTED;case cw.OUT_OF_RANGE:return em.OUT_OF_RANGE;case cw.UNIMPLEMENTED:return em.UNIMPLEMENTED;case cw.DATA_LOSS:return em.DATA_LOSS;default:return Jp()}}(uw=cw||(cw={}))[uw.OK=0]="OK",uw[uw.CANCELLED=1]="CANCELLED",uw[uw.UNKNOWN=2]="UNKNOWN",uw[uw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uw[uw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uw[uw.NOT_FOUND=5]="NOT_FOUND",uw[uw.ALREADY_EXISTS=6]="ALREADY_EXISTS",uw[uw.PERMISSION_DENIED=7]="PERMISSION_DENIED",uw[uw.UNAUTHENTICATED=16]="UNAUTHENTICATED",uw[uw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uw[uw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uw[uw.ABORTED=10]="ABORTED",uw[uw.OUT_OF_RANGE=11]="OUT_OF_RANGE",uw[uw.UNIMPLEMENTED=12]="UNIMPLEMENTED",uw[uw.INTERNAL=13]="INTERNAL",uw[uw.UNAVAILABLE=14]="UNAVAILABLE",uw[uw.DATA_LOSS=15]="DATA_LOSS";let fw=null;function pw(){return new TextEncoder}const mw=new jp([4294967295,4294967295],0);function gw(e){const t=pw().encode(e),n=new Bp;return n.update(t),new Uint8Array(n.digest())}function vw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new jp([n,r],0),new jp([i,s],0)]}class yw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ww("Invalid padding: ".concat(t));if(n<0)throw new ww("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ww("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ww("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=jp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(jp.fromNumber(n)));return 1===r.compare(mw)&&(r=new jp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=gw(e),[n,r]=vw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new yw(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=gw(e),[n,r]=vw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ww extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _w{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _w(vm.min(),r,new Pg(fm),my(),Iy())}}class bw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bw(n,t,Iy(),Iy(),Iy())}}class Ew{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Sw{constructor(e,t){this.targetId=e,this.fe=t}}class Iw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ug.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Tw{constructor(){this.ge=0,this.pe=xw(),this.ye=Ug.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Iy(),t=Iy(),n=Iy();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jp()}})),new bw(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=xw()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xp(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class kw{constructor(e){this.Be=e,this.ke=new Map,this.qe=my(),this.Qe=Cw(),this.Ke=new Pg(fm)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Jp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Gv(i))if(0===n){const e=new Em(i.path);this.We(t,e,vv.newNoDocument(e,vm.min()))}else Xp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==fw||fw.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=zg(n).toUint8Array()}catch(e){if(e instanceof Fg)return Yp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new yw(s,r,i)}catch(e){return Yp(e instanceof ww?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Gv(i.target)){const t=new Em(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,vv.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Iy();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new _w(e,t,this.Ke,this.qe,n);return this.qe=my(),this.Qe=Cw(),this.Ke=new Pg(fm),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Tw,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Dg(fm),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Wp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Tw),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Cw(){return new Pg(Em.comparator)}function xw(){return new Pg(Em.comparator)}const Aw={asc:"ASCENDING",desc:"DESCENDING"},Pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class Nw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dw(e,t){return e.useProto3Json||Qm(t)?t:{value:t}}function Ow(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mw(e,t){return Ow(e,t.toTimestamp())}function Fw(e){return Xp(!!e),vm.fromTimestamp(function(e){const t=Bg(e);return new gm(t.seconds,t.nanos)}(e))}function Uw(e,t){return Vw(e,t).canonicalString()}function Vw(e,t){const n=function(e){return new wm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Bw(e){const t=wm.fromString(e);return Xp(l_(t)),t}function jw(e,t){return Uw(e.databaseId,t.path)}function zw(e,t){const n=Bw(t);if(n.get(1)!==e.databaseId.projectId)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new tm(em.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Em(Gw(n))}function qw(e,t){return Uw(e.databaseId,t)}function Kw(e){const t=Bw(e);return 4===t.length?wm.emptyPath():Gw(t)}function Hw(e){return new wm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gw(e){return Xp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ww(e,t,n){return{name:jw(e,t),fields:n.value.mapValue.fields}}function Qw(e,t,n){const r=zw(e,t.name),i=Fw(t.updateTime),s=t.createTime?Fw(t.createTime):vm.min(),o=new mv({mapValue:{fields:t.fields}}),a=vv.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Yw(e,t){let n;if(t instanceof Xy)n={update:Ww(e,t.key,t.value)};else if(t instanceof rw)n={delete:jw(e,t.key)};else if(t instanceof Zy)n={update:Ww(e,t.key,t.data),updateMask:a_(t.fieldMask)};else{if(!(t instanceof iw))return Jp();n={verify:jw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Oy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ly)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vy)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Jp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jp()}(e,t.precondition)),n}function $w(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ky.updateTime(Fw(e.updateTime)):void 0!==e.exists?Ky.exists(e.exists):Ky.none()}(t.currentDocument):Ky.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Xp("REQUEST_TIME"===t.setToServerValue),n=new Oy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ly(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Fy(e)}else"increment"in t?n=new Vy(e,t.increment):Jp();const r=bm.fromServerFormat(t.fieldPath);return new zy(r,n)}(e,t))):[];if(t.update){t.update.name;const i=zw(e,t.update.name),s=new mv({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Mg(t.map((e=>bm.fromServerFormat(e))))}(t.updateMask);return new Zy(i,s,e,n,r)}return new Xy(i,s,n,r)}if(t.delete){const r=zw(e,t.delete);return new rw(r,n)}if(t.verify){const r=zw(e,t.verify);return new iw(r,n)}return Jp()}function Jw(e,t){return{documents:[qw(e,t.path)]}}function Xw(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qw(e,i);const s=function(e){if(0!==e.length)return o_(Tv.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:i_(e.field),direction:t_(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dw(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Zw(e){let t=Kw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=e_(e);return t instanceof Tv&&xv(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new bv(s_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Qm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new yv(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new yv(n,t)}(n.endAt)),Jv(t,i,o,s,a,"F",l,c)}function e_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=s_(e.unaryFilter.field);return Iv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=s_(e.unaryFilter.field);return Iv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=s_(e.unaryFilter.field);return Iv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=s_(e.unaryFilter.field);return Iv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jp()}}(e):void 0!==e.fieldFilter?function(e){return Iv.create(s_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Tv.create(e.compositeFilter.filters.map((e=>e_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Jp()}}(e.compositeFilter.op))}(e):Jp()}function t_(e){return Aw[e]}function n_(e){return Pw[e]}function r_(e){return Rw[e]}function i_(e){return{fieldPath:e.canonicalString()}}function s_(e){return bm.fromServerFormat(e.fieldPath)}function o_(e){return e instanceof Iv?function(e){if("=="===e.op){if(av(e.value))return{unaryFilter:{field:i_(e.field),op:"IS_NAN"}};if(ov(e.value))return{unaryFilter:{field:i_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(av(e.value))return{unaryFilter:{field:i_(e.field),op:"IS_NOT_NAN"}};if(ov(e.value))return{unaryFilter:{field:i_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:i_(e.field),op:n_(e.op),value:e.value}}}(e):e instanceof Tv?function(e){const t=e.getFilters().map((e=>o_(e)));return 1===t.length?t[0]:{compositeFilter:{op:r_(e.op),filters:t}}}(e):Jp()}function a_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function l_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class c_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:vm.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ug.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new c_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new c_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new c_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new c_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class u_{constructor(e){this.ct=e}}function h_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:d_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ow(e,t.version.toTimestamp()),createTime:Ow(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:f_(t.version)};else{if(!t.isUnknownDocument())return Jp();r.unknownDocument={path:n.path.toArray(),version:f_(t.version)}}return r}function d_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function f_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function p_(e){const t=new gm(e.seconds,e.nanoseconds);return vm.fromTimestamp(t)}function m_(e,t){const n=(t.baseMutations||[]).map((t=>$w(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>$w(e.ct,t))),i=gm.fromMillis(t.localWriteTimeMs);return new sw(t.batchId,i,n,r)}function g_(e){const t=p_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?p_(e.lastLimboFreeSnapshotVersion):vm.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Xp(1===e.documents.length),ny(Xv(Kw(e.documents[0])))}(e.query):function(e){return ny(Zw(e))}(e.query),new c_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ug.fromBase64String(e.resumeToken))}function v_(e,t){const n=f_(t.snapshotVersion),r=f_(t.lastLimboFreeSnapshotVersion);let i;i=Gv(t.target)?Jw(e.ct,t.target):Xw(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Kv(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function y_(e){const t=Zw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sy(t,t.limit,"L"):t}function w_(e,t){return new aw(t.largestBatchId,$w(e.ct,t.overlayMutation))}function __(e,t){const n=t.path.lastSegment();return[e,Jm(t.path.popLast()),n]}function b_(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:f_(r.readTime),documentKey:Jm(r.documentKey.path),largestBatchId:r.largestBatchId}}class E_{getBundleMetadata(e,t){return S_(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:p_(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return S_(e).put(function(e){return{bundleId:e.id,createTime:f_(Fw(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return I_(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:y_(e.bundledQuery),readTime:p_(e.readTime)}}(e)}))}saveNamedQuery(e,t){return I_(e).put(function(e){return{name:e.name,readTime:f_(Fw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function S_(e){return kg(e,"bundles")}function I_(e){return kg(e,"namedQueries")}class T_{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new T_(e,n)}getOverlay(e,t){return k_(e).get(__(this.userId,t)).next((e=>e?w_(this.serializer,e):null))}getOverlays(e,t){const n=wy();return Lm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new aw(t,i);r.push(this.ht(e,s))})),Lm.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Jm(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(k_(e).H("collectionPathOverlayIndex",r))})),Lm.waitFor(i)}getOverlaysForCollection(e,t,n){const r=wy(),i=Jm(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return k_(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=w_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=wy();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return k_(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=w_(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return k_(e).put(function(e,t,n){const[r,i,s]=__(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Yw(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function k_(e){return kg(e,"documentOverlays")}class C_{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(jg(e.integerValue));else if("doubleValue"in e){const n=jg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ym(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Bg(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(zg(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?uv(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Jp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Em.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function x_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function A_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=x_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}C_.bt=new C_;class P_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=A_(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=A_(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class R_{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class N_{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class D_{constructor(){this.Gt=new P_,this.zt=new R_(this.Gt),this.jt=new N_(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class O_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new O_(this.indexId,this.documentKey,this.arrayValue,n)}}function L_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=M_(e.arrayValue,t.arrayValue),0!==n?n:(n=M_(e.directionalValue,t.directionalValue),0!==n?n:Em.comparator(e.documentKey,t.documentKey)))}function M_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class F_{constructor(e){this.Yt=new Dg(((e,t)=>bm.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Xp(e.collectionGroup===this.collectionId),this.en)return!1;const t=Im(e);if(void 0!==t&&!this.nn(t))return!1;const n=Tm(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new Dg(bm.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new km(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new km(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new km(n.field,"asc"===n.dir?0:1)));return new Sm(Sm.UNKNOWN_ID,this.collectionId,t,Cm.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function U_(e){var t,n;if(Xp(e instanceof Iv||e instanceof Tv),e instanceof Iv){if(e instanceof Vv){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Iv.create(e.field,"==",t))))||[];return Tv.create(r,"or")}return e}const r=e.filters.map((e=>U_(e)));return Tv.create(r,e.op)}function V_(e){if(0===e.getFilters().length)return[];const t=q_(U_(e));return Xp(z_(t)),B_(t)||j_(t)?[t]:t.getFilters()}function B_(e){return e instanceof Iv}function j_(e){return e instanceof Tv&&xv(e)}function z_(e){return B_(e)||j_(e)||function(e){if(e instanceof Tv&&Cv(e)){for(const t of e.getFilters())if(!B_(t)&&!j_(t))return!1;return!0}return!1}(e)}function q_(e){if(Xp(e instanceof Iv||e instanceof Tv),e instanceof Iv)return e;if(1===e.filters.length)return q_(e.filters[0]);const t=e.filters.map((e=>q_(e)));let n=Tv.create(t,e.op);return n=G_(n),z_(n)?n:(Xp(n instanceof Tv),Xp(kv(n)),Xp(n.filters.length>1),n.filters.reduce(((e,t)=>K_(e,t))))}function K_(e,t){let n;return Xp(e instanceof Iv||e instanceof Tv),Xp(t instanceof Iv||t instanceof Tv),n=e instanceof Iv?t instanceof Iv?function(e,t){return Tv.create([e,t],"and")}(e,t):H_(e,t):t instanceof Iv?H_(t,e):function(e,t){if(Xp(e.filters.length>0&&t.filters.length>0),kv(e)&&kv(t))return Nv(e,t.getFilters());const n=Cv(e)?e:t,r=Cv(e)?t:e,i=n.filters.map((e=>K_(e,r)));return Tv.create(i,"or")}(e,t),G_(n)}function H_(e,t){if(kv(t))return Nv(t,e.getFilters());{const n=t.filters.map((t=>K_(e,t)));return Tv.create(n,"or")}}function G_(e){if(Xp(e instanceof Iv||e instanceof Tv),e instanceof Iv)return e;const t=e.getFilters();if(1===t.length)return G_(t[0]);if(Av(e))return e;const n=t.map((e=>G_(e))),r=[];return n.forEach((t=>{t instanceof Iv?r.push(t):t instanceof Tv&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Tv.create(r,e.op)}class W_{constructor(){this._n=new Q_}addToCollectionParentIndex(e,t){return this._n.add(t),Lm.resolve()}getCollectionParents(e,t){return Lm.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Lm.resolve()}deleteFieldIndex(e,t){return Lm.resolve()}deleteAllFieldIndexes(e){return Lm.resolve()}createTargetIndexes(e,t){return Lm.resolve()}getDocumentsMatchingTarget(e,t){return Lm.resolve(null)}getIndexType(e,t){return Lm.resolve(0)}getFieldIndexes(e,t){return Lm.resolve([])}getNextCollectionGroupToUpdate(e){return Lm.resolve(null)}getMinOffset(e,t){return Lm.resolve(Pm.min())}getMinOffsetFromCollectionGroup(e,t){return Lm.resolve(Pm.min())}updateCollectionGroup(e,t,n){return Lm.resolve()}updateIndexEntries(e,t){return Lm.resolve()}}class Q_{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Dg(wm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Dg(wm.comparator)).toArray()}}const Y_=new Uint8Array(0);class $_{constructor(e,t){this.databaseId=t,this.an=new Q_,this.un=new fy((e=>Kv(e)),((e,t)=>Hv(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Jm(r)};return J_(e).put(i)}return Lm.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return J_(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(eg(r.parent))}return n}))}addFieldIndex(e,t){const n=Z_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=eb(e);return i.next((e=>{n.put(b_(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Z_(e),r=eb(e),i=X_(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Z_(e),n=X_(e),r=eb(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Lm.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new F_(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=X_(e);let r=!0;const i=new Map;return Lm.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Iy();const r=[];return Lm.forEach(i,((i,s)=>{Wp("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Kv(t)));const o=function(e,t){const n=Im(t);if(void 0===n)return null;for(const r of Wv(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Tm(t))for(const t of Wv(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Tm(t)){const t=0===i.kind?Qv(e,i.fieldPath,e.startAt):Yv(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new yv(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Tm(t)){const t=0===i.kind?Yv(e,i.fieldPath,e.endAt):Qv(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new yv(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,a),f=this.In(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return Lm.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Em.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Lm.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:V_(Tv.create(e.filters,"and")).map((t=>qv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/l]):Y_,h=this.En(e,a,n[u%l],r),d=this.dn(e,a,i[u%l],s),f=o.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new O_(e,Em.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new O_(e,Em.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new F_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Lm.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Dg(bm.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new D_;for(const r of Tm(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);C_.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new D_;return C_.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new D_;return C_.bt.Pt(rv(this.databaseId,t),n.Ht(function(e){const t=Tm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new D_);let i=0;for(const s of Tm(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&sv(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);C_.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new D_;n.seed(e.Wt()),C_.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Iv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Z_(e),r=eb(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Lm.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Cm(t.sequenceNumber,new Pm(p_(t.readTime),new Em(eg(t.documentKey)),t.largestBatchId)):Cm.empty(),r=e.fields.map((e=>{let[t,n]=e;return new km(bm.fromServerFormat(t),n)}));return new Sm(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:fm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Z_(e),i=eb(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Lm.forEach(t,(t=>i.put(b_(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Lm.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Lm.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Lm.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Lm.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return X_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return X_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=X_(e);let i=new Dg(L_);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new O_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Dg(L_);const r=this.An(t,e);if(null==r)return n;const i=Im(t);if(null!=i){const s=e.data.field(i.fieldPath);if(sv(s))for(const i of s.arrayValue.values||[])n=n.add(new O_(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new O_(t.indexId,e.key,Y_,r));return n}wn(e,t,n,r,i){Wp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Lg(s),l=Lg(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Lg(o)):t?(i(a),a=Lg(s)):(a=Lg(s),l=Lg(o))}}(r,i,L_,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),Lm.waitFor(s)}gn(e){let t=1;return eb(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>L_(e,t))).filter(((e,t,n)=>!t||0!==L_(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=L_(s,e),i=L_(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Y_,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Y_,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return L_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tb)}getMinOffset(e,t){return Lm.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Jp())))).next(tb)}}function J_(e){return kg(e,"collectionParents")}function X_(e){return kg(e,"indexEntries")}function Z_(e){return kg(e,"indexConfiguration")}function eb(e){return kg(e,"indexState")}function tb(e){Xp(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Rm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Pm(t.readTime,t.documentKey,n)}const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new rb(e,rb.DEFAULT_COLLECTION_PERCENTILE,rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ib(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Xp(1===a)})));const c=[];for(const u of n.mutations){const e=rg(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Lm.waitFor(s).next((()=>c))}function sb(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jp();t=e.noDocument}return JSON.stringify(t).length}rb.DEFAULT_COLLECTION_PERCENTILE=10,rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rb.DEFAULT=new rb(41943040,rb.DEFAULT_COLLECTION_PERCENTILE,rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rb.DISABLED=new rb(-1,0,0);class ob{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Xp(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ob(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lb(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=cb(e),s=lb(e);return s.add({}).next((o=>{Xp("number"==typeof o);const a=new sw(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Yw(e.ct,t))),i=n.mutations.map((t=>Yw(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Dg(((e,t)=>fm(e.canonicalString(),t.canonicalString())));for(const e of r){const t=rg(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,ig))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),Lm.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return lb(e).get(t).next((e=>e?(Xp(e.userId===this.userId),m_(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Lm.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return lb(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Xp(t.batchId>=n),i=m_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return lb(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lb(e).W("userMutationsIndex",t).next((e=>e.map((e=>m_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ng(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return cb(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=eg(a);if(o===this.userId&&t.path.isEqual(c))return lb(e).get(l).next((e=>{if(!e)throw Jp();Xp(e.userId===this.userId),i.push(m_(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dg(fm);const r=[];return t.forEach((t=>{const i=ng(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=cb(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=eg(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Lm.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ng(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Dg(fm);return cb(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=eg(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(lb(e).get(t).next((e=>{if(null===e)throw Jp();Xp(e.userId===this.userId),n.push(m_(this.serializer,e))})))})),Lm.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return ib(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Lm.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Lm.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return cb(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=eg(e[1]);r.push(t)}else n.done()})).next((()=>{Xp(0===r.length)}))}))}containsKey(e,t){return ab(e,this.userId,t)}xn(e){return ub(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ab(e,t,n){const r=ng(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return cb(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function lb(e){return kg(e,"mutations")}function cb(e){return kg(e,"documentMutations")}function ub(e){return kg(e,"mutationQueues")}class hb{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new hb(0)}static Ln(){return new hb(-1)}}class db{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new hb(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>vm.fromTimestamp(new gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>fb(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Xp(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return fb(e).Y(((s,o)=>{const a=g_(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Lm.waitFor(i))).next((()=>r))}forEachTarget(e,t){return fb(e).Y(((e,n)=>{const r=g_(n);t(r)}))}Bn(e){return pb(e).get("targetGlobalKey").next((e=>(Xp(null!==e),e)))}kn(e,t){return pb(e).put("targetGlobalKey",t)}qn(e,t){return fb(e).put(v_(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Kv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return fb(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=g_(n);Hv(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=mb(e);return t.forEach((t=>{const s=Jm(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Lm.waitFor(r)}removeMatchingKeys(e,t,n){const r=mb(e);return Lm.forEach(t,(t=>{const i=Jm(t.path);return Lm.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=mb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mb(e);let i=Iy();return r.Y({range:n,J:!0},((e,t,n)=>{const r=eg(e[1]),s=new Em(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Jm(t.path),r=IDBKeyRange.bound([n],[mm(n)],!1,!0);let i=0;return mb(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return fb(e).get(t).next((e=>e?g_(e):null))}}function fb(e){return kg(e,"targets")}function pb(e){return kg(e,"targetGlobal")}function mb(e){return kg(e,"targetDocuments")}function gb(e,t){let[n,r]=e,[i,s]=t;const o=fm(n,i);return 0===o?fm(r,s):o}class vb{constructor(e){this.Kn=e,this.buffer=new Dg(gb),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();gb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Wp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Bm(e)?Wp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Om(e)}await this.zn(3e5)}))}}class wb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Lm.resolve(Wm._e);const n=new vb(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wp("LruGarbageCollector","Garbage collection skipped; disabled"),Lm.resolve(nb)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Wp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),nb):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Wp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Gp()<=Xr.DEBUG&&Wp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Lm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function _b(e,t){return new wb(e,t)}class bb{constructor(e,t){this.db=e,this.garbageCollector=_b(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Eb(e,n)}removeReference(e,t,n){return Eb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Eb(e,t)}er(e,t){return function(e,t){let n=!1;return ub(e).Z((r=>ab(e,r,t).next((e=>(e&&(n=!0),Lm.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,vm.min()),mb(e).delete(function(e){return[0,Jm(e.path)]}(s)))))}));r.push(t)}})).next((()=>Lm.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Eb(e,t)}Xn(e,t){const n=mb(e);let r,i=Wm._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Wm._e&&t(new Em(eg(r)),i),i=l,r=a):i=Wm._e})).next((()=>{i!==Wm._e&&t(new Em(eg(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Eb(e,t){return mb(e).put(function(e,t){return{targetId:0,path:Jm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sb{constructor(){this.changes=new fy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Lm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ib{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return xb(e).put(n)}removeEntry(e,t,n){return xb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],d_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=vv.newInvalidDocument(t);return xb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ab(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:vv.newInvalidDocument(t)};return xb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ab(t))},((e,r)=>{n={document:this.nr(t,r),size:sb(r)}})).next((()=>n))}getEntries(e,t){let n=my();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=my(),r=new Pg(Em.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,sb(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Lm.resolve();let r=new Dg(Rb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ab(r.first()),Ab(r.last())),s=r.getIterator();let o=s.getNext();return xb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Em.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Rb(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Ab(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),d_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xb(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=my();for(const i of e){const e=this.nr(Em.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(cy(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=my();const s=Pb(t,n),o=Pb(t,Pm.max());return xb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(Em.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new kb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Cb(e).get("remoteDocumentGlobalKey").next((e=>(Xp(!!e),e)))}tr(e,t){return Cb(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Qw(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Em.fromSegments(t.noDocument.path),r=p_(t.noDocument.readTime);n=vv.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jp();{const e=Em.fromSegments(t.unknownDocument.path),r=p_(t.unknownDocument.version);n=vv.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new gm(e[0],e[1]);return vm.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(vm.min()))return e}return vv.newInvalidDocument(e)}}function Tb(e){return new Ib(e)}class kb extends Sb{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new fy((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Dg(((e,t)=>fm(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=h_(this.ar.serializer,s);r=r.add(i.path.popLast());const l=sb(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=h_(this.ar.serializer,s.convertToNoDocument(vm.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Lm.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Cb(e){return kg(e,"remoteDocumentGlobal")}function xb(e){return kg(e,"remoteDocumentsV14")}function Ab(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Pb(e,t){const n=t.documentKey.path.toArray();return[e,d_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Rb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=fm(n[s],r[s]),i)return i;return i=fm(n.length,r.length),i||(i=fm(n[n.length-2],r[r.length-2]),i||fm(n[n.length-1],r[r.length-1]))}class Nb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Db{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Yy(n.mutation,e,Mg.empty(),gm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Iy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iy();const r=wy();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=vy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=wy();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Iy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=my();const s=by(),o=by();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Zy)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Yy(o.mutation,t,o.mutation.getFieldMask(),gm.now())):s.set(t.key,Mg.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Nb(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=by();let r=new Pg(((e,t)=>e-t)),i=Iy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Mg.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Iy()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=_y();l.forEach((e=>{if(!i.has(e)){const r=Wy(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Lm.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Em.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ey(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Lm.resolve(wy());let o=-1,a=i;return s.next((t=>Lm.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Lm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Iy()))).next((e=>({batchId:o,changes:yy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Em(t)).next((e=>{let t=vy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=vy();return this.indexManager.getCollectionParents(e,i).next((o=>Lm.forEach(o,(o=>{const a=function(e,t){return new $v(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,vv.newInvalidDocument(r)))}));let n=vy();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Yy(s.mutation,r,Mg.empty(),gm.now()),cy(t,r)&&(n=n.insert(e,r))})),n}))}}class Ob{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Lm.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Fw(e.createTime)}}(t)),Lm.resolve()}getNamedQuery(e,t){return Lm.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:y_(e.bundledQuery),readTime:Fw(e.readTime)}}(t)),Lm.resolve()}}class Lb{constructor(){this.overlays=new Pg(Em.comparator),this.hr=new Map}getOverlay(e,t){return Lm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wy();return Lm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Lm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Lm.resolve()}getOverlaysForCollection(e,t,n){const r=wy(),i=t.length+1,s=new Em(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Lm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Pg(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=wy(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=wy(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Lm.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new aw(t,n));let i=this.hr.get(t);void 0===i&&(i=Iy(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Mb{constructor(){this.Pr=new Dg(Fb.Ir),this.Tr=new Dg(Fb.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Fb(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Fb(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Em(new wm([])),n=new Fb(t,e),r=new Fb(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Em(new wm([])),n=new Fb(t,e),r=new Fb(t,e+1);let i=Iy();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Fb(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fb{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Em.comparator(e.key,t.key)||fm(e.pr,t.pr)}static Er(e,t){return fm(e.pr,t.pr)||Em.comparator(e.key,t.key)}}class Ub{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Dg(Fb.Ir)}checkEmpty(e){return Lm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new sw(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Fb(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Lm.resolve(s)}lookupMutationBatch(e,t){return Lm.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Lm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Lm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Lm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fb(t,0),r=new Fb(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Lm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Dg(fm);return t.forEach((e=>{const t=new Fb(e,0),r=new Fb(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Lm.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Em.isDocumentKey(i)||(i=i.child(""));const s=new Fb(new Em(i),0);let o=new Dg(fm);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),Lm.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Lm.forEach(t.mutations,(r=>{const i=new Fb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Fb(t,0),r=this.wr.firstAfterOrEqual(n);return Lm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Lm.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vb{constructor(e){this.vr=e,this.docs=new Pg(Em.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Lm.resolve(n?n.document.mutableCopy():vv.newInvalidDocument(t))}getEntries(e,t){let n=my();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():vv.newInvalidDocument(e))})),Lm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=my();const s=t.path,o=new Em(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Rm(Am(o),n)<=0||(r.has(o.key)||cy(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Lm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Jp()}Fr(e,t){return Lm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bb(this)}getSize(e){return Lm.resolve(this.size)}}class Bb extends Sb{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Lm.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class jb{constructor(e){this.persistence=e,this.Mr=new fy((e=>Kv(e)),Hv),this.lastRemoteSnapshotVersion=vm.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Mb,this.targetCount=0,this.Lr=hb.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Lm.resolve()}getLastRemoteSnapshotVersion(e){return Lm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lm.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Lm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Lm.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new hb(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Lm.resolve()}updateTargetData(e,t){return this.qn(t),Lm.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Lm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Lm.waitFor(i).next((()=>r))}getTargetCount(e){return Lm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Lm.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Lm.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Lm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Lm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Lm.resolve(n)}containsKey(e,t){return Lm.resolve(this.Nr.containsKey(t))}}class zb{constructor(e,t){this.Br={},this.overlays={},this.kr=new Wm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jb(this),this.indexManager=new W_,this.remoteDocumentCache=function(e){return new Vb(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new u_(t),this.$r=new Ob(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Ub(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Wp("MemoryPersistence","Starting transaction:",e);const r=new qb(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Lm.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class qb extends Dm{constructor(e){super(),this.currentSequenceNumber=e}}class Kb{constructor(e){this.persistence=e,this.zr=new Mb,this.jr=null}static Hr(e){return new Kb(e)}get Jr(){if(this.jr)return this.jr;throw Jp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Lm.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Lm.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Lm.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lm.forEach(this.Jr,(n=>{const r=Em.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,vm.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Lm.or([()=>Lm.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Hb{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Mm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Gb(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Lm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Gb(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tg,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Lm.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:gg});t.createIndex("collectionPathOverlayIndex",vg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",yg,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:sg});t.createIndex("documentKeyIndex",og),t.createIndex("collectionGroupIndex",ag)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dg}).createIndex("sequenceNumberIndex",fg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:pg}).createIndex("documentKeyIndex",mg,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=sb(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Lm.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Lm.forEach(n,(n=>{Xp(n.userId===t.userId);const r=m_(this.serializer,n);return ib(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new wm(n),o=function(e){return[0,Jm(e)]}(s);r.push(t.get(o).next((n=>n?Lm.resolve():(n=>t.put({targetId:0,path:Jm(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Lm.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:hg});const n=t.store("collectionParents"),r=new Q_,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Jm(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new wm(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=eg(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=g_(n),i=v_(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Em(wm.fromString(e.document.name).popFirst(5)):e.noDocument?Em.fromSegments(e.noDocument.path):e.unknownDocument?Em.fromSegments(e.unknownDocument.path):Jp()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Lm.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Tb(this.serializer),i=new zb(Kb.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Iy();m_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Lm.forEach(n,((e,n)=>{const s=new qp(n),o=T_.lt(this.serializer,s),a=i.getIndexManager(s),l=ob.lt(s,this.serializer,a,i.referenceDelegate);return new Db(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Tg(t,Wm._e),e).next()}))}))}}function Gb(e){e.createObjectStore("targetDocuments",{keyPath:cg}).createIndex("documentTargetsIndex",ug,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lg,{unique:!0}),e.createObjectStore("targetGlobal")}const Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qb{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Qb.D())throw new tm(em.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bb(this,r),this.Ti=t+"main",this.serializer=new u_(a),this.Ei=new Fm(this.Ti,this.ui,new Hb(this.serializer)),this.Qr=new db(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tb(this.serializer),this.$r=new E_,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Qp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Wb);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Wm(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$b(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Bm(e))return Wp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Yb(e).get("owner").next((e=>Lm.resolve(this.Si(e))))}bi(e){return $b(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=kg(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Lm.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Lm.resolve(!0):Yb(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new tm(em.FAILED_PRECONDITION,Wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||$b(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Wp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Tg(e,Wm._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>$b(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return ob.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $_(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return T_.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Wp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?Ig:15===e?Sg:14===e?Eg:13===e?bg:12===e?_g:11===e?wg:void Jp()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Tg(r,this.kr?this.kr.next():Wm._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw Qp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new tm(em.FAILED_PRECONDITION,Nm);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Yb(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new tm(em.FAILED_PRECONDITION,Wb)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yb(e).put("owner",t)}static D(){return Fm.D()}yi(e){const t=Yb(e);return t.get("owner").next((e=>this.Si(e)?(Wp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Lm.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Qp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Rr()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Wp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Qp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(uR){Qp("Failed to set zombie client id.",uR)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(uR){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Yb(e){return kg(e,"owner")}function $b(e){return kg(e,"clientMetadata")}function Jb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Iy(),r=Iy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xb(e,t.fromCache,n,r)}}class Zb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eE{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Rr()?8:Fm.v(Tr())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Zb;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Gp()<=Xr.DEBUG&&Wp("QueryEngine","SDK will not create cache indexes for query:",ly(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Lm.resolve()):(Gp()<=Xr.DEBUG&&Wp("QueryEngine","Query:",ly(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Gp()<=Xr.DEBUG&&Wp("QueryEngine","The SDK decides to create cache indexes for query:",ly(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ny(t))):Lm.resolve())}ji(e,t){if(Zv(t))return Lm.resolve(null);let n=ny(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=sy(t,null,"F"),n=ny(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Iy(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,sy(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Zv(t)||r.isEqual(vm.min())?Lm.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Lm.resolve(null):(Gp()<=Xr.DEBUG&&Wp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ly(t)),this.es(e,s,t,xm(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Dg(hy(e));return t.forEach(((t,r)=>{cy(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Gp()<=Xr.DEBUG&&Wp("QueryEngine","Using full collection scan to execute query:",ly(t)),this.zi.getDocumentsMatchingQuery(e,t,Pm.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class tE{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Pg(fm),this.rs=new fy((e=>Kv(e)),Hv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function nE(e,t,n,r){return new tE(e,t,n,r)}async function rE(e,t){const n=Zp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Iy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function iE(e){const t=Zp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function sE(e,t,n){let r=Iy(),i=Iy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=my();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(vm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Wp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function oE(e,t){const n=Zp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function aE(e,t){const n=Zp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Lm.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new c_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function lE(e,t,n){const r=Zp(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Bm(e))throw e;Wp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function cE(e,t,n){const r=Zp(e);let i=vm.min(),s=Iy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Zp(e),i=r.rs.get(n);return void 0!==i?Lm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,ny(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:vm.min(),n?s:Iy()))).next((e=>(dE(r,uy(t),e),{documents:e,hs:s})))))}function uE(e,t){const n=Zp(e),r=Zp(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function hE(e,t){const n=Zp(e),r=n.ss.get(t)||vm.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,xm(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(dE(n,t,e),e)))}function dE(e,t,n){let r=e.ss.get(t)||vm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function fE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iy();const r=await aE(e,ny(y_(t.bundledQuery))),i=Zp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Fw(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(Ug.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function pE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function mE(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function gE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class vE{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new tm(r.error.code,r.error.message))),s?new vE(e,t,r.state,i):(Qp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new tm(n.error.code,n.error.message))),i?new yE(e,n.state,r):(Qp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ky();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=$m(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new wE(e,i):(Qp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class _E{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _E(t.clientId,t.onlineState):(Qp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class bE{constructor(){this.activeTargetIds=ky()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EE{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pg(fm),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=pE(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new bE),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(pE(this.persistenceKey,n));if(e){const t=wE.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(gE(this.persistenceKey,e));if(n){const r=yE.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gE(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wp("SharedClientState","READ",e,t),t}setItem(e,t){Wp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Wp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Qp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Wm._e;if(null!=e)try{const n=JSON.parse(e);Xp("number"==typeof n),t=n}catch(e){Qp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Wm._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new vE(this.currentUser,e,t,n),i=mE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=mE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=gE(this.persistenceKey,e),i=new yE(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return wE.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vE.Es(new qp(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return yE.Es(r,t)}xs(e){return _E.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Wp("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=ky();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class SE{constructor(){this.no=new bE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IE{io(e){}shutdown(){}}class TE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Wp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Wp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kE=null;function CE(){return null===kE?kE=268435456+Math.round(2147483648*Math.random()):kE++,"0x"+kE.toString(16)}const xE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AE{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const PE="WebChannelConnection";class RE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=CE(),o=this.bo(e,t.toUriEncodedString());Wp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(Wp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Yp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=xE[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=CE();return new Promise(((s,o)=>{const a=new Vp;a.setWithCredentials(!0),a.listenOnce(Lp.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Op.NO_ERROR:const t=a.getResponseJson();Wp(PE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Op.TIMEOUT:Wp(PE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new tm(em.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const n=a.getStatus();if(Wp(PE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(em).indexOf(t)>=0?t:em.UNKNOWN}(t.status);o(new tm(e,t.message))}else o(new tm(em.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new tm(em.UNAVAILABLE,"Connection failed."));break;default:Jp()}}finally{Wp(PE,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Wp(PE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=CE(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Np(),o=Dp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Wp(PE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new AE({lo:t=>{d?Wp(PE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Wp(PE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Wp(PE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Up.EventType.OPEN,(()=>{d||Wp(PE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Up.EventType.CLOSE,(()=>{d||(d=!0,Wp(PE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Up.EventType.ERROR,(t=>{d||(d=!0,Yp(PE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new tm(em.UNAVAILABLE,"The operation could not be completed")))})),p(u,Up.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Xp(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Wp(PE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=cw[e];if(void 0!==t)return dw(t)}(t),i=o.message;void 0===n&&(n=em.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new tm(n,i)),u.close()}else Wp(PE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,Mp.STAT_EVENT,(t=>{t.stat===Fp.PROXY?Wp(PE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fp.NOPROXY&&Wp(PE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function NE(){return"undefined"!=typeof window?window:null}function DE(){return"undefined"!=typeof document?document:null}function OE(e){return new Nw(e,!0)}class LE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Wp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class ME{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new LE(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===em.RESOURCE_EXHAUSTED?(Qp(t.toString()),Qp("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===em.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new tm(em.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Wp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Wp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FE extends ME{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Xp(void 0===t||"string"==typeof t),Ug.fromBase64String(t||"")):(Xp(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ug.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?em.UNKNOWN:dw(e.code);return new tm(t,e.message||"")}(o);n=new Iw(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zw(e,r.document.name),s=Fw(r.document.updateTime),o=r.document.createTime?Fw(r.document.createTime):vm.min(),a=new mv({mapValue:{fields:r.document.fields}}),l=vv.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ew(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zw(e,r.document),s=r.readTime?Fw(r.readTime):vm.min(),o=vv.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ew([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zw(e,r.document),s=r.removedTargetIds||[];n=new Ew([],s,i,null)}else{if(!("filter"in t))return Jp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new lw(r,i),o=e.targetId;n=new Sw(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return vm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?vm.min():t.readTime?Fw(t.readTime):vm.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Hw(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Gv(r)?{documents:Jw(e,r)}:{query:Xw(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Lw(e,t.resumeToken);const r=Dw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(vm.min())>0){n.readTime=Ow(e,t.snapshotVersion.toTimestamp());const r=Dw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Hw(this.serializer),t.removeTarget=e,this.t_(t)}}class UE extends ME{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Xp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Xp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Fw(e.updateTime):Fw(t);return n.isEqual(vm.min())&&(n=Fw(t)),new qy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Fw(e.commitTime);return this.listener.T_(n,t)}return Xp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Hw(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Yw(this.serializer,e)))};this.t_(t)}}class VE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,Vw(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,Vw(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===em.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new tm(em.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class BE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Qp(t),this.g_=!1):Wp("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class jE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{$E(this)&&(Wp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Zp(e);t.v_.add(4),await qE(t),t.x_.set("Unknown"),t.v_.delete(4),await zE(t)}(this))}))})),this.x_=new BE(n,r)}}async function zE(e){if($E(e))for(const t of e.F_)await t(!0)}async function qE(e){for(const t of e.F_)await t(!1)}function KE(e,t){const n=Zp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),YE(n)?QE(n):pS(n).Jo()&&GE(n,t))}function HE(e,t){const n=Zp(e),r=pS(n);n.C_.delete(t),r.Jo()&&WE(n,t),0===n.C_.size&&(r.Jo()?r.Xo():$E(n)&&n.x_.set("Unknown"))}function GE(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pS(e).c_(t)}function WE(e,t){e.O_.Oe(t),pS(e).l_(t)}function QE(e){e.O_=new kw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),pS(e).start(),e.x_.p_()}function YE(e){return $E(e)&&!pS(e).Ho()&&e.C_.size>0}function $E(e){return 0===Zp(e).v_.size}function JE(e){e.O_=void 0}async function XE(e){e.C_.forEach(((t,n)=>{GE(e,t)}))}async function ZE(e,t){JE(e),YE(e)?(e.x_.S_(t),QE(e)):e.x_.set("Unknown")}async function eS(e,t,n){if(e.x_.set("Online"),t instanceof Iw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Wp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await tS(e,n)}else if(t instanceof Ew?e.O_.$e(t):t instanceof Sw?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(vm.min()))try{const t=await iE(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Ug.EMPTY_BYTE_STRING,r.snapshotVersion)),WE(e,t);const i=new c_(r.target,t,n,r.sequenceNumber);GE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wp("RemoteStore","Failed to raise snapshot:",t),await tS(e,t)}}async function tS(e,t,n){if(!Bm(t))throw t;e.v_.add(1),await qE(e),e.x_.set("Offline"),n||(n=()=>iE(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Wp("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await zE(e)}))}function nS(e,t){return t().catch((n=>tS(e,n,t)))}async function rS(e){const t=Zp(e),n=mS(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;iS(t);)try{const e=await oE(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,sS(t,e)}catch(e){await tS(t,e)}oS(t)&&aS(t)}function iS(e){return $E(e)&&e.D_.length<10}function sS(e,t){e.D_.push(t);const n=mS(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function oS(e){return $E(e)&&!mS(e).Ho()&&e.D_.length>0}function aS(e){mS(e).start()}async function lS(e){mS(e).d_()}async function cS(e){const t=mS(e);for(const n of e.D_)t.I_(n.mutations)}async function uS(e,t,n){const r=e.D_.shift(),i=ow.from(r,t,n);await nS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await rS(e)}async function hS(e,t){t&&mS(e).P_&&await async function(e,t){if(function(e){return hw(e)&&e!==em.ABORTED}(t.code)){const n=e.D_.shift();mS(e).Zo(),await nS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rS(e)}}(e,t),oS(e)&&aS(e)}async function dS(e,t){const n=Zp(e);n.asyncQueue.verifyOperationInProgress(),Wp("RemoteStore","RemoteStore received new credentials");const r=$E(n);n.v_.add(3),await qE(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await zE(n)}async function fS(e,t){const n=Zp(e);t?(n.v_.delete(2),await zE(n)):t||(n.v_.add(2),await qE(n),n.x_.set("Unknown"))}function pS(e){return e.N_||(e.N_=function(e,t,n){const r=Zp(e);return r.R_(),new FE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:XE.bind(null,e),To:ZE.bind(null,e),u_:eS.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),YE(e)?QE(e):e.x_.set("Unknown")):(await e.N_.stop(),JE(e))}))),e.N_}function mS(e){return e.L_||(e.L_=function(e,t,n){const r=Zp(e);return r.R_(),new UE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:lS.bind(null,e),To:hS.bind(null,e),E_:cS.bind(null,e),T_:uS.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await rS(e)):(await e.L_.stop(),e.D_.length>0&&(Wp("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class gS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new gS(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tm(em.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vS(e,t){if(Qp("AsyncQueue","".concat(t,": ").concat(e)),Bm(e))return new tm(em.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class yS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Em.comparator(t.key,n.key):(e,t)=>Em.comparator(e.key,t.key),this.keyedMap=vy(),this.sortedSet=new Pg(this.comparator)}static emptySet(e){return new yS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wS{constructor(){this.B_=new Pg(Em.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Jp():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _S{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new _S(e,t,yS.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bS{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class ES{constructor(){this.queries=new fy((e=>ay(e)),oy),this.onlineState="Unknown",this.W_=new Set}}async function SS(e,t){const n=Zp(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new bS,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=vS(e,"Initialization of query '".concat(ly(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&CS(n)}async function IS(e,t){const n=Zp(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TS(e,t){const n=Zp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&CS(n)}function kS(e,t,n){const r=Zp(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function CS(e){e.W_.forEach((e=>{e.next()}))}var xS,AS;(AS=xS||(xS={})).j_="default",AS.Cache="cache";class PS{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _S(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=_S.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==xS.Cache}}class RS{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class NS{constructor(e){this.serializer=e}Ps(e){return zw(this.serializer,e)}Is(e){return e.metadata.exists?Qw(this.serializer,e.document,!1):vv.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Fw(e)}}class DS{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OS(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=wm.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new NS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Iy()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Zp(e);let s=Iy(),o=my();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await aE(i,function(e){return ny(Xv(wm.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>sE(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new NS(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await fE(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function OS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class LS{constructor(e){this.key=e}}class MS{constructor(e){this.key=e}}class FS{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Iy(),this.mutatedKeys=Iy(),this.ha=hy(e),this.Pa=new yS(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new wS,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=cy(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jp()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new _S(this.query,e.Pa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new wS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Iy(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new MS(e))})),this.la.forEach((n=>{e.has(n)||t.push(new LS(n))})),t}fa(e){this.ua=e.hs,this.la=Iy();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return _S.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class US{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VS{constructor(e){this.key=e,this.pa=!1}}class BS{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new fy((e=>ay(e)),oy),this.Sa=new Map,this.ba=new Set,this.Da=new Pg(Em.comparator),this.Ca=new Map,this.va=new Mb,this.Fa={},this.Ma=new Map,this.xa=hb.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function jS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=gI(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await qS(r,t,n,!0),i}async function zS(e,t){const n=gI(e);await qS(n,t,!0,!1)}async function qS(e,t,n,r){const i=await aE(e.localStore,ny(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await KS(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&KE(e.remoteStore,i),a}async function KS(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await cE(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return nI(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await cE(e.localStore,t,!0),o=new FS(t,s.hs),a=o.Ta(s.documents),l=bw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);nI(e,n,c.Va);const u=new US(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function HS(e,t,n){const r=Zp(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!oy(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HE(r.remoteStore,i.targetId),eI(r,i.targetId)})).catch(Om)):(eI(r,i.targetId),await lE(r.localStore,i.targetId,!0))}async function GS(e,t){const n=Zp(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HE(n.remoteStore,r.targetId))}async function WS(e,t){const n=Zp(e);try{const e=await function(e,t){const n=Zp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Ug.EMPTY_BYTE_STRING,vm.min()).withLastLimboFreeSnapshotVersion(vm.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=my(),l=Iy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sE(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(vm.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Lm.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Xp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Xp(r.pa):e.removedDocuments.size>0&&(Xp(r.pa),r.pa=!1))})),await sI(n,e,t)}catch(e){await Om(e)}}function QS(e,t,n){const r=Zp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Zp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&CS(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YS(e,t,n){const r=Zp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new Pg(Em.comparator);e=e.insert(s,vv.newNoDocument(s,vm.min()));const n=Iy().add(s),i=new _w(vm.min(),new Map,new Pg(fm),e,n);await WS(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),iI(r)}else await lE(r.localStore,t,!1).then((()=>eI(r,t,n))).catch(Om)}async function $S(e,t){const n=Zp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Lm.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Xp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Iy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ZS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sI(n,e)}catch(e){await Om(e)}}async function JS(e,t,n){const r=Zp(e);try{const e=await function(e,t){const n=Zp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ZS(r,t,n),XS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sI(r,e)}catch(n){await Om(n)}}function XS(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function ZS(e,t,n){const r=Zp(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function eI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||tI(e,t)}))}function tI(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(HE(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),iI(e))}function nI(e,t,n){for(const r of n)r instanceof LS?(e.va.addReference(r.key,t),rI(e,r)):r instanceof MS?(Wp("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||tI(e,r.key)):Jp()}function rI(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Wp("SyncEngine","New document in limbo: "+n),e.ba.add(r),iI(e))}function iI(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Em(wm.fromString(t)),r=e.xa.next();e.Ca.set(r,new VS(n)),e.Da=e.Da.insert(n,r),KE(e.remoteStore,new c_(ny(Xv(n.path)),r,"TargetPurposeLimboResolution",Wm._e))}}async function sI(e,t,n){const r=Zp(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xb.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=Zp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Lm.forEach(t,(t=>Lm.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Lm.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Bm(e))throw e;Wp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function oI(e,t){const n=Zp(e);if(!n.currentUser.isEqual(t)){Wp("SyncEngine","User change. New user:",t.toKey());const e=await rE(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new tm(em.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await sI(n,e.us)}}function aI(e,t){const n=Zp(e),r=n.Ca.get(t);if(r&&r.pa)return Iy().add(r.key);{let e=Iy();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function lI(e,t){const n=Zp(e),r=await cE(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&nI(n,t.targetId,i.Va),i}async function cI(e,t){const n=Zp(e);return hE(n.localStore,t).then((e=>sI(n,e)))}async function uI(e,t,n,r){const i=Zp(e),s=await function(e,t){const n=Zp(e),r=Zp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Lm.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await rS(i.remoteStore):"acknowledged"===n||"rejected"===n?(ZS(i,t,r||null),XS(i,t),function(e,t){Zp(Zp(e).mutationQueue).Mn(t)}(i.localStore,t)):Jp(),await sI(i,s)):Wp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hI(e,t,n){const r=Zp(e),i=[],s=[];for(const o of t){let e;const t=r.Sa.get(o);if(t&&0!==t.length){e=await aE(r.localStore,ny(t[0]));for(const e of t){const t=r.wa.get(e),n=await lI(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await uE(r.localStore,o);e=await aE(r.localStore,t),await KS(r,dI(t),o,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function dI(e){return Jv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fI(e){return function(e){return Zp(Zp(e).persistence).Bi()}(Zp(e).localStore)}async function pI(e,t,n,r){const i=Zp(e);if(i.Oa)return void Wp("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await hE(i.localStore,uy(s[0])),r=_w.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ug.EMPTY_BYTE_STRING);await sI(i,e,r);break}case"rejected":await lE(i.localStore,t,!0),eI(i,t,r);break;default:Jp()}}async function mI(e,t,n){const r=gI(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Wp("SyncEngine","Adding an already active target "+e);continue}const t=await uE(r.localStore,e),n=await aE(r.localStore,t);await KS(r,dI(t),n.targetId,!1,n.resumeToken),KE(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await lE(r.localStore,e,!1).then((()=>{HE(r.remoteStore,e),eI(r,e)})).catch(Om)}}function gI(e){const t=Zp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YS.bind(null,t),t.ya.u_=TS.bind(null,t.eventManager),t.ya.La=kS.bind(null,t.eventManager),t}function vI(e){const t=Zp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$S.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,t),t}class yI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=OE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return nE(this.persistence,new eE,e.initialUser,this.serializer)}createPersistence(e){return new zb(Kb.Hr,this.serializer)}createSharedClientState(e){return new SE}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wI extends yI{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await vI(this.ka.syncEngine),await rS(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return nE(this.persistence,new eE,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new yb(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Gm(t,this.persistence);return new Hm(e.asyncQueue,n)}createPersistence(e){const t=Jb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rb.withCacheSize(this.cacheSizeBytes):rb.DEFAULT;return new Qb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NE(),DE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SE}}class _I extends wI{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof EE&&(this.sharedClientState.syncEngine={Zs:uI.bind(null,t),Xs:pI.bind(null,t),eo:mI.bind(null,t),Bi:fI.bind(null,t),Ys:cI.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Zp(e);if(gI(n),vI(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hI(n,e.toArray());n.Oa=!0,await fS(n.remoteStore,!0);for(const r of t)KE(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(eI(n,i),lE(n.localStore,i,!0)))),HE(n.remoteStore,i)})),await t,await hI(n,e),function(e){const t=Zp(e);t.Ca.forEach(((e,n)=>{HE(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new Pg(Em.comparator)}(n),n.Oa=!1,await fS(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=NE();if(!EE.D(t))throw new tm(em.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Jb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new EE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>QS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await fS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ES}createDatastore(e){const t=OE(e.databaseInfo.databaseId),n=function(e){return new RE(e)}(e.databaseInfo);return function(e,t,n,r){return new VE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new jE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>QS(this.syncEngine,e,0)),TE.D()?new TE:new IE)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new BS(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Zp(e);Wp("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await qE(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function EI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class SI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Qp("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class II{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new nm,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new RS(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class TI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new tm(em.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Zp(e),r={documents:t.map((e=>jw(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,wm.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Xp(!!t.found),t.found.name,t.found.updateTime;const n=zw(e,t.found.name),r=Fw(t.found.updateTime),i=t.found.createTime?Fw(t.found.createTime):vm.min(),s=new mv({mapValue:{fields:t.found.fields}});return vv.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Xp(!!t.missing),Xp(!!t.readTime);const n=zw(e,t.missing),r=Fw(t.readTime);return vv.newNoDocument(n,r)}(e,t):Jp()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Xp(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new rw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Em.fromPath(t);this.mutations.push(new iw(n,this.precondition(n)))})),await async function(e,t){const n=Zp(e),r={writes:t.map((e=>Yw(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,wm.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jp();t=vm.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new tm(em.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vm.min())?Ky.exists(!1):Ky.updateTime(t):Ky.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vm.min()))throw new tm(em.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ky.updateTime(t)}return Ky.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kI{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new LE(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new TI(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!Qm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hw(t)}return!1}}class CI{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=qp.UNAUTHENTICATED,this.clientId=dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Wp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Wp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tm(em.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vS(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function xI(e,t){e.asyncQueue.verifyOperationInProgress(),Wp("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rE(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RI(e);Wp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>dS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>dS(t.remoteStore,n))),e._onlineComponents=t}function PI(e){return"FirebaseError"===e.name?e.code===em.FAILED_PRECONDITION||e.code===em.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function RI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wp("FirestoreClient","Using user provided OfflineComponentProvider");try{await xI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!PI(n))throw n;Yp("Error using user provided cache. Falling back to memory cache: "+n),await xI(e,new yI)}}else Wp("FirestoreClient","Using default OfflineComponentProvider"),await xI(e,new yI);return e._offlineComponents}async function NI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wp("FirestoreClient","Using user provided OnlineComponentProvider"),await AI(e,e._uninitializedComponentsProvider._online)):(Wp("FirestoreClient","Using default OnlineComponentProvider"),await AI(e,new bI))),e._onlineComponents}function DI(e){return RI(e).then((e=>e.persistence))}function OI(e){return RI(e).then((e=>e.localStore))}function LI(e){return NI(e).then((e=>e.remoteStore))}function MI(e){return NI(e).then((e=>e.syncEngine))}function FI(e){return NI(e).then((e=>e.datastore))}async function UI(e){const t=await NI(e),n=t.eventManager;return n.onListen=jS.bind(null,t.syncEngine),n.onUnlisten=HS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=GS.bind(null,t.syncEngine),n}function VI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nm;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new SI({next:s=>{t.enqueueAndForget((()=>IS(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new tm(em.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new PS(Xv(n.path),s,{includeMetadataChanges:!0,ta:!0});return SS(e,o)}(await UI(e),e.asyncQueue,t,n,r))),r.promise}function BI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nm;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new SI({next:n=>{t.enqueueAndForget((()=>IS(e,o))),n.fromCache&&"server"===r.source?i.reject(new tm(em.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new PS(n,s,{includeMetadataChanges:!0,ta:!0});return SS(e,o)}(await UI(e),e.asyncQueue,t,n,r))),r.promise}function jI(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?pw().encode(e):e,function(e,t){return new II(e,t)}(function(e,t){if(e instanceof Uint8Array)return EI(e,t);if(e instanceof ArrayBuffer)return EI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,OE(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Zp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Zp(e),r=Fw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(OS(r));const i=new DS(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const o=await i.complete();return await sI(e,o.aa,void 0),await function(e,t){const n=Zp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o._a)}catch(e){return Yp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await MI(e),i,r)}))}function zI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qI=new Map;function KI(e,t,n){if(!n)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function HI(e,t,n,r){if(!0===t&&!0===r)throw new tm(em.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function GI(e){if(!Em.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WI(e){if(Em.isDocumentKey(e))throw new tm(em.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function QI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Jp()}function YI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tm(em.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QI(e);throw new tm(em.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $I(e,t){if(t<=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class JI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new tm(em.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tm(em.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new tm(em.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new tm(em.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new tm(em.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class XI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tm(em.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new im;switch(e.type){case"firstParty":return new lm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new tm(em.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qI.get(e);t&&(Wp("ComponentProvider","Removing Datastore"),qI.delete(e),t.terminate())}(this),Promise.resolve()}}function ZI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=YI(e,XI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Yp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=qp.MOCK_USER;else{t=Ir(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tm(em.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new qp(s)}e._authCredentials=new sm(new rm(t,n))}}class eT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eT(this.firestore,e,this._query)}}class tT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tT(this.firestore,e,this._key)}}class nT extends eT{constructor(e,t,n){super(e,t,Xv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tT(this.firestore,null,new Em(e))}withConverter(e){return new nT(this.firestore,e,this._path)}}function rT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hr(e),KI("collection","path",t),e instanceof XI){const n=wm.fromString(t,...r);return WI(n),new nT(e,null,n)}{if(!(e instanceof tT||e instanceof nT))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wm.fromString(t,...r));return WI(n),new nT(e.firestore,null,n)}}function iT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hr(e),1===arguments.length&&(t=dm.newId()),KI("doc","path",t),e instanceof XI){const n=wm.fromString(t,...r);return GI(n),new tT(e,null,new Em(n))}{if(!(e instanceof tT||e instanceof nT))throw new tm(em.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wm.fromString(t,...r));return GI(n),new tT(e.firestore,e instanceof nT?e.converter:null,new Em(n))}}function sT(e,t){return e=Hr(e),t=Hr(t),(e instanceof tT||e instanceof nT)&&(t instanceof tT||t instanceof nT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function oT(e,t){return e=Hr(e),t=Hr(t),e instanceof eT&&t instanceof eT&&e.firestore===t.firestore&&oy(e._query,t._query)&&e.converter===t.converter}class aT{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new LE(this,"async_queue_retry"),this.cu=()=>{const e=DE();e&&Wp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=DE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=DE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new nm;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(uR){if(!Bm(uR))throw uR;Wp("AsyncQueue","Operation failed with retryable error: "+uR)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=gS.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Jp()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function lT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cT{constructor(){this._progressObserver={},this._taskCompletionResolver=new nm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uT extends XI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new aT,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dT(this),this._firestoreClient.terminate()}}function hT(e){return e._firestoreClient||dT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Gg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new CI(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function fT(e,t,n){const r=new nm;return e.asyncQueue.enqueue((async()=>{try{await xI(e,n),await AI(e,t),r.resolve()}catch(e){const n=e;if(!PI(n))throw n;Yp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function pT(e){return function(e){const t=new nm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Zp(e);$E(n.remoteStore)||Wp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Zp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=vS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await MI(e),t))),t.promise}(hT(e=YI(e,uT)))}function mT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DI(e),n=await LI(e);return t.setNetworkEnabled(!0),function(e){const t=Zp(e);return t.v_.delete(0),zE(t)}(n)}))}(hT(e=YI(e,uT)))}function gT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DI(e),n=await LI(e);return t.setNetworkEnabled(!1),async function(e){const t=Zp(e);t.v_.add(0),await qE(t),t.x_.set("Offline")}(n)}))}(hT(e=YI(e,uT)))}function vT(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Zp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await OI(e),t)))}(hT(e=YI(e,uT)),t).then((t=>t?new eT(e,null,t.query):null))}function yT(e){if(e._initialized||e._terminated)throw new tm(em.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wT(Ug.fromBase64String(e))}catch(e){throw new tm(em.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wT(Ug.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _T{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new tm(em.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bT{constructor(e){this._methodName=e}}class ET{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tm(em.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tm(em.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fm(this._lat,e._lat)||fm(this._long,e._long)}}const ST=/^__.*__$/;class IT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xy(e,this.data,t,this.fieldTransforms)}}class TT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jp()}}class CT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new CT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return WT(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(kT(this.Vu)&&ST.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class xT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||OE(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new CT({Vu:e,methodName:t,Du:n,path:bm.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AT(e){const t=e._freezeSettings(),n=OE(e._databaseId);return new xT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PT(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);qT("Data must be an object, but it was:",o,r);const a=jT(r,o);let l,c;if(s.merge)l=new Mg(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=KT(t,r,n);if(!o.contains(i))throw new tm(em.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));QT(e,i)||e.push(i)}l=new Mg(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new IT(new mv(a),l,c)}class RT extends bT{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RT}}function NT(e,t,n){return new CT({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class DT extends bT{_toFieldTransform(e){return new zy(e.path,new Oy)}isEqual(e){return e instanceof DT}}class OT extends bT{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=NT(this,e,!0),n=this.vu.map((e=>BT(e,t))),r=new Ly(n);return new zy(e.path,r)}isEqual(e){return e instanceof OT&&Fr(this.vu,e.vu)}}class LT extends bT{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=NT(this,e,!0),n=this.vu.map((e=>BT(e,t))),r=new Fy(n);return new zy(e.path,r)}isEqual(e){return e instanceof LT&&Fr(this.vu,e.vu)}}class MT extends bT{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new Vy(e.serializer,Ay(e.serializer,this.Fu));return new zy(e.path,t)}isEqual(e){return e instanceof MT&&this.Fu===e.Fu}}function FT(e,t,n,r){const i=e.Cu(1,t,n);qT("Data must be an object, but it was:",i,r);const s=[],o=mv.empty();xg(r,((e,r)=>{const a=GT(t,e,n);r=Hr(r);const l=i.yu(a);if(r instanceof RT)s.push(a);else{const e=BT(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Mg(s);return new TT(o,a,i.fieldTransforms)}function UT(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[KT(t,r,n)],l=[i];if(s.length%2!=0)throw new tm(em.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(KT(t,s[d])),l.push(s[d+1]);const c=[],u=mv.empty();for(let d=a.length-1;d>=0;--d)if(!QT(c,a[d])){const e=a[d];let t=l[d];t=Hr(t);const n=o.yu(e);if(t instanceof RT)c.push(e);else{const r=BT(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Mg(c);return new TT(u,h,o.fieldTransforms)}function VT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return BT(n,e.Cu(r?4:3,t))}function BT(e,t){if(zT(e=Hr(e)))return qT("Unsupported field value:",t,e),jT(e,t);if(e instanceof bT)return function(e,t){if(!kT(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=BT(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Hr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ay(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=gm.fromDate(e);return{timestampValue:Ow(t.serializer,n)}}if(e instanceof gm){const n=new gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ow(t.serializer,n)}}if(e instanceof ET)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wT)return{bytesValue:Lw(t.serializer,e._byteString)};if(e instanceof tT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Uw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(QI(e)))}(e,t)}function jT(e,t){const n={};return Ag(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xg(e,((e,r)=>{const i=BT(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gm||e instanceof ET||e instanceof wT||e instanceof tT||e instanceof bT)}function qT(e,t,n){if(!zT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=QI(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function KT(e,t,n){if((t=Hr(t))instanceof _T)return t._internalPath;if("string"==typeof t)return GT(e,t);throw WT("Field path arguments must be of type string or ",e,!1,void 0,n)}const HT=new RegExp("[~\\*/\\[\\]]");function GT(e,t,n){if(t.search(HT)>=0)throw WT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new _T(...t.split("."))._internalPath}catch(Lu){throw WT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new tm(em.INVALID_ARGUMENT,a+e+l)}function QT(e,t){return e.some((e=>e.isEqual(t)))}class YT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $T extends YT{data(){return super.data()}}function JT(e,t){return"string"==typeof t?GT(e,t):t instanceof _T?t._internalPath:t._delegate._internalPath}function XT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new tm(em.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZT{}class ek extends ZT{}function tk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ZT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rk)).length,n=e.filter((e=>e instanceof nk)).length;if(t>1||t>0&&n>0)throw new tm(em.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class nk extends ek{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nk(e,t,n)}_apply(e){const t=this._parse(e);return hk(e._query,t),new eT(e.firestore,e.converter,iy(e._query,t))}_parse(e){const t=AT(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){uk(o,s);const t=[];for(const n of o)t.push(ck(r,e,n));a={arrayValue:{values:t}}}else a=ck(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||uk(o,s),a=VT(n,t,o,"in"===s||"not-in"===s);return Iv.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class rk extends ZT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Tv.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)hk(n,i),n=iy(n,i)}(e._query,t),new eT(e.firestore,e.converter,iy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ik extends ek{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ik(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new tm(em.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bv(t,n)}(e._query,this._field,this._direction);return new eT(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $v(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class sk extends ek{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new sk(e,t,n)}_apply(e){return new eT(e.firestore,e.converter,sy(e._query,this._limit,this._limitType))}}class ok extends ek{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ok(e,t,n)}_apply(e){const t=lk(e,this.type,this._docOrFields,this._inclusive);return new eT(e.firestore,e.converter,function(e,t){return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ak extends ek{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ak(e,t,n)}_apply(e){const t=lk(e,this.type,this._docOrFields,this._inclusive);return new eT(e.firestore,e.converter,function(e,t){return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lk(e,t,n,r){if(n[0]=Hr(n[0]),n[0]instanceof YT)return function(e,t,n,r,i){if(!r)throw new tm(em.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of ty(e))if(o.field.isKeyField())s.push(rv(t,r.key));else{const e=r.data.field(o.field);if(qg(e))throw new tm(em.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new tm(em.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new yv(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=AT(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new tm(em.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new tm(em.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!ey(e)&&-1!==s.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(wm.fromString(s));if(!Em.isDocumentKey(n))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Em(n);a.push(rv(t,i))}else{const e=VT(n,r,s);a.push(e)}}return new yv(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ck(e,t,n){if("string"==typeof(n=Hr(n))){if(""===n)throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ey(t)&&-1!==n.indexOf("/"))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(wm.fromString(n));if(!Em.isDocumentKey(r))throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return rv(e,new Em(r))}if(n instanceof tT)return rv(e,n._key);throw new tm(em.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(QI(n),"."))}function uk(e,t){if(!Array.isArray(e)||0===e.length)throw new tm(em.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hk(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new tm(em.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class dk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($g(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ET(jg(e.latitude),jg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Kg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hg(e));default:return null}}convertTimestamp(e){const t=Bg(e);return new gm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wm.fromString(e);Xp(l_(n));const r=new Wg(n.get(1),n.get(3)),i=new Em(n.popFirst(5));return r.isEqual(t)||Qp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function fk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class pk extends dk{constructor(e){super(),this.firestore=e}convertBytes(e){return new wT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tT(this.firestore,null,t)}}class mk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gk extends YT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(JT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vk extends gk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class yk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vk(this._firestore,this._userDataWriter,n.key,n,new mk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tm(em.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:wk(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jp()}}function _k(e,t){return e instanceof gk&&t instanceof gk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yk&&t instanceof yk&&e._firestore===t._firestore&&oT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class bk extends dk{constructor(e){super(),this.firestore=e}convertBytes(e){return new wT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tT(this.firestore,null,t)}}function Ek(e){e=YI(e,tT);const t=YI(e.firestore,uT),n=hT(t),r=new bk(t);return function(e,t){const n=new nm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Zp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new tm(em.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=vS(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await OI(e),t,n))),n.promise}(n,e._key).then((n=>new gk(t,r,e._key,n,new mk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Sk(e){e=YI(e,eT);const t=YI(e.firestore,uT),n=hT(t),r=new bk(t);return function(e,t){const n=new nm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await cE(e,t,!0),i=new FS(t,r.hs),s=i.Ta(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=vS(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await OI(e),t,n))),n.promise}(n,e._query).then((n=>new yk(t,r,e,n)))}function Ik(e,t,n){e=YI(e,tT);const r=YI(e.firestore,uT),i=fk(e.converter,t,n);return xk(r,[PT(AT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ky.none())])}function Tk(e,t,n){e=YI(e,tT);const r=YI(e.firestore,uT),i=AT(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Hr(t))||t instanceof _T?UT(i,"updateDoc",e._key,t,n,a):FT(i,"updateDoc",e._key,t),xk(r,[s.toMutation(e._key,Ky.exists(!0))])}function kk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Hr(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||lT(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(lT(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof tT)h=YI(e.firestore,uT),d=Xv(e._key.path),u={next:t=>{n[l]&&n[l](Ak(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=YI(e,eT);h=YI(t.firestore,uT),d=t._query;const r=new bk(h);u={next:e=>{n[l]&&n[l](new yk(h,r,t,e))},error:n[l+1],complete:n[l+2]},XT(e._query)}return function(e,t,n,r){const i=new SI(r),s=new PS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>SS(await UI(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>IS(await UI(e),s)))}}(hT(h),d,c,u)}function Ck(e,t){return function(e,t){const n=new SI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Zp(e).W_.add(t),t.next()}(await UI(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Zp(e).W_.delete(t)}(await UI(e),n)))}}(hT(e=YI(e,uT)),lT(t)?t:{next:t})}function xk(e,t){return function(e,t){const n=new nm;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vI(e);try{const e=await function(e,t){const n=Zp(e),r=gm.now(),i=t.reduce(((e,t)=>e.add(t.key)),Iy());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=my(),l=Iy();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=$y(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Zy(e.key,t,gv(t.value.mapValue),Ky.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:yy(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Pg(fm)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await sI(r,e.changes),await rS(r.remoteStore)}catch(e){const t=vS(e,"Failed to persist write");n.reject(t)}}(await MI(e),t,n))),n.promise}(hT(e),t)}function Ak(e,t,n){const r=n.docs.get(t._key),i=new bk(e);return new gk(e,i,t._key,r,new mk(n.hasPendingWrites,n.fromCache),t.converter)}const Pk={maxAttempts:5};class Rk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=AT(e)}set(e,t,n){this._verifyNotCommitted();const r=Nk(e,this._firestore),i=fk(r.converter,t,n),s=PT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ky.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Nk(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Hr(t))||t instanceof _T?UT(this._dataReader,"WriteBatch.update",r._key,t,n,o):FT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ky.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nk(e,this._firestore);return this._mutations=this._mutations.concat(new rw(t._key,Ky.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new tm(em.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nk(e,t){if((e=Hr(e)).firestore!==t)throw new tm(em.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Dk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=AT(e)}get(e){const t=Nk(e,this._firestore),n=new pk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Jp();const r=e[0];if(r.isFoundDocument())return new YT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new YT(this._firestore,n,t._key,null,t.converter);throw Jp()}))}set(e,t,n){const r=Nk(e,this._firestore),i=fk(r.converter,t,n),s=PT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Nk(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Hr(t))||t instanceof _T?UT(this._dataReader,"Transaction.update",r._key,t,n,o):FT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Nk(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nk(e,this._firestore),n=new bk(this._firestore);return super.get(e).then((e=>new gk(this._firestore,n,t._key,e._document,new mk(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kp=e}(ji),Ni(new Gr("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new uT(new om(e.getProvider("auth-internal")),new um(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new tm(em.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wg(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Wi(zp,"4.6.0",e),Wi(zp,"4.6.0","esm2017")}();function Ok(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new tm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Lk(){if("undefined"===typeof Uint8Array)throw new tm("unimplemented","Uint8Arrays are not available in this environment.")}function Mk(){if("undefined"==typeof atob)throw new tm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Fk{constructor(e){this._delegate=e}static fromBase64String(e){return Mk(),new Fk(wT.fromBase64String(e))}static fromUint8Array(e){return Lk(),new Fk(wT.fromUint8Array(e))}toBase64(){return Mk(),this._delegate.toBase64()}toUint8Array(){return Lk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Uk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Vk{enableIndexedDbPersistence(e,t){return function(e,t){yT(e=YI(e,uT));const n=hT(e);if(n._uninitializedComponentsProvider)throw new tm(em.FAILED_PRECONDITION,"SDK cache is already specified.");Yp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new bI;return fT(n,i,new wI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){yT(e=YI(e,uT));const t=hT(e);if(t._uninitializedComponentsProvider)throw new tm(em.FAILED_PRECONDITION,"SDK cache is already specified.");Yp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new bI;return fT(t,r,new _I(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new tm(em.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nm;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Fm.D())return Promise.resolve();const t=e+"main";await Fm.delete(t)}(Jb(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Bk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Yp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZI(this._delegate,e,t,n)}enableNetwork(){return mT(this._delegate)}disableNetwork(){return gT(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,HI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pT(this._delegate)}onSnapshotsInSync(e){return Ck(this._delegate,e)}get app(){if(!this._appCompat)throw new tm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eC(this,rT(this._delegate,e))}catch(uR){throw Gk(uR,"collection()","Firestore.collection()")}}doc(e){try{return new Hk(this,iT(this._delegate,e))}catch(uR){throw Gk(uR,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jk(this,function(e,t){if(e=YI(e,XI),KI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new tm(em.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eT(e,null,function(e){return new $v(wm.emptyPath(),e)}(t))}(this._delegate,e))}catch(uR){throw Gk(uR,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=YI(e,uT);const r=Object.assign(Object.assign({},Pk),n);return function(e){if(e.maxAttempts<1)throw new tm(em.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new nm;return e.asyncQueue.enqueueAndForget((async()=>{const i=await FI(e);new kI(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(hT(e),(n=>t(new Dk(e,n))),r)}(this._delegate,(t=>e(new zk(this,t))))}batch(){return hT(this._delegate),new qk(new Rk(this._delegate,(e=>xk(this._delegate,e))))}loadBundle(e){return function(e,t){const n=hT(e=YI(e,uT)),r=new cT;return jI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return vT(this._delegate,e).then((e=>e?new Jk(this,e):null))}}class jk extends dk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fk(new wT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hk.forKey(t,this.firestore,null)}}class zk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}get(e){const t=tC(e);return this._delegate.get(t).then((e=>new Yk(this._firestore,new gk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=tC(e);return n?(Ok("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=tC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=tC(e);return this._delegate.delete(t),this}}class qk{constructor(e){this._delegate=e}set(e,t,n){const r=tC(e);return n?(Ok("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=tC(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=tC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new vk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $k(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Kk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Kk(e,new jk(e),t),r.set(t,i)),i}}Kk.INSTANCES=new WeakMap;class Hk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}static forPath(e,t,n){if(e.length%2!==0)throw new tm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Hk(t,new tT(t._delegate,n,new Em(e)))}static forKey(e,t,n){return new Hk(t,new tT(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new eC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eC(this.firestore,rT(this._delegate,e))}catch(uR){throw Gk(uR,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Hr(e))instanceof tT&&sT(this._delegate,e)}set(e,t){t=Ok("DocumentReference.set",t);try{return t?Ik(this._delegate,e,t):Ik(this._delegate,e)}catch(uR){throw Gk(uR,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Tk(this._delegate,e):Tk(this._delegate,e,t,...r)}catch(uR){throw Gk(uR,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return xk(YI(e.firestore,uT),[new rw(e._key,Ky.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wk(t),i=Qk(t,(e=>new Yk(this.firestore,new gk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return kk(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ek(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YI(e,tT);const t=YI(e.firestore,uT);return VI(hT(t),e._key,{source:"server"}).then((n=>Ak(t,e,n)))}(this._delegate):function(e){e=YI(e,tT);const t=YI(e.firestore,uT);return VI(hT(t),e._key).then((n=>Ak(t,e,n)))}(this._delegate),t.then((e=>new Yk(this.firestore,new gk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Hk(this.firestore,e?this._delegate.withConverter(Kk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Gk(e,t,n){return e.message=e.message.replace(t,n),e}function Wk(e){for(const t of e)if("object"===typeof t&&!Uk(t))return t;return{}}function Qk(e,t){var n,r;let i;return i=Uk(e[0])?e[0]:Uk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Yk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _k(this._delegate,e._delegate)}}class $k extends Yk{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||Jp()}(void 0!==t),t}}class Jk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jk(e)}where(e,t,n){try{return new Jk(this.firestore,tk(this._delegate,function(e,t,n){const r=t,i=JT("where",e);return nk._create(i,r,n)}(e,t,n)))}catch(uR){throw Gk(uR,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jk(this.firestore,tk(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=JT("orderBy",e);return ik._create(n,t)}(e,t)))}catch(uR){throw Gk(uR,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jk(this.firestore,tk(this._delegate,function(e){return $I("limit",e),sk._create("limit",e,"F")}(e)))}catch(uR){throw Gk(uR,"limit()","Query.limit()")}}limitToLast(e){try{return new Jk(this.firestore,tk(this._delegate,function(e){return $I("limitToLast",e),sk._create("limitToLast",e,"L")}(e)))}catch(uR){throw Gk(uR,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new Jk(this.firestore,tk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ok._create("startAt",t,!0)}(...arguments)))}catch(uR){throw Gk(uR,"startAt()","Query.startAt()")}}startAfter(){try{return new Jk(this.firestore,tk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ok._create("startAfter",t,!1)}(...arguments)))}catch(uR){throw Gk(uR,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Jk(this.firestore,tk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ak._create("endBefore",t,!1)}(...arguments)))}catch(uR){throw Gk(uR,"endBefore()","Query.endBefore()")}}endAt(){try{return new Jk(this.firestore,tk(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ak._create("endAt",t,!0)}(...arguments)))}catch(uR){throw Gk(uR,"endAt()","Query.endAt()")}}isEqual(e){return oT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Sk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YI(e,eT);const t=YI(e.firestore,uT),n=hT(t),r=new bk(t);return BI(n,e._query,{source:"server"}).then((n=>new yk(t,r,e,n)))}(this._delegate):function(e){e=YI(e,eT);const t=YI(e.firestore,uT),n=hT(t),r=new bk(t);return XT(e._query),BI(n,e._query).then((n=>new yk(t,r,e,n)))}(this._delegate),t.then((e=>new Zk(this.firestore,new yk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Wk(t),i=Qk(t,(e=>new Zk(this.firestore,new yk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return kk(this._delegate,r,i)}withConverter(e){return new Jk(this.firestore,e?this._delegate.withConverter(Kk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Xk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $k(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new $k(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Xk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new $k(this._firestore,n))}))}isEqual(e){return _k(this._delegate,e._delegate)}}class eC extends Jk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hk(this.firestore,e):null}doc(e){try{return new Hk(this.firestore,void 0===e?iT(this._delegate):iT(this._delegate,e))}catch(uR){throw Gk(uR,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=YI(e.firestore,uT),r=iT(e),i=fk(e.converter,t);return xk(n,[PT(AT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ky.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Hk(this.firestore,e)))}isEqual(e){return sT(this._delegate,e._delegate)}withConverter(e){return new eC(this.firestore,e?this._delegate.withConverter(Kk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tC(e){return YI(e,tT)}class nC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new _T(...t)}static documentId(){return new nC(bm.keyField().canonicalString())}isEqual(e){return(e=Hr(e))instanceof _T&&this._delegate._internalPath.isEqual(e._internalPath)}}class rC{constructor(e){this._delegate=e}static serverTimestamp(){const e=new DT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new rC(e)}static delete(){const e=new RT("deleteField");return e._methodName="FieldValue.delete",new rC(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new rC(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LT("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new rC(e)}static increment(e){const t=function(e){return new MT("increment",e)}(e);return t._methodName="FieldValue.increment",new rC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iC={Firestore:Bk,GeoPoint:ET,Timestamp:gm,Blob:Fk,Transaction:zk,WriteBatch:qk,DocumentReference:Hk,DocumentSnapshot:Yk,Query:Jk,QueryDocumentSnapshot:$k,QuerySnapshot:Zk,CollectionReference:eC,FieldPath:nC,FieldValue:rC,setLogLevel:function(e){!function(e){Hp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Gr("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iC)))}(e,((e,t)=>new Bk(e,t,new Vk))),e.registerVersion("@firebase/firestore-compat","0.3.29")}(ds);const sC="firebasestorage.googleapis.com",oC="storageBucket";class aC extends Dr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(uC(e),"Firebase Storage: ".concat(t," (").concat(uC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,aC.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var lC,cC;function uC(e){return"storage/"+e}function hC(){return new aC(lC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function dC(){return new aC(lC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fC(){return new aC(lC.CANCELED,"User canceled the upload/download.")}function pC(){return new aC(lC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mC(e){return new aC(lC.INVALID_ARGUMENT,e)}function gC(){return new aC(lC.APP_DELETED,"The Firebase app was deleted.")}function vC(e){return new aC(lC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yC(e,t){return new aC(lC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function wC(e){throw new aC(lC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lC||(lC={}));class _C{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=_C.makeFromUrl(e,t)}catch(uR){return new _C(e,"")}if(""===n.path)return n;throw r=e,new aC(lC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===sC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new _C(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new aC(lC.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class bC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function EC(e){return"string"===typeof e||e instanceof String}function SC(e){return IC()&&e instanceof Blob}function IC(){return"undefined"!==typeof Blob}function TC(e,t,n,r){if(r<t)throw mC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw mC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kC(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function CC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function xC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cC||(cC={}));class AC{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new PC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===cC.NO_ERROR,i=n.getStatus();if(!t||xC(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===cC.ABORT;return void e(!1,new PC(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new PC(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(uR){r(uR)}else if(null!==i){const e=hC();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?gC():fC())}else{r(dC())}};this.canceled_?t(0,new PC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class PC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function RC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NC(){const e=RC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(IC())return new Blob(n);throw new aC(lC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function DC(e){if("undefined"===typeof atob)throw t="base-64",new aC(lC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const OC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class LC{constructor(e,t){this.data=e,this.contentType=t||null}}function MC(e,t){switch(e){case OC.RAW:return new LC(FC(t));case OC.BASE64:case OC.BASE64URL:return new LC(UC(e,t));case OC.DATA_URL:return new LC(function(e){const t=new VC(e);return t.base64?UC(OC.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(uR){throw yC(OC.DATA_URL,"Malformed data URL.")}return FC(t)}(t.rest)}(t),new VC(t).contentType)}throw hC()}function FC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function UC(e,t){switch(e){case OC.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw yC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case OC.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw yC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=DC(t)}catch(uR){if(uR.message.includes("polyfill"))throw uR;throw yC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class VC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yC(OC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class BC{constructor(e,t){let n=0,r="";SC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(SC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new BC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new BC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(IC()){const e=t.map((e=>e instanceof BC?e.data_:e));return new BC(NC.apply(null,e))}{const e=t.map((e=>EC(e)?MC(OC.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new BC(r,!0)}}uploadData(){return this.data_}}function jC(e){let t;try{t=JSON.parse(e)}catch(uR){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qC(e,t){return t}class KC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||qC}}let HC=null;function GC(){if(HC)return HC;const e=[];e.push(new KC("bucket")),e.push(new KC("generation")),e.push(new KC("metageneration")),e.push(new KC("name","fullPath",!0));const t=new KC("name");t.xform=function(e,t){return function(e){return!EC(e)||e.length<2?e:zC(e)}(t)},e.push(t);const n=new KC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new KC("timeCreated")),e.push(new KC("updated")),e.push(new KC("md5Hash",null,!0)),e.push(new KC("cacheControl",null,!0)),e.push(new KC("contentDisposition",null,!0)),e.push(new KC("contentEncoding",null,!0)),e.push(new KC("contentLanguage",null,!0)),e.push(new KC("contentType",null,!0)),e.push(new KC("metadata","customMetadata",!0)),HC=e,HC}function WC(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new _C(n,r);return t._makeStorageReference(i)}})}(r,e),r}function QC(e,t,n){const r=jC(t);if(null===r)return null;return WC(e,r,n)}function YC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const $C="prefixes",JC="items";function XC(e,t,n){const r=jC(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$C])for(const i of n[$C]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new _C(t,n));r.prefixes.push(s)}if(n[JC])for(const i of n[JC]){const n=e._makeStorageReference(new _C(t,i.name));r.items.push(n)}return r}(e,t,r)}class ZC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ex(e){if(!e)throw hC()}function tx(e,t){return function(n,r){const i=QC(e,r,t);return ex(null!==i),i}}function nx(e,t){return function(n,r){const i=QC(e,r,t);return ex(null!==i),function(e,t,n,r){const i=jC(t);if(null===i)return null;if(!EC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent,a=s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return kC("/b/"+o(i)+"/o/"+o(s),n,r)+CC({alt:"media",token:t})}));return a[0]}(i,r,e.host,e._protocol)}}function rx(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new aC(lC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new aC(lC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new aC(lC.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new aC(lC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ix(e){const t=rx(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new aC(lC.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function sx(e,t,n){const r=kC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ZC(r,"GET",tx(e,n),i);return s.errorHandler=ix(t),s}function ox(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=kC(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new ZC(o,"GET",function(e,t){return function(n,r){const i=XC(e,t,r);return ex(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=rx(t),l}function ax(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function lx(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=ax(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+YC(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=BC.getBlob(c,r,u);if(null===h)throw pC();const d={name:l.fullPath},f=kC(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ZC(f,"POST",tx(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=rx(t),m}class cx{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function ux(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(uR){ex(!1)}return ex(!!n&&-1!==(t||["active"]).indexOf(n)),n}const hx=262144;function dx(e,t,n,r,i,s,o,a){const l=new cx(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new aC(lC.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw pC();const g=t.maxUploadRetryTime,v=new ZC(n,"POST",(function(e,n){const i=ux(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?tx(t,s)(e,n):null,new cx(o,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=rx(e),v}const fx={STATE_CHANGED:"state_changed"},px={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mx(e){switch(e){case"running":case"pausing":case"canceling":return px.RUNNING;case"paused":return px.PAUSED;case"success":return px.SUCCESS;case"canceled":return px.CANCELED;default:return px.ERROR}}class gx{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function vx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let yx=null;class wx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cC.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=cC.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=cC.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw wC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(uR){return-1}}getResponse(){if(!this.sent_)throw wC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class _x extends wx{initXhr(){this.xhr_.responseType="text"}}function bx(){return yx?yx():new _x}class Ex{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=GC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(lC.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(xC(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=dC()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(lC.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=ax(t,r,i),a={name:o.fullPath},l=kC(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=YC(o,n),h=e.maxUploadRetryTime,d=new ZC(l,"POST",(function(e){let t;ux(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(uR){ex(!1)}return ex(EC(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=rx(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,bx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new ZC(n,"POST",(function(e){const t=ux(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(uR){ex(!1)}n||ex(!1);const i=Number(n);return ex(!isNaN(i)),new cx(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=rx(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,bx,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=hx*this._chunkMultiplier,t=new cx(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=dx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(uR){return this._error=uR,void this._transition("error")}const o=this._ref.storage._makeRequest(s,bx,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(hx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=sx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,bx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=lx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,bx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=fC(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=mx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new gx(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(mx(this._state)){case px.SUCCESS:vx(this._resolve.bind(null,this.snapshot))();break;case px.CANCELED:case px.ERROR:vx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(mx(this._state)){case px.RUNNING:case px.PAUSED:e.next&&vx(e.next.bind(e,this.snapshot))();break;case px.SUCCESS:e.complete&&vx(e.complete.bind(e))();break;default:e.error&&vx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Sx{constructor(e,t){this._service=e,this._location=t instanceof _C?t:_C.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Sx(e,t)}get root(){const e=new _C(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new _C(this._location.bucket,e);return new Sx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw vC(e)}}function Ix(e){const t={prefixes:[],items:[]};return Tx(e,t).then((()=>t))}async function Tx(e,t,n){const r={pageToken:n},i=await kx(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await Tx(e,t,i.nextPageToken)}function kx(e,t){null!=t&&"number"===typeof t.maxResults&&TC("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=ox(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,bx)}function Cx(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=kC(t.fullServerUrl(),e.host,e._protocol),s=YC(n,r),o=e.maxOperationRetryTime,a=new ZC(i,"PATCH",tx(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=ix(t),a}(e.storage,e._location,t,GC());return e.storage.makeRequestWithTokens(n,bx)}function xx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=kC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ZC(r,"GET",nx(e,n),i);return s.errorHandler=ix(t),s}(e.storage,e._location,GC());return e.storage.makeRequestWithTokens(t,bx).then((e=>{if(null===e)throw new aC(lC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ax(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=kC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ZC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ix(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,bx)}function Px(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new _C(e._location.bucket,n);return new Sx(e.storage,r)}function Rx(e,t){if(e instanceof Ox){const n=e;if(null==n._bucket)throw new aC(lC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oC+"' property when initializing the app?");const r=new Sx(n,n._bucket);return null!=t?Rx(r,t):r}return void 0!==t?Px(e,t):e}function Nx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ox)return new Sx(e,t);throw mC("To use ref(service, url), the first argument must be a Storage instance.")}return Rx(e,t)}function Dx(e,t){const n=null===t||void 0===t?void 0:t[oC];return null==n?null:_C.makeFromBucketSpec(n,e)}class Ox{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=sC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_C.makeFromBucketSpec(r,this._host):Dx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=_C.makeFromBucketSpec(this._url,e):this._bucket=Dx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sx(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new bC(gC());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=CC(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new AC(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Lx="@firebase/storage",Mx="0.12.4",Fx="storage";function Ux(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ex(e,new BC(t),n)}(e=Hr(e),t,n)}function Vx(e){return function(e){e._throwIfRoot("getMetadata");const t=sx(e.storage,e._location,GC());return e.storage.makeRequestWithTokens(t,bx)}(e=Hr(e))}function Bx(e,t){return Nx(e=Hr(e),t)}function jx(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ir(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function zx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Ox(r,i,s,n,ji)}Ni(new Gr(Fx,zx,"PUBLIC").setMultipleInstances(!0)),Wi(Lx,Mx,""),Wi(Lx,Mx,"esm2017");class qx{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Kx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qx(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new qx(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new qx(e,this,this._ref)):{next:t.next?e=>t.next(new qx(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Hx{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Gx(e,this._service)))}get items(){return this._delegate.items.map((e=>new Gx(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Gx{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Px(e,t)}(this._delegate,e);return new Gx(t,this.storage)}get root(){return new Gx(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Gx(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Kx(Ux(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=MC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Kx(new Ex(this._delegate,new BC(r.data,!0),i),this)}listAll(){return function(e){return Ix(e=Hr(e))}(this._delegate).then((e=>new Hx(e,this.storage)))}list(e){return function(e,t){return kx(e=Hr(e),t)}(this._delegate,e||void 0).then((e=>new Hx(e,this.storage)))}getMetadata(){return Vx(this._delegate)}updateMetadata(e){return function(e,t){return Cx(e=Hr(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return xx(e=Hr(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return Ax(e=Hr(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw vC(e)}}class Wx{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Qx(e))throw mC("ref() expected a child path but got a URL, use refFromURL instead.");return new Gx(Bx(this._delegate,e),this)}refFromURL(e){if(!Qx(e))throw mC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_C.makeFromUrl(e,this._delegate.host)}catch(uR){throw mC("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gx(Bx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jx(this._delegate,e,t,n)}}function Qx(e){return/^[A-Za-z]+:\/\//.test(e)}function Yx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Wx(r,i)}!function(e){const t={TaskState:px,TaskEvent:fx,StringFormat:OC,Storage:Wx,Reference:Gx};e.INTERNAL.registerComponent(new Gr("storage-compat",Yx,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.7")}(ds);const $x=ds.initializeApp({apiKey:"AIzaSyCl9dP_A1nlTknvaovklmHNhERsKu9gZO4",authDomain:"side-personal-miniblog-develop.firebaseapp.com",projectId:"side-personal-miniblog-develop",storageBucket:"side-personal-miniblog-develop.appspot.com",messagingSenderId:"486034230711",appId:"1:486034230711:web:0f7e5e9b9a86f26b566c32"}),Jx=$x.firestore(),Xx=$x.storage();var Zx,eA,tA,nA=n(579);const rA=fr.div(Zx||(Zx=be(["\n    display: flex;\n    align-items: center;\n"]))),iA=fr.hr(eA||(eA=be(["\n    width: ",";\n    height: 0px;\n    border-width: 0.8px;\n    border-style: dashed;\n    border-color: #121212;\n"])),(e=>e.width)),sA=fr.div(tA||(tA=be(["\n    width: 4px;\n    height: 4px;\n    background-color: #121212;\n    border-radius: 100%;\n"])));const oA=function(e){const{lineWidth:t}=e;return(0,nA.jsxs)(rA,{children:[(0,nA.jsx)(sA,{}),(0,nA.jsx)(iA,{width:t.code}),(0,nA.jsx)(sA,{})]})};var aA,lA;const cA=fr.button(aA||(aA=be(["\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 4px;\n\n    outline: none;\n    border: 1px solid transparent;\n    box-shadow: none;\n    padding: 10px 24px;\n    border-radius: 100px;\n\n    background-color: #561EF4;\n    color: #ffffff;\n\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 100%;\n    letter-spacing: 0.02em;\n    \n    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n\n    &:hover {\n        background: transparent;\n        color: #561EF4;\n        border: 1px solid #561EF4;\n\n        svg path {\n            fill: #561EF4;\n        }\n    }\n\n    &:active {\n        background-color: #EFEDFF;\n    }\n\n    svg path {\n        transition: fill 0.3s ease;\n        fill: white;\n    }\n"]))),uA=fr(cA)(lA||(lA=be(["\n    background: transparent;\n    color: #561EF4;\n    border: 1px solid #561EF4;\n\n    &:hover{\n        background: #FF3D3D;\n        color: #FFFFFF;\n        border: 1px solid #FF3D3D;\n    }\n"])));const hA=function(e){const{title:t,onClick:n,customStyle:r,children:i}=e;return"Secondary"===r?(0,nA.jsx)(uA,{onClick:n,children:t||"Button"}):(0,nA.jsxs)(cA,{onClick:n,children:[t||"Button",i]})};var dA;const fA=fr.button(dA||(dA=be(["\n    padding: 0px;\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n\n    border: none;\n\n    transition: box-shadow 0.3s ease;\n\n    &:hover {\n        box-shadow: 0px 0px 4px 0.5px #00CC83;\n    }\n"])));const pA=function(e){const{onClick:t,imagePath:n,altText:r}=e;return(0,nA.jsx)(fA,{onClick:t,children:(0,nA.jsx)("img",{src:n,alt:r||"ButtonCircular",style:{width:"100%",height:"100%"}})})};var mA,gA,vA,yA;const wA=fr.header(mA||(mA=be(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    width: 100%;\n    height: 40px;\n    \n    margin: 40px 0px 40px 0px;\n"]))),_A=fr.div(gA||(gA=be(["\n    display: flex;\n    gap: 8px;\n    cursor: pointer;\n\n    > :nth-child(1) {\n        font-weight: 700;\n    }\n\n    > :nth-child(2) {\n        font-weight: 600;\n    }\n\n"]))),bA=fr.div(vA||(vA=be(["\nmargin-bottom: 16px;\n            \nfont-size: 24px;\nline-height: 100%;\nletter-spacing: ",";\n\ncolor: ",";\n\n-webkit-text-stroke: ",";\n"])),(e=>e.spacing),(e=>e.color),(e=>e.stroke)),EA=fr.div(yA||(yA=be(["\n    display: flex;\n    align-items: center;\n\n    gap: 10px;\n"])));const SA=function(e){const t=ee();return(0,nA.jsxs)(wA,{children:[(0,nA.jsxs)("div",{children:[(0,nA.jsxs)(_A,{onClick:()=>{t("/")},children:[(0,nA.jsx)(bA,{spacing:"0.02em",color:"#E1E0DE",stroke:"0.8px #353535",children:"SuheonChoi"}),(0,nA.jsx)(bA,{spacing:"0",color:"#561EF4",stroke:"0px #353535",children:"Blog"})]}),(0,nA.jsx)(oA,{lineWidth:{code:"400px"}})]}),(0,nA.jsxs)(EA,{children:[(0,nA.jsx)(hA,{title:"New Post",onClick:()=>{t("/write")}}),(0,nA.jsx)(pA,{onClick:()=>{alert("\ucf54\uba58\ud2b8 \ud655\uc778\ud558\uae30")},imagePath:"/-240505_Side_Personal-Miniblog_Website/resource/ChatButton.png",altText:"ChatButton"}),(0,nA.jsx)(pA,{onClick:()=>{alert("\ud504\ub85c\ud544 \ud655\uc778\ud558\uae30")},imagePath:"/-240505_Side_Personal-Miniblog_Website/resource/ProfileButton.png",altText:"ProfileButton"})]})]})};var IA;const TA=fr.div(IA||(IA=be(["\n    font-size: ",";\n    font-weight: 600;\n    line-height: 100%;\n    color: #561EF4;\n"])),(e=>e.size||"48px"));const kA=function(e){return(0,nA.jsx)(TA,{size:e.size,children:e.title})};var CA,xA,AA,PA,RA,NA;const DA=fr.div(CA||(CA=be(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 28px;\n    \n    margin: 36px 0px 36px 0px;\n"]))),OA=fr.img(xA||(xA=be(["\n    width: 546px;\n    height: 320px;\n    border-radius: 24px;\n    overflow: hidden;\n"]))),LA=fr.div(AA||(AA=be(["\n    display: block;\n"]))),MA=fr.div(PA||(PA=be(["\n        width: 403px;\n        height: 32px;\n        overflow: hidden;\n\n        white-space: nowrap;\n        text-overflow: ellipsis; \n       \n        margin-bottom: 20px;\n        \n        font-size: 32px;\n        font-weight: 700;\n        line-height: 100%;\n\n        color: #353535;\n    "]))),FA=fr.div(RA||(RA=be(["\n            display: -webkit-box;\n            width: 546px;\n            height: 216px;\n            overflow: hidden;\n\n            margin-bottom: 12px;\n\n            font-size: 20px;\n            font-weight: 500;\n            line-height: 1.8;\n\n            color: #595959;\n\n            word-break: break-all;\n            -webkit-line-clamp: 6;\n            -webkit-box-orient: vertical\n        "]))),UA=fr.div(NA||(NA=be(["\n            width: 100%;\n\n\n            font-size: 12px;\n            font-weight: 600;\n            line-height: 100%;\n            text-align: right;\n\n            color: #561EF4;\n        "])));const VA=function(e){const{post:t,onClick:n}=e;return(0,nA.jsxs)(DA,{onClick:n,children:[(0,nA.jsx)(OA,{src:t.imageUrl}),(0,nA.jsxs)(LA,{children:[(0,nA.jsx)(MA,{children:t.title}),(0,nA.jsx)(FA,{children:t.content}),(0,nA.jsx)(UA,{children:t.date})]})]})};var BA;const jA=fr.div(BA||(BA=be(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    margin: 100px 0px 80px 0px;\n"])));const zA=function(e){const{posts:t,onClickItem:n}=e,r=t[0];return(0,nA.jsxs)(jA,{children:[(0,nA.jsx)(kA,{title:"Latest Post"}),r&&(0,nA.jsx)(VA,{post:r,onClick:()=>n(r)},r.id),(0,nA.jsx)(oA,{lineWidth:{code:"100%"}})]})};function qA(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var KA,HA,GA,WA,QA,YA,$A=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JA=qA((function(e){return $A.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));const XA=fr.div(KA||(KA=be(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 28px;\n\n    margin: 12px 0px 36px 0px;\n"]))),ZA=fr.img(HA||(HA=be(["\n    width: 402px;\n    height: 236px;\n    border-radius: 16px;\n    overflow: hidden;\n"]))),eP=fr.div(GA||(GA=be(["\n    display: block;\n"]))),tP=fr.div(WA||(WA=be(["\n        width: 403px;\n        height: 24px;\n        overflow: hidden;\n\n        white-space: nowrap;\n        text-overflow: ellipsis; \n       \n        margin-bottom: 20px;\n        \n        font-size: 24px;\n        font-weight: 700;\n        line-height: 100%;\n\n        color: #353535;\n    "]))),nP=fr.div(QA||(QA=be(["\n            display: -webkit-box;\n            width: 690px;\n            height: 70px;\n            overflow: hidden;\n\n            margin-bottom: 20px;\n\n            font-size: 18px;\n            font-weight: 500;\n            line-height: 1.8;\n\n            color: #595959;\n\n            word-break: break-all;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical\n        "]))),rP=fr.div(YA||(YA=be(["\n            width: 100%;\n\n            font-size: 12px;\n            font-weight: 600;\n            line-height: 100%;\n            text-align: left;\n\n            color: #561EF4;\n        "])));const iP=function(e){const{post:t,onClick:n,style:r}=e;return(0,nA.jsxs)(XA,{onClick:n,style:r,children:[(0,nA.jsxs)(eP,{children:[(0,nA.jsx)(tP,{children:t.title}),(0,nA.jsx)(nP,{children:t.content}),(0,nA.jsx)(rP,{children:t.date})]}),(0,nA.jsx)(ZA,{src:t.imageUrl})]})};var sP,oP,aP;const lP=fr.div(sP||(sP=be(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]))),cP=fr.div(oP||(oP=be(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    visibility: ",";\n   \n    & > *:first-child {\n        width: 103px;\n        margin: -350px auto -50px auto;\n    }\n"])),(e=>e.show?"visible":"hidden")),uP=fr.div(aP||(aP=be(["\n    display: inline-block;\n    width: 100%;\n    height: 335px;\n    margin-top: 80px;\n    background: linear-gradient(to bottom, rgba(225, 224, 222, 0.6), rgba(225, 224, 222, 1));\n"])));const hP=function(e){const{posts:t,onClickItem:n}=e,[i,s]=(0,r.useState)(!1),o=i?t.slice(1):t.slice(1,7);return(0,nA.jsx)(Yn,{shouldForwardProp:e=>JA(e)&&"show"!==e,children:(0,nA.jsxs)(lP,{children:[(0,nA.jsx)(kA,{size:"40px",title:"All post"}),o.map(((e,t)=>(0,nA.jsx)(iP,{post:e,onClick:()=>n(e),style:{marginBottom:i?"36px":4===t?"116px":"36px"}},e.id))),(0,nA.jsxs)(cP,{show:!i,children:[(0,nA.jsx)(hA,{title:"More",onClick:()=>{s(!i)},children:(0,nA.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,nA.jsx)("path",{d:"M3.7958 5.29006C3.88876 5.19633 3.99936 5.12194 4.12122 5.07117C4.24308 5.0204 4.37379 4.99426 4.5058 4.99426C4.63781 4.99426 4.76851 5.0204 4.89037 5.07117C5.01223 5.12194 5.12283 5.19633 5.2158 5.29006L8.5058 8.59006L11.7958 5.29006C11.9841 5.10176 12.2395 4.99597 12.5058 4.99597C12.7721 4.99597 13.0275 5.10176 13.2158 5.29006C13.4041 5.47836 13.5099 5.73376 13.5099 6.00006C13.5099 6.13192 13.4839 6.26249 13.4335 6.38431C13.383 6.50613 13.309 6.61682 13.2158 6.71006L9.2158 10.7101C9.12283 10.8038 9.01223 10.8782 8.89037 10.929C8.76851 10.9797 8.63781 11.0059 8.5058 11.0059C8.37378 11.0059 8.24308 10.9797 8.12122 10.929C7.99936 10.8782 7.88876 10.8038 7.7958 10.7101L3.7958 6.71006C3.70207 6.6171 3.62767 6.5065 3.5769 6.38464C3.52614 6.26278 3.5 6.13207 3.5 6.00006C3.5 5.86805 3.52614 5.73734 3.5769 5.61548C3.62767 5.49362 3.70207 5.38302 3.7958 5.29006Z",fill:"white"})})}),!i&&(0,nA.jsx)(uP,{})]})]})})};var dP;const fP=fr.div(dP||(dP=be(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"])));const pP=function(e){const t=ee(),[n,i]=(0,r.useState)([]);function s(e){if(Array.isArray(e))return e.map((e=>s(e)));if(e&&"object"===typeof e){if(e.seconds&&e.nanoseconds)return function(e){const t=e.toDate(),n=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2);return[n,r,i].join(". ")}(e);for(const t in e)e[t]=s(e[t])}return e}return(0,r.useEffect)((()=>{Jx.collection("post").orderBy("date","desc").get().then((e=>{let t=[];e.forEach((e=>{let n=e.data();n=s(n),t.push(n)})),i(t)}))}),[]),(0,nA.jsxs)(fP,{children:[(0,nA.jsx)(SA,{}),(0,nA.jsx)(zA,{posts:n,onClickItem:e=>{t("/post/"+e.id)}}),(0,nA.jsx)(hP,{posts:n,onClickItem:e=>{t("/post/"+e.id)}})]})};var mP;const gP=fr.textarea(mP||(mP=be(["\n    width: calc(100% - 2 * 16px);\n    height: ","px;\n    color: #121212;\n    padding: 10px 16px 10px 16px;\n    border: solid 0.8px #353535;\n    border-radius: 8px;\n    background-color: #E1E0DE;\n    \n    font-size: 16px;\n    line-height: 1.4;\n\n    outline-style: none;\n    resize: none;\n"])),(e=>e.height));const vP=function(e){const{height:t,value:n,onChange:r,placeholder:i}=e;return(0,nA.jsx)(gP,{height:t||120,value:n,onChange:r,placeholder:i})};var yP,wP,_P,bP,EP;const SP=fr.div(yP||(yP=be(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]))),IP=fr.div(wP||(wP=be(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 16px;\n    margin: 60px 0px 100px 0px;\n\n    & > *:last-child {\n        margin-top: 14px;\n    }\n"]))),TP=fr.input(_P||(_P=be(["\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n"]))),kP=fr.label(bP||(bP=be(["\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 4px;\n\n        width: 100%;\n        height: 240px;\n\n        font-size: 16px;\n        text-align: center;\n        line-height: 240px;\n\n        border: 0.8px solid #353535;\n        border-radius: 8px;\n        outline: none;\n        \n        color: #595959;\n\n        background-color: ",";\n        background-image: url(",");\n\n        background-size: cover;\n        background-position: center;\n    "])),(e=>e.$imageUrl?"transparent":"#E1E0DE"),(e=>e.$imageUrl)),CP=fr.div(EP||(EP=be(["\n    width: 100%;\n\n    display: flex;\n    justify-content: flex-end;\n    gap: 28px;\n"])));const xP=function(e){const[t,n]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),d=ee();return(0,nA.jsxs)(SP,{children:[(0,nA.jsx)(SA,{}),(0,nA.jsxs)(IP,{children:[(0,nA.jsx)(vP,{height:16,value:t,onChange:e=>n(e.target.value),placeholder:"Title"}),(0,nA.jsx)(TP,{type:"file",id:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}else h("");a(t)}}),(0,nA.jsx)(kP,{htmlFor:"file",$imageUrl:u,children:!u&&(0,nA.jsxs)(nA.Fragment,{children:[" Select cover image",(0,nA.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,nA.jsx)("path",{d:"M17 9.07921C16.9953 10.1773 16.5493 11.2293 15.7589 12.0072L12.1418 15.4845C12.0115 15.5998 11.8422 15.6637 11.6667 15.6637C11.4911 15.6637 11.3218 15.5998 11.1915 15.4845C11.0719 15.3563 11.0055 15.1888 11.0055 15.0151C11.0055 14.8413 11.0719 14.6738 11.1915 14.5456L14.8085 11.0683C15.0772 10.8048 15.2904 10.492 15.4358 10.1477C15.5812 9.80344 15.656 9.43446 15.656 9.06183C15.656 8.6892 15.5812 8.32022 15.4358 7.97595C15.2904 7.63169 15.0772 7.31888 14.8085 7.05539C14.5392 6.79093 14.2192 6.58138 13.8669 6.43883C13.5146 6.29628 13.137 6.22356 12.7559 6.22485C12.3748 6.22614 11.9977 6.30143 11.6464 6.44637C11.2952 6.5913 10.9766 6.80302 10.7092 7.0693L4.84397 12.8348C4.6731 12.9866 4.53547 13.1709 4.43942 13.3764C4.34338 13.582 4.29093 13.8045 4.28526 14.0306C4.27958 14.2566 4.3208 14.4814 4.40641 14.6914C4.49202 14.9013 4.62024 15.092 4.78328 15.2519C4.94633 15.4118 5.1408 15.5375 5.3549 15.6215C5.56899 15.7054 5.79825 15.7459 6.02876 15.7403C6.25927 15.7347 6.48623 15.6833 6.69585 15.5891C6.90548 15.4949 7.0934 15.36 7.24823 15.1924L8.92199 13.5581L13.1277 9.42695C13.1751 9.38186 13.2128 9.3278 13.2384 9.26803C13.264 9.20827 13.277 9.14404 13.2766 9.07921C13.2773 9.01228 13.2645 8.94587 13.239 8.88381C13.2134 8.82174 13.1756 8.76525 13.1277 8.71757C13.0304 8.6256 12.9011 8.57339 12.766 8.57152C12.6988 8.57097 12.6322 8.58361 12.5701 8.6087C12.5079 8.63378 12.4516 8.6708 12.4043 8.71757L9.46808 11.6038L6.94326 14.0657C6.81294 14.1811 6.64363 14.2449 6.46808 14.2449C6.29254 14.2449 6.12323 14.1811 5.99291 14.0657C5.93093 14.005 5.88177 13.9329 5.84823 13.8536C5.81468 13.7742 5.79742 13.6892 5.79742 13.6033C5.79742 13.5174 5.81468 13.4323 5.84823 13.3529C5.88177 13.2736 5.93093 13.2015 5.99291 13.1408L10.1773 9.03749L11.4184 7.79259C11.6801 7.53866 12.0125 7.36634 12.3739 7.29731C12.7352 7.22829 13.1093 7.26566 13.449 7.40471C13.7887 7.54377 14.0789 7.77829 14.2829 8.07874C14.487 8.37919 14.5958 8.73213 14.5957 9.09312C14.5963 9.33135 14.5482 9.56727 14.4545 9.78703C14.3607 10.0068 14.223 10.2059 14.0496 10.3728L8.20567 16.1243C7.78089 16.5408 7.24016 16.825 6.65131 16.9412C6.06246 17.0574 5.45172 17.0006 4.89571 16.7777C4.3397 16.5549 3.86318 16.176 3.52593 15.6885C3.18868 15.2011 3.00572 14.6269 3 14.0379C3.00918 13.2548 3.32983 12.5062 3.89362 11.9515L9.76596 6.19301C10.362 5.61999 11.1168 5.23155 11.9363 5.07602C12.7558 4.92049 13.6039 5.00475 14.3749 5.31831C15.146 5.63187 15.806 6.16088 16.2727 6.83949C16.7395 7.5181 16.9924 8.31634 17 9.13485V9.07921Z",fill:"#595959"})})," "]})}),(0,nA.jsx)(vP,{height:600,value:i,onChange:e=>s(e.target.value),placeholder:"Edit..."}),(0,nA.jsxs)(CP,{children:[(0,nA.jsx)(hA,{title:"Cancel",onClick:()=>d("/"),customStyle:"Secondary"}),(0,nA.jsx)(hA,{title:l?"Uploading..":"Publish",onClick:async()=>{if(l)return;if(c(!0),!t||!i)return alert("\uc81c\ubaa9 \ub610\ub294 \uae00\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694!"),void c(!1);let e="/-240505_Side_Personal-Miniblog_Website/resource/noimage.png";const n=(new Date).getTime().toString();if(o){const t=Xx.ref("images/".concat(n,"_").concat(o.name));try{const n=await t.put(o);e=await n.ref.getDownloadURL()}catch(r){alert("\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc624\ub958!")}}try{await Jx.collection("post").doc(n).set({id:n,title:t,content:i,imageUrl:e,date:new Date,comments:[]}),d("/")}catch(r){}c(!1)},disabled:l})]})]})]})};var AP,PP,RP,NP,DP,OP;const LP=fr.div(AP||(AP=be(["\n    width: 100%;\n    margin-bottom: 20px;\n"]))),MP=fr.div(PP||(PP=be(["\n        width: 100%;\n        margin-bottom: 8px;\n\n        font-size: 16px;\n        font-weight: 600;\n        line-height: 1;\n\n        color: #595959;\n    "]))),FP=fr.div(RP||(RP=be(["\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        margin-bottom: 10px;\n\n    "]))),UP=fr.div(NP||(NP=be(["\n            width: 834px;\n            font-size: 14px;\n            font-weight: 400;\n            line-height: 1.4;\n\n            color: #595959;\n        "]))),VP=fr.div(DP||(DP=be(["\n            width: 120px;\n            font-size: 14px;\n            font-weight: 500;\n            line-height: 1;\n            text-align: right;\n\n            color: #561EF4;\n        "]))),BP=fr.div(OP||(OP=be(["\n            width: 100%;\n            height: 0.8px;\n\n            background-color: #B7B7B7;\n        "])));const jP=function(e){const{comment:t}=e,n=t.comdate.split(" ")[0];return(0,nA.jsxs)(LP,{children:[(0,nA.jsx)(MP,{children:t.name}),(0,nA.jsxs)(FP,{children:[(0,nA.jsx)(UP,{children:t.content}),(0,nA.jsx)(VP,{children:n})]}),(0,nA.jsx)(BP,{})]})};var zP;const qP=fr.div(zP||(zP=be(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 120px;\n\n"])));const KP=function(e){const{comments:t}=e;return(0,nA.jsx)(qP,{children:t.map(((e,t)=>(0,nA.jsx)(jP,{comment:e},e.id)))})};var HP,GP,WP,QP,YP,$P,JP,XP,ZP;const eR=fr.div(HP||(HP=be(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 80px;\n"]))),tR=fr.div(GP||(GP=be(["\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n\n        margin-top: -20px;\n    "]))),nR=fr.div(WP||(WP=be(["\n            width: 100%;\n            margin-bottom: 36px;\n\n            font-size: 48px;\n            font-weight: 700;\n            line-height: 100%;\n\n            color: #561EF4;\n        "]))),rR=fr.img(QP||(QP=be(["\n            width: 100%;\n            height: 320px;\n            object-fit: cover;\n            margin-bottom: 36px;\n\n            border-radius: 32px;\n            overflow: hidden;\n        "]))),iR=fr.div(YP||(YP=be(["\n            width: 100%;\n            margin-top: 40px;\n            margin-bottom: 36px;\n\n            font-size: 28px;\n            font-weight: 500;\n            line-height: 1.8;\n\n            color: #3b3b3b;\n        "]))),sR=fr.div($P||($P=be(["\n            width: 100%;\n\n            font-size: 16px;\n            font-weight: 600;\n            line-height: 100%;\n\n            color: #561EF4;\n        "]))),oR=fr.div(JP||(JP=be(["\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n   \n\n        & > :nth-child(2) {\n            margin-bottom: 24px;\n        }\n        & > :nth-child(3) {\n            width: 258px;\n            margin-bottom: 12px;\n\n        }\n        & > :nth-child(4) {\n            margin-bottom: 24px;\n        }\n        & > :nth-child(5) {\n            width: 94px;\n            margin-left: calc(100% - 94px);\n            margin-bottom: 40px;\n      \n        }\n    "]))),aR=fr.div(XP||(XP=be(["\n            width: 8px;\n            height: 8px;\n            background-color: #561EF4;\n            border-radius: 100%;\n        "]))),lR=fr.div(ZP||(ZP=be(["\n            width: 100%;\n            display: flex;\n            align-items: center;\n            gap: 16px;\n\n            margin-bottom: 12px;\n\n            font-size: 20px;\n            font-weight: 400;\n\n            & > :nth-child(2) {\n                font-size: 20px;\n                font-weight: 700;\n                color: #561EF4;\n\n                margin-left: -8px;\n\n            }\n        "])));const cR=function(e){const t=function(){let{matches:e}=r.useContext(Y),t=e[e.length-1];return t?t.params:{}}().id,[n,i]=(0,r.useState)({id:0,title:"",content:"",date:"",comments:[],imageUrl:""}),s=(0,r.useCallback)((e=>{const t=e.toDate(),n=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2);return"".concat(n,".").concat(r,".").concat(i)}),[]),o=(0,r.useCallback)((e=>{if(Array.isArray(e))return e.map((e=>o(e)));if(e&&"object"===typeof e){if(e.seconds&&e.nanoseconds)return s(e);{const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}}return e}),[s]);(0,r.useEffect)((()=>{Jx.collection("post").doc(t).get().then((e=>{const t=e.data(),n=o(t);n.comments&&n.comments.sort(((e,t)=>t.comdate.localeCompare(e.comdate))),i(n)}))}),[t,o]);const[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)("");return(0,nA.jsxs)(eR,{children:[(0,nA.jsx)(SA,{}),(0,nA.jsxs)(tR,{children:[(0,nA.jsxs)(nR,{children:[" ",n.title]}),(0,nA.jsx)(rR,{src:n.imageUrl}),(0,nA.jsx)(oA,{lineWidth:{code:"400px"}}),(0,nA.jsx)(iR,{children:n.content}),(0,nA.jsx)(sR,{children:n.date})]}),(0,nA.jsxs)(oR,{children:[(0,nA.jsxs)(lR,{children:[(0,nA.jsx)(aR,{}),"Comment ",(0,nA.jsx)("span",{children:n.comments.length})]}),(0,nA.jsx)(oA,{lineWidth:{code:"1111px"}}),(0,nA.jsx)(vP,{height:24,value:c,onChange:function(e){u(e.target.value)},placeholder:"Nickname"}),(0,nA.jsx)(vP,{height:120,value:a,onChange:function(e){l(e.target.value)},placeholder:"Comment"}),(0,nA.jsx)(hA,{title:"Save",onClick:function(){if(!c.trim()||!a.trim())return void alert("\ub2c9\ub124\uc784\uacfc \ucf54\uba58\ud2b8\ub97c \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694.");let e=new Date;let r=function(e){const t=new Date(e),n=t.getFullYear(),r=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),s=("0"+t.getHours()).slice(-2),o=("0"+t.getMinutes()).slice(-2),a=("0"+t.getSeconds()).slice(-2);return"".concat(n,".").concat(r,".").concat(i," ").concat(s,":").concat(o,":").concat(a)}(e),s={id:t+"_"+e,name:c,content:a,comdate:r},o=[...n.comments,s];o.sort(((e,t)=>t.comdate.localeCompare(e.comdate))),Jx.collection("post").doc(t).update({comments:o}).then((function(){i({...n,comments:o}),u(""),l("")}))}}),(0,nA.jsx)(KP,{comments:n.comments})]})]})};s.createRoot(document.getElementById("root")).render((0,nA.jsx)(ye,{basename:"/-240505_Side_Personal-Miniblog_Website",children:(0,nA.jsxs)(me,{children:[(0,nA.jsx)(fe,{index:!0,element:(0,nA.jsx)(pP,{})}),(0,nA.jsx)(fe,{path:"write",element:(0,nA.jsx)(xP,{})}),(0,nA.jsx)(fe,{path:"post/:id",element:(0,nA.jsx)(cR,{})})]})}))})()})();
//# sourceMappingURL=main.fa276fcd.js.map